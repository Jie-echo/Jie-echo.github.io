<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2024/09/05/%E6%97%A0%E7%95%8C%E5%BE%AE%E5%89%8D%E7%AB%AFminni%E7%89%88%E6%9C%AC%E5%AE%9E%E7%8E%B0/"/>
      <url>/2024/09/05/%E6%97%A0%E7%95%8C%E5%BE%AE%E5%89%8D%E7%AB%AFminni%E7%89%88%E6%9C%AC%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="æ— ç•Œå¾®å‰ç«¯ï¼šå¦‚ä½•ç®€å•å®ç°-JavaScript-å’Œ-CSS-çš„éš”ç¦»"><a href="#æ— ç•Œå¾®å‰ç«¯ï¼šå¦‚ä½•ç®€å•å®ç°-JavaScript-å’Œ-CSS-çš„éš”ç¦»" class="headerlink" title="æ— ç•Œå¾®å‰ç«¯ï¼šå¦‚ä½•ç®€å•å®ç° JavaScript å’Œ CSS çš„éš”ç¦»"></a>æ— ç•Œå¾®å‰ç«¯ï¼šå¦‚ä½•ç®€å•å®ç° JavaScript å’Œ CSS çš„éš”ç¦»</h1><p>é¢å¯¹å°†è¦æ¥å…¥ä¸‰æ–¹ç½‘ç«™çš„æ–¹æ¡ˆé€‰å‹ä¸Šï¼Œè°ƒç ”äº†ç›®å‰å·²æœ‰å¾®å‰ç«¯çš„æ¡†æ¶ï¼Œæœ€ç»ˆé€‰æ‹©äº†æ— ç•Œï¼›æ— ç•Œçš„æ€æƒ³ä¹Ÿéå¸¸ç‰›ï¼Œæ¥å…¥æ— ç•Œåï¼Œéœ€è¦å¯¹æ— ç•Œè¿™ä¸ªå¾®å‰ç«¯æ¡†æ¶ä¹Ÿéœ€è¦æ›´åŠ äº†è§£ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»æ— ç•Œçš„æºç å‰–æåŠmini-wujieå®ç°ã€‚</p><h2 id="å¾®å‰ç«¯"><a href="#å¾®å‰ç«¯" class="headerlink" title="å¾®å‰ç«¯"></a>å¾®å‰ç«¯</h2><p>Techniques, strategies and recipes for building aÂ <strong>modern web app</strong>Â withÂ <strong>multiple teams</strong>Â that canÂ <strong>ship features independently</strong>. â€“Â <a href="https://micro-frontends.org/">Micro Frontends</a></p><p>å¾®å‰ç«¯æ˜¯ä¸€ç§å¤šä¸ªå›¢é˜Ÿé€šè¿‡ç‹¬ç«‹å‘å¸ƒåŠŸèƒ½çš„æ–¹å¼æ¥å…±åŒæ„å»ºç°ä»£åŒ– web åº”ç”¨çš„æŠ€æœ¯æ‰‹æ®µåŠæ–¹æ³•ç­–ç•¥ã€‚</p><h3 id="å¾®å‰ç«¯ä¼˜åŠ¿"><a href="#å¾®å‰ç«¯ä¼˜åŠ¿" class="headerlink" title="å¾®å‰ç«¯ä¼˜åŠ¿"></a>å¾®å‰ç«¯ä¼˜åŠ¿</h3><p><a href="https://qiankun.umijs.org/zh/guide">qiankunä»‹ç»</a> â†’ å¾®å‰ç«¯æ¶æ„å…·å¤‡ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒä»·å€¼ï¼š</p><ul><li><p>æŠ€æœ¯æ ˆæ— å…³</p><p>  ä¸»æ¡†æ¶ä¸é™åˆ¶æ¥å…¥åº”ç”¨çš„æŠ€æœ¯æ ˆï¼Œå¾®åº”ç”¨å…·å¤‡å®Œå…¨è‡ªä¸»æƒ</p></li><li><p>ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²</p><p>  å¾®åº”ç”¨ä»“åº“ç‹¬ç«‹ï¼Œå‰åç«¯å¯ç‹¬ç«‹å¼€å‘ï¼Œéƒ¨ç½²å®Œæˆåä¸»æ¡†æ¶è‡ªåŠ¨å®ŒæˆåŒæ­¥æ›´æ–°</p></li><li><p>å¢é‡å‡çº§</p><p>  åœ¨é¢å¯¹å„ç§å¤æ‚åœºæ™¯æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å¾ˆéš¾å¯¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç³»ç»Ÿåšå…¨é‡çš„æŠ€æœ¯æ ˆå‡çº§æˆ–é‡æ„ï¼Œè€Œå¾®å‰ç«¯æ˜¯ä¸€ç§éå¸¸å¥½çš„å®æ–½æ¸è¿›å¼é‡æ„çš„æ‰‹æ®µå’Œç­–ç•¥</p></li><li><p>ç‹¬ç«‹è¿è¡Œæ—¶</p><p>  æ¯ä¸ªå¾®åº”ç”¨ä¹‹é—´çŠ¶æ€éš”ç¦»ï¼Œè¿è¡Œæ—¶çŠ¶æ€ä¸å…±äº«</p></li></ul><p>å¾®å‰ç«¯æ¶æ„æ—¨åœ¨è§£å†³å•ä½“åº”ç”¨åœ¨ä¸€ä¸ªç›¸å¯¹é•¿çš„æ—¶é—´è·¨åº¦ä¸‹ï¼Œç”±äºå‚ä¸çš„äººå‘˜ã€å›¢é˜Ÿçš„å¢å¤šã€å˜è¿ï¼Œä»ä¸€ä¸ªæ™®é€šåº”ç”¨æ¼”å˜æˆä¸€ä¸ªå·¨çŸ³åº”ç”¨(<a href="https://www.youtube.com/watch?v=pU1gXA0rfwc">Frontend Monolith</a>)åï¼Œéšä¹‹è€Œæ¥çš„åº”ç”¨ä¸å¯ç»´æŠ¤çš„é—®é¢˜ã€‚è¿™ç±»é—®é¢˜åœ¨ä¼ä¸šçº§ Web åº”ç”¨ä¸­å°¤å…¶å¸¸è§ã€‚</p><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ul><li>ä¸­å°é¡¹ç›®ï¼Œé›†æˆå·²æœ‰å…¶ä»–ç½‘ç«™åŠŸèƒ½ï¼Œè¿›è¡Œä¸‰æ–¹ç½‘ç«™çš„é›†æˆã€‚ï¼›</li><li>æ¯”å¦‚æœ‰ä¸€ä¸ªå·¨å¤§çš„åº”ç”¨ï¼Œä¸ºäº†é™ä½å¼€å‘å’Œç»´æŠ¤æˆæœ¬ï¼Œåˆ†æ‹†æˆå¤šä¸ªå°åº”ç”¨è¿›è¡Œå¼€å‘å’Œéƒ¨ç½²ï¼Œç„¶åç”¨ä¸€ä¸ªå¹³å°å°†è¿™äº›å°åº”ç”¨é›†æˆèµ·æ¥ï¼›</li><li>ç›®å‰æœ‰ä¸¤ä¸ªæŠ€æœ¯æ ˆä¸åŒçš„ç½‘ç«™ï¼Œç°å°†ä¸¤ä¸ªç½‘ç«™è¿›è¡Œä¸€ä¸ªæ•´åˆï¼›</li></ul><h3 id="å¾®å‰ç«¯æ–¹æ¡ˆ"><a href="#å¾®å‰ç«¯æ–¹æ¡ˆ" class="headerlink" title="å¾®å‰ç«¯æ–¹æ¡ˆ"></a>å¾®å‰ç«¯æ–¹æ¡ˆ</h3><p>ç°æœ‰å¾®å‰ç«¯æ–¹æ¡ˆä¹Ÿå‡ºç°äº†å¾ˆå¤šç§ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹å·²æœ‰å¾®å‰ç«¯æ–¹æ¡ˆï¼Œå¯¹å…¶ä¼˜ç¼ºç‚¹å¯è‡ªè¡ŒæŸ¥è¯¢ã€‚</p><ol><li><a href="https://wujie-micro.github.io/doc/guide/#iframe-">iframe</a></li><li><a href="https://zhuanlan.zhihu.com/p/414468874">qiankun</a> â†’ single-spa + <a href="https://link.zhihu.com/?target=https://www.npmjs.com/package/import-html-entry">import-html-entry</a></li><li><a href="https://juejin.cn/post/7143038795816910878">oppoæ“å¤©</a> â†’ postMessage+iframeæ–¹æ¡ˆ</li><li><a href="https://wujie-micro.github.io/doc/">æ— ç•Œ</a> â†’ WebComponent + iframe</li></ol><h2 id="æ— ç•Œå¾®å‰ç«¯"><a href="#æ— ç•Œå¾®å‰ç«¯" class="headerlink" title="æ— ç•Œå¾®å‰ç«¯"></a>æ— ç•Œå¾®å‰ç«¯</h2><p>éœ€è¦æ¥å…¥å¾®å‰ç«¯ï¼Œä¸»åº”ç”¨ä¸å­åº”ç”¨éƒ½éœ€è¦è¿›è¡Œæ”¹é€ ï¼Œä¸‹é¢å°†ä»‹ç»ä¸»å­åº”ç”¨çš„ä¸€ä¸ªæ”¹é€ æŒ‡å—ã€‚</p><p>æ— ç•Œç‰¹ç‚¹ï¼š</p><ul><li>é‡‡ç”¨webConponent + iframe</li><li>JSéš”ç¦»ã€CSSéš”ç¦»</li><li>å­åº”ç”¨ä¿æ´»</li><li>åº”ç”¨é—´é€šä¿¡</li></ul><h2 id="æ— ç•Œæºç å‰–æ"><a href="#æ— ç•Œæºç å‰–æ" class="headerlink" title="æ— ç•Œæºç å‰–æ"></a>æ— ç•Œæºç å‰–æ</h2><h3 id="æ— ç•ŒåŸç†å¯è§†åŒ–"><a href="#æ— ç•ŒåŸç†å¯è§†åŒ–" class="headerlink" title="æ— ç•ŒåŸç†å¯è§†åŒ–"></a>æ— ç•ŒåŸç†å¯è§†åŒ–</h3><p><a href="https://github.com/Tencent/wujie/blob/master/docs/guide/information.md">information.md</a>ä¸­æœ‰æ— ç•ŒåŸç†å›¾åŠè¿è¡Œå›¾ã€‚</p><p>è¿è¡Œæ—¶</p><p>å®ä¾‹åŒ–<a href="https://github.com/Tencent/wujie/blob/master/packages/wujie-core/src/index.ts#L260">WuJie</a>å…¥å£å¼€å§‹ï¼Œä¸»è¦åšäº†ä»¥ä¸‹äº‹æƒ…ï¼š</p><pre class="language-none"><code class="language-none">&#x2F;&#x2F; åˆ›å»ºæ²™ç®±const newSandbox &#x3D; new WuJie(&#123; name, url, attrs, degradeAttrs, fiber, degrade, plugins, lifecycles &#125;);newSandbox.lifecycles?.beforeLoad?.(newSandbox.iframe.contentWindow);&#x2F;&#x2F; html-entryconst &#123; template, getExternalScripts, getExternalStyleSheets &#125; &#x3D; await importHTML(&#123;  url,  html,  opts: &#123;    fetch: fetch || window.fetch,    plugins: newSandbox.plugins,    loadError: newSandbox.lifecycles.loadError,    fiber,  &#125;,&#125;);&#x2F;&#x2F; å¤„ç†cssloaderã€æ€§èƒ½ä¼˜åŒ– -&gt; å°†å¤–éƒ¨cssé“¾æ¥ è½¬ä¸º å†…è”æ ·å¼const processedHtml &#x3D; await processCssLoader(newSandbox, template, getExternalStyleSheets);&#x2F;&#x2F; åŒæ­¥è·¯ç”±ã€å‡†å¤‡shadowRootï¼Œå°†templateï¼ˆå«å†…è”æ ·å¼ï¼‰æ¸²æŸ“åˆ°shadowRootä¸Šawait newSandbox.active(&#123; url, sync, prefix, template: processedHtml, el, props, alive, fetch, replace &#125;);&#x2F;&#x2F; iframeæ’å…¥js å¹¶è¿è¡Œ insertScriptToIframeawait newSandbox.start(getExternalScripts);return newSandbox.destroy;</code></pre><h3 id="æ— ç•Œæ€æƒ³å®ç°"><a href="#æ— ç•Œæ€æƒ³å®ç°" class="headerlink" title="æ— ç•Œæ€æƒ³å®ç°"></a>æ— ç•Œæ€æƒ³å®ç°</h3><p><img src="/image.png" alt="image.png"></p><p>å¦‚ä¸Šå›¾å¯è§ï¼Œä¸Šè¿°ä¸»è¦åšäº†ä»¥ä¸‹äº‹æƒ…</p><ol><li>éœ€è¦ä¸€ä¸ªå®¹å™¨</li><li>è§£æurlï¼Œ è§£ææˆhtmlã€cssã€js</li><li>å°†htmlæ¨¡ç‰ˆå’Œcssæ”¾ç½®åœ¨shadowRootä¸­ â†’ è¿™æ ·å®ç°äº†csséš”ç¦»</li><li>åˆ›å»ºäº†iframeå®¹å™¨ç”¨äºå­˜æ”¾jsä»£ç ï¼Œjsæ‰§è¡Œä»£ç†åˆ°shadowRootä¸­</li><li>è·¯ç”±åŒæ­¥ &#x3D;&gt; iframeè‡ªèº«å°±æœ‰è‡ªå·±çš„è·¯ç”±ç³»ç»Ÿï¼Œè¿™é‡Œéœ€è¦å°†iframeçš„urlåŒæ­¥åˆ°windowä¸Šçš„url</li></ol><h3 id="å®ç°æ•ˆæœå›¾ï¼š"><a href="#å®ç°æ•ˆæœå›¾ï¼š" class="headerlink" title="å®ç°æ•ˆæœå›¾ï¼š"></a>å®ç°æ•ˆæœå›¾ï¼š</h3><h3 id="æ ·å¼éš”ç¦»ï¼š"><a href="#æ ·å¼éš”ç¦»ï¼š" class="headerlink" title="æ ·å¼éš”ç¦»ï¼š"></a>æ ·å¼éš”ç¦»ï¼š</h3><p><img src="/image%201.png" alt="image.png"></p><h3 id="jséš”ç¦»ï¼š"><a href="#jséš”ç¦»ï¼š" class="headerlink" title="jséš”ç¦»ï¼š"></a>jséš”ç¦»ï¼š</h3><p><img src="/image%202.png" alt="image.png"></p><h3 id="documentä»£ç†"><a href="#documentä»£ç†" class="headerlink" title="documentä»£ç†"></a>documentä»£ç†</h3><p><img src="/image%203.png" alt="image.png"></p><h3 id="mini-wujieå®ç°"><a href="#mini-wujieå®ç°" class="headerlink" title="mini-wujieå®ç°"></a>mini-wujieå®ç°</h3><p>æ ¹æ®ä»¥ä¸‹æ­¥éª¤è¿›è¡Œå®ç°ï¼Œå…¶æ–¹é¢å‘½åå‡é‡‡ç”¨wujieæºç æ–¹æ³•ï¼Œæ›´å®¹æ˜“ç†è§£ã€‚</p><ol><li>åˆ›å»ºæ²™ç®±</li><li>åˆ›å»ºshadowDOM</li><li>å°†htmlã€cssæ”¾å…¥shadowDOM</li><li>æ²™ç®±æ‰§è¡Œjs (proxy documentç­‰)</li></ol><p>å®ç°ï¼š<br>åœ°å€: -&gt; </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å†…åµŒç¤¾åª’ä¿¡æ¯</title>
      <link href="/2024/04/14/%E5%86%85%E5%B5%8C%E7%A4%BE%E5%AA%92%E8%B0%83%E7%A0%94/"/>
      <url>/2024/04/14/%E5%86%85%E5%B5%8C%E7%A4%BE%E5%AA%92%E8%B0%83%E7%A0%94/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"><h1 id="å†…åµŒç¤¾åª’æ–¹æ¡ˆ"><a href="#å†…åµŒç¤¾åª’æ–¹æ¡ˆ" class="headerlink" title="å†…åµŒç¤¾åª’æ–¹æ¡ˆ"></a>å†…åµŒç¤¾åª’æ–¹æ¡ˆ</h1><h3 id="æ–¹æ¡ˆä¸€ï¼šé‡‡ç”¨å„ä¸ªç¤¾åŒºæä¾›çš„sdkè¿›è¡Œæ¸²æŸ“"><a href="#æ–¹æ¡ˆä¸€ï¼šé‡‡ç”¨å„ä¸ªç¤¾åŒºæä¾›çš„sdkè¿›è¡Œæ¸²æŸ“" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼šé‡‡ç”¨å„ä¸ªç¤¾åŒºæä¾›çš„sdkè¿›è¡Œæ¸²æŸ“"></a>æ–¹æ¡ˆä¸€ï¼šé‡‡ç”¨å„ä¸ªç¤¾åŒºæä¾›çš„sdkè¿›è¡Œæ¸²æŸ“</h3><p>å¯¹äºå†…åµŒ YouTubeã€TikTokã€Facebook å’Œ Instagram ç­‰ç¤¾äº¤åª’ä½“å†…å®¹ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨å®ƒä»¬å„è‡ªçš„ SDK æˆ– API æ¥è·å–åª’ä½“å†…å®¹ï¼Œå¹¶åœ¨ç½‘é¡µä¸­è¿›è¡Œå±•ç¤ºã€‚</p><ol><li><a href="https://developers.google.com/youtube/iframe_api_reference?hl=zh-cn">YouTube</a></li><li><a href="https://developers.tiktok.com/doc/embed-videos/">TikTok</a></li><li><a href="https://developers.facebook.com/docs/plugins/embedded-posts">Facebook</a></li><li><a href="https://developers.facebook.com/docs/plugins/embedded-posts">instagram</a></li></ol><p>Demoå®ç°</p><p>YouTubeã€TikTokã€Facebookã€Instagramæ¡ˆä¾‹ç®€å•Demoå®ç°</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">&lt;!DOCTYPE html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt;    &lt;head&gt;    &lt;meta charset&#x3D;&quot;UTF-8&quot; &#x2F;&gt;    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot; &#x2F;&gt;    &lt;title&gt;Embedded Social Media Content&lt;&#x2F;title&gt;    &lt;&#x2F;head&gt;    &lt;body&gt;    &lt;ul&gt;        &lt;li&gt;        &lt;div&gt;            &lt;div&gt;youtube æ¡ˆä¾‹&lt;&#x2F;div&gt;            &lt;div id&#x3D;&quot;youtube-player&quot;&gt;&lt;&#x2F;div&gt;        &lt;&#x2F;div&gt;        &lt;&#x2F;li&gt;        &lt;li&gt;        &lt;div&gt;            &lt;div&gt;tiktok æ¡ˆä¾‹&lt;&#x2F;div&gt;            &lt;blockquote            class&#x3D;&quot;tiktok-embed&quot;            cite&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;@zachking&#x2F;video&#x2F;6749520869598481669&quot;            data-video-id&#x3D;&quot;6749520869598481669&quot;            data-embed-from&#x3D;&quot;oembed&quot;            style&#x3D;&quot;max-width: 605px; min-width: 325px&quot;            &gt;            &lt;section&gt;                &lt;a target&#x3D;&quot;_blank&quot; title&#x3D;&quot;@zachking&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;@zachking?refer&#x3D;embed&quot;&gt;@zachking&lt;&#x2F;a&gt;                &lt;p&gt;                Do you see the glass as half full or half empty??                &lt;a title&#x3D;&quot;perspective&quot; target&#x3D;&quot;_blank&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;tag&#x2F;perspective?refer&#x3D;embed&quot;                    &gt;#perspective&lt;&#x2F;a                &gt;                &lt;a title&#x3D;&quot;magic&quot; target&#x3D;&quot;_blank&quot; href&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;tag&#x2F;magic?refer&#x3D;embed&quot;&gt;#magic&lt;&#x2F;a&gt;                &lt;&#x2F;p&gt;                &lt;a                target&#x3D;&quot;_blank&quot;                title&#x3D;&quot;â™¬ Glass Half Full Zach King - Zach King&quot;                href&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;music&#x2F;Glass-Half-Full-Zach-King-6749517306881248005?refer&#x3D;embed&quot;                &gt;â™¬ Glass Half Full Zach King - Zach King&lt;&#x2F;a                &gt;            &lt;&#x2F;section&gt;            &lt;&#x2F;blockquote&gt;        &lt;&#x2F;div&gt;        &lt;&#x2F;li&gt;        &lt;li&gt;        &lt;div&gt;facebook æ¡ˆä¾‹&lt;&#x2F;div&gt;        &lt;!-- å†…å®¹ä¸ä¸€æ · ç±»åä¸ä¸€æ · ä¾‹å¦‚å¸–å­ä½¿ç”¨postï¼› ç›¸å†Œä½¿ç”¨albumç­‰ --&gt;        &lt;div class&#x3D;&quot;fb-post&quot; data-href&#x3D;&quot;https:&#x2F;&#x2F;www.facebook.com&#x2F;facebook&#x2F;posts&#x2F;575327262637013&quot;&gt;&lt;&#x2F;div&gt;        &lt;&#x2F;li&gt;        &lt;li&gt;        &lt;div&gt;instagram æ¡ˆä¾‹&lt;&#x2F;div&gt;        &lt;blockquote class&#x3D;&quot;instagram-media&quot; data-instgrm-permalink&#x3D;&quot;https:&#x2F;&#x2F;www.instagram.com&#x2F;p&#x2F;C5aS3CbrsYe&#x2F;&quot;&gt;&lt;&#x2F;blockquote&gt;        &lt;&#x2F;li&gt;    &lt;&#x2F;ul&gt;    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;iframe_api&quot;&gt;&lt;&#x2F;script&gt;    &lt;script&gt;        function onYouTubeIframeAPIReady() &#123;        const player &#x3D; new YT.Player(&#39;youtube-player&#39;, &#123;            height: &#39;360&#39;,            width: &#39;640&#39;,            videoId: &#39;rGmoljGmKPI&#39;,        &#125;);        &#125;    &lt;&#x2F;script&gt;    &lt;script async src&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;embed.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;script async defer crossorigin&#x3D;&quot;anonymous&quot; src&#x3D;&quot;https:&#x2F;&#x2F;connect.facebook.net&#x2F;en_US&#x2F;sdk.js#xfbml&#x3D;1&amp;version&#x3D;v19.0&quot;&gt;&lt;&#x2F;script&gt;    &lt;script async src&#x3D;&quot;https:&#x2F;&#x2F;www.instagram.com&#x2F;static&#x2F;bundles&#x2F;metro&#x2F;EmbedSDK.js&#x2F;33cd2c5d5d59.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;&#x2F;body&gt;&lt;&#x2F;html&gt;</code></pre><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/730e3a098fce4f3a99f44760de65e61d~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=1709&s=1812786&e=png&b=fbf8f8" alt="image.png"></p><p>é«˜æ•ˆ</p><ul><li>è§£å†³åˆ—è¡¨éœ€è¦æ¸²æŸ“å¤šç§ç›¸åŒç±»å‹çš„ç¤¾åª’å†…å®¹ â†’ å°è£…sdkï¼Œsdkå±‚å»å¤„ç†åˆ›å»ºå®ä¾‹</li><li>éƒ¨åˆ†ç¤¾åª’å†…å®¹å’Œç»‘å®šçš„ç±»åä¸ä¸€æ ·å¯¼è‡´ï¼Œå¦‚ä½•ç®€æ˜“åŒ– â†’ ä¸­é—´å±‚å¤„ç†ä¸åŒç±»å‹ç¤¾åª’ï¼Œæ¸²æŸ“å‚æ•°</li></ul><p>é’ˆå¯¹ä¸Šè¿°é—®é¢˜ï¼ŒæŸ¥è¯¢ä¸šç•Œæ˜¯å¦æœ‰æä¾›çš„å…·ä½“æ–¹æ¡ˆã€‚</p><p>tiktokï¼š react-tiktok-embed</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">import React from &#39;react&#39;;import TikTokEmbed from &#39;react-tiktok-embed&#39;;function MyComponent() &#123;    return (    &lt;div&gt;        &lt;TikTokEmbed url&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;@username&#x2F;video&#x2F;1234567890&quot; &#x2F;&gt;    &lt;&#x2F;div&gt;    );&#125;export default MyComponent;</code></pre><p>youtube: react-youtube</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">import React from &#39;react&#39;;import YouTube from &#39;react-youtube&#39;;function MyComponent() &#123;    const videoId &#x3D; &#39;VIDEO_ID_HERE&#39;; &#x2F;&#x2F; æ›¿æ¢ä¸ºä½ çš„ YouTube è§†é¢‘ ID    return (    &lt;div&gt;        &lt;YouTube videoId&#x3D;&#123;videoId&#125; &#x2F;&gt;    &lt;&#x2F;div&gt;    );&#125;export default MyComponent;</code></pre><p>facebookå’Œinstagramæ²¡æœ‰ä¸“é—¨çš„reactç¤¾åŒºåº“</p><h3 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h3><p><code>react-social-media-embed</code> </p><p>åœ¨ React ä¸­è½»æ¾åµŒå…¥æ¥è‡ªå¤šä¸ªæµè¡Œç¤¾äº¤åª’ä½“å¹³å°çš„å†…å®¹ã€‚</p><p> æ‰€æœ‰åµŒå…¥åªéœ€è¦å¸–å­çš„ URLã€‚ä¸éœ€è¦ API ä»¤ç‰Œã€‚ </p><p>ç›®å‰æ”¯æŒï¼šFacebookã€Instagramã€LinkedInã€Pinterestã€TikTokã€X (Twitter) å’Œ YouTubeã€‚</p><p><a href="https://github.com/justinmahar/react-social-media-embed?tab=readme-ov-file">GitHub - justinmahar&#x2F;react-social-media-embed: ğŸ“° Easily embed social media posts from Facebook, Instagram, LinkedIn, Pinterest, TikTok, X (Twitter), and YouTube in React.</a></p><p><a href="https://www.npmjs.com/package/react-social-media-embed">npm: react-social-media-embed</a></p><p>å…·ä½“å±•ç¤ºæ¡ˆä¾‹ï¼š</p><p><a href="https://justinmahar.github.io/react-social-media-embed/?path=/story/embeds-facebookembed--main-example">@storybook&#x2F;cli - Storybook</a></p><p><strong>ç¨³å®šæ€§ï¼š</strong></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c313b29bdba4446a957f5ef869d82449~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=2202&s=436471&e=png&b=fefefe" alt="image.png"></p><p>Demoæ•ˆæœ</p><p>vite + react + <del>tsç®€æ˜“å®ç°</del><br>æ­¥éª¤</p><ol><li>npm install -g vite  </li><li>npm install -g create-vite  </li><li>npm init @vitejs&#x2F;app my-react-app â€“template react-ts </li><li><code>npm i react-social-media-embed</code></li><li>å¼•å…¥æ¡ˆä¾‹</li></ol><pre class="language-jsx" data-language="jsx"><code class="language-jsx">import &#123; FacebookEmbed, InstagramEmbed, TikTokEmbed, YouTubeEmbed &#125; from &#39;react-social-media-embed&#39;;&lt;div style&#x3D;&#123;&#123; display: &#39;flex&#39;, justifyContent: &#39;center&#39; &#125;&#125;&gt;    &lt;YouTubeEmbed url&#x3D;&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;HpVOs5imUN0&quot; width&#x3D;&#123;325&#125; height&#x3D;&#123;220&#125; &#x2F;&gt;&lt;&#x2F;div&gt;&lt;div style&#x3D;&#123;&#123; display: &#39;flex&#39;, justifyContent: &#39;center&#39; &#125;&#125;&gt;    &lt;FacebookEmbed url&#x3D;&quot;https:&#x2F;&#x2F;www.facebook.com&#x2F;andrewismusic&#x2F;posts&#x2F;451971596293956&quot; width&#x3D;&#123;328&#125; &#x2F;&gt;&lt;&#x2F;div&gt;&lt;div style&#x3D;&#123;&#123; display: &#39;flex&#39;, justifyContent: &#39;center&#39; &#125;&#125;&gt;    &lt;InstagramEmbed url&#x3D;&quot;https:&#x2F;&#x2F;www.instagram.com&#x2F;p&#x2F;C5aS3CbrsYe&#x2F;&quot; width&#x3D;&#123;328&#125; &#x2F;&gt;&lt;&#x2F;div&gt;&lt;div style&#x3D;&#123;&#123; display: &#39;flex&#39;, justifyContent: &#39;center&#39; &#125;&#125;&gt;    &lt;TikTokEmbed url&#x3D;&quot;https:&#x2F;&#x2F;www.tiktok.com&#x2F;@epicgardening&#x2F;video&#x2F;7055411162212633903&quot; width&#x3D;&#123;325&#125; &#x2F;&gt;&lt;&#x2F;div&gt;</code></pre><p>å†…åµŒåŠŸèƒ½äº¤äº’ä½“ç°</p><p>å†…åµŒç¤¾åª’å†…å®¹ï¼Œå®˜æ–¹æä¾›çš„æ¡ˆä¾‹ä¸­å¸¦æœ‰æ’­æ”¾ã€ç‚¹èµã€è¯„è®ºç­‰äº¤äº’åŠŸèƒ½æ€§æŒ‰é’®ï¼Œå¼€å‘å‰æˆ‘ä»¬éœ€è¦äº†è§£å…¶åŠŸèƒ½å…·ä½“ä½“ç°æ˜¯ä»€ä¹ˆï¼Ÿä¸»è¦æœ‰ä¸‹é¢ä¸¤ç‚¹ï¼š</p><ol><li>è§†é¢‘ã€éŸ³é¢‘èƒ½å¦æ­£å¸¸æ’­æ”¾ï¼ˆå†…åµŒåŠŸèƒ½ â†’ å¿«è¿›ã€åˆ†äº«ã€å…¨å±ç­‰æ˜¯å¦æ­£å¸¸ä½¿ç”¨ï¼‰</li><li>ç‚¹èµã€è¯„è®ºã€åˆ†äº«ã€ç‚¹å‡»å¤´åƒè¿›å…¥ä¸»é¡µç­‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸å¯¹æ¥ä½¿ç”¨</li></ol><p>æ ¹æ®ä¸Šè¿°é—®é¢˜å¯è¿›å…¥åˆ°<a href="https://justinmahar.github.io/react-social-media-embed/?path=/story/embeds-facebookembed--main-example">ä½“éªŒåœ°å€</a>è¿›è¡ŒæŸ¥çœ‹äº¤äº’æ•ˆæœâ€¦</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li>tiktokè§†é¢‘æ¡ˆä¾‹<a href="https://www.tiktok.com/embed/6904271117783928065">https://www.tiktok.com/embed/6904271117783928065</a></li><li><a href="https://help.agencyanalytics.com/en/articles/4596217-embed-content-on-dashboards-and-web-reports-via-our-embed-widgets">https://help.agencyanalytics.com/en/articles/4596217-embed-content-on-dashboards-and-web-reports-via-our-embed-widgets</a> å†…åµŒæ¡ˆä¾‹åˆé›†</li><li>facebookæµ‹è¯•å· <a href="https://www.regexpal.com/94994">https://www.regexpal.com/94994</a></li></ol><p><a href="https://iframely.com/domains/tiktok">Embed TikTok: Responsive oEmbed via Iframely</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> å…¶å®ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>whistleå¿«é€Ÿå…¥é—¨</title>
      <link href="/2024/04/10/whistle%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/2024/04/10/whistle%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="whistleå¿«é€Ÿå…¥é—¨"><a href="#whistleå¿«é€Ÿå…¥é—¨" class="headerlink" title="whistleå¿«é€Ÿå…¥é—¨"></a>whistleå¿«é€Ÿå…¥é—¨</h1><h2 id="ä»€ä¹ˆæ˜¯whistle"><a href="#ä»€ä¹ˆæ˜¯whistle" class="headerlink" title="ä»€ä¹ˆæ˜¯whistle"></a>ä»€ä¹ˆæ˜¯whistle</h2><p>whistleä¸æ˜¯å£å“¨ï¼Œè€Œæ˜¯åŸºäºNodeå®ç°çš„è·¨å¹³å°æŠ“åŒ…è°ƒè¯•å·¥å…·ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„è·¨å¹³å°è½¯ä»¶ã€‚</p><p><a href="https://github.com/avwo/whistle/tree/master">GitHub - avwo&#x2F;whistle: HTTP, HTTP2, HTTPS, Websocket debugging proxy</a></p><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><h3 id="ä¸€ï¼šå®‰è£…whistle"><a href="#ä¸€ï¼šå®‰è£…whistle" class="headerlink" title="ä¸€ï¼šå®‰è£…whistle"></a>ä¸€ï¼šå®‰è£…whistle</h3><p>Windowsä½¿ç”¨<code>npm i -g whistle &amp;&amp; w2 start --init</code> ä¸€é”®å®‰è£…</p><p>whistleæ–‡æ¡£ä»‹ç»å»ºè®®å®‰è£…<strong>æœ€æ–°çš„ LTS ç‰ˆæœ¬</strong>å®‰è£…</p><p>nodeä¸å…¼å®¹ï¼Œå®‰è£…å¤±è´¥é—®é¢˜</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/838e734f7bed4bdf8ac77a25380d1b84~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=860&s=637713&e=png&b=0c0c0c" alt="image.png"></p><p>ä½¿ç”¨nvmæŸ¥çœ‹ä¸€ä¸‹nodeç‰ˆæœ¬ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83706bfdb7384e7ca29e793cb9755c6b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=322&s=128718&e=png&b=0d0d0d" alt="image.png"></p><p>åˆ‡æ¢ä¸ºnode14.17.5å¯ä»¥ä¸‹è½½</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f07b89e30fb04f4ab5e4d4576ab23feb~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=765&s=457056&e=png&b=0d0d0d" alt="image.png"></p><h3 id="äºŒï¼šå¯åŠ¨whistle"><a href="#äºŒï¼šå¯åŠ¨whistle" class="headerlink" title="äºŒï¼šå¯åŠ¨whistle"></a>äºŒï¼šå¯åŠ¨whistle</h3><p>å¸¸ç”¨whistleçš„å‘½ä»¤ï¼š</p><ul><li>w2 start å¯åŠ¨</li><li>w2 restart é‡å¯</li><li>w2 stop åœæ­¢</li><li>w2 start -p port æŒ‡å®šä»£ç†ç«¯å£</li></ul><p>å¯åŠ¨whistle</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dbcafef2e5744279b5fd97265699fe6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=490&s=338179&e=png&b=0c0c0c" alt="image.png"></p><p>é€šè¿‡ä¸Šé¢çš„é“¾æ¥å¯ä»¥è¿›å»ç®¡ç†whistleçš„ä¸»ç•Œé¢</p><p>127.0.0.1:8899</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e87f78363724cd9a95fee9bf1380ff3~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=570&s=161591&e=png&b=002240" alt="image.png"></p><h3 id="ä¸‰ï¼šä½¿ç”¨SwitchyOmega-è®¾ç½®ä»£ç†"><a href="#ä¸‰ï¼šä½¿ç”¨SwitchyOmega-è®¾ç½®ä»£ç†" class="headerlink" title="ä¸‰ï¼šä½¿ç”¨SwitchyOmega è®¾ç½®ä»£ç†"></a>ä¸‰ï¼šä½¿ç”¨SwitchyOmega è®¾ç½®ä»£ç†</h3><p><strong>å®‰è£… SwitchyOmega</strong></p><p>æ‰“å¼€ Chrome æ‰©å±•å•†åº—è¿›è¡Œå®‰è£…Â <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif">https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif</a></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a46a4550ba5d469eab8053623aef152e~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=2000&h=931&s=222062&e=png&b=fefefe" alt="image.png"></p><p>å°†æµè§ˆå™¨è¯·æ±‚ â†’ net å˜ä¸º æµè§ˆå™¨è¯·æ±‚ â†’ switchyOmegaåŠ«æŒé…ç½® â†’ whistle â†’ net</p><p>å…³äºçº¿ä¸Šé”™è¯¯æ’æŸ¥ï¼Œç”±äºçº¿ä¸Šæ˜¯httpsè¯·æ±‚ï¼Œæ‰€ä»¥çœ‹ä¸åˆ°è¯·æ±‚å…·ä½“å†…å®¹ï¼Œå¯ä»¥é€šè¿‡å®‰è£…è¯ä¹¦å³å¯æŸ¥çœ‹è¯¦ç»†çš„è¯·æ±‚å†…å®¹ã€‚</p><p>è¯ä¹¦ä¸‹è½½ï¼šæµè§ˆå™¨è¾“å…¥rootca.pro</p>]]></content>
      
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reactæºç è§£è¯»</title>
      <link href="/2023/04/06/React%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/"/>
      <url>/2023/04/06/React%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB/</url>
      
        <content type="html"><![CDATA[<p>æœ¬ç‰‡ç”¨äºè®°å½•é˜…è¯»ã€ŠReactè®¾è®¡åŸç†ã€‹çš„æ¶æ„ç¯‡è¯»ä¹¦ç¬”è®°ã€‚æŒç»­å®Œæˆæ›´æ–°â€¦..</p><p>é˜…è¯»Reactè®¾è®¡åŸç†ï¼Œè§£è¯»Reconcilerä¸‰ä¸ªå·¥ä½œé˜¶æ®µï¼šrenderã€commotã€schedule</p><h2 id="renderé˜¶æ®µ"><a href="#renderé˜¶æ®µ" class="headerlink" title="renderé˜¶æ®µ"></a>renderé˜¶æ®µ</h2><blockquote><p>renderé˜¶æ®µå¯èƒ½å¼€å§‹äºperformSyncWorkOnRootï¼ˆåŒæ­¥æ›´æ–°æµç¨‹ï¼‰æˆ–performConcurrentWorkRootï¼ˆå¹¶å‘æ›´æ–°é˜¶æ®µï¼‰</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">workLoopSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>workInProgress <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">performUnitOfWork</span><span class="token punctuation">(</span>workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">workLoopConcurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>workInProgress <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">shouldYieId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">performUnitOfWork</span><span class="token punctuation">(</span>workInProgress<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>åŒæ­¥æ›´æ–°æµç¨‹å’Œå¹¶å‘æ›´æ–°æµç¨‹æ–¹æ³•å”¯ä¸€åŒºåˆ«æ˜¯è°ƒç”¨â€shouldYieId â‡’ æ˜¯å¦å¯ä¸­æ–­â€œ</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">performUnitOfWork</span><span class="token punctuation">(</span><span class="token parameter">filberNode</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//çœç•¥æ‰§è¡ŒbeginWorkå·¥ä½œ</span><span class="token keyword">if</span><span class="token punctuation">(</span>fiberNode<span class="token punctuation">.</span>child<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">performUnitOfWork</span><span class="token punctuation">(</span>fiberNode<span class="token punctuation">.</span>child<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//çœç•¥æ‰§è¡ŒcompleteWorkå·¥ä½œ</span><span class="token keyword">if</span><span class="token punctuation">(</span>fiberNode<span class="token punctuation">.</span>sibling<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">performUnitOfWork</span><span class="token punctuation">(</span>fiberNode<span class="token punctuation">.</span>sibling<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>beginWorkå·¥ä½œæµç¨‹</p><p>åˆ¤æ–­å½“å‰æµç¨‹å±äºmountè¿˜æ˜¯updateæµç¨‹ï¼Œæ ¹æ®wip.tagè¿›å…¥ä¸åŒç±»å‹å…ƒç´ çš„å¤„ç†åˆ†æ”¯ï¼Œä½¿ç”¨reconcileç®—æ³•ç”Ÿæˆä¸‹ä¸€çº§fiberNode</p><p>è¾ƒæ¯”updateé˜¶æ®µå¯å¤ç”¨fiberèŠ‚ç‚¹æ—¶ï¼Œä¼šç»™ç”Ÿæˆçš„fiberNodeå¸¦ä¸Šå‰¯ä½œç”¨flagsã€‚</p><p>flagsæ ‡è®°ï¼š</p><ul><li>ChildDeletionï¼Œä»£è¡¨åˆ é™¤æ“ä½œ</li><li>Placementï¼Œä»£è¡¨æ’å…¥æˆ–ç§»åŠ¨æ“ä½œ</li></ul><p>completeWorkå·¥ä½œæµç¨‹</p><ol><li>åˆ›å»ºæˆ–è€…æ ‡è®°å…ƒç´ æ›´æ–°</li><li>flagså†’æ³¡</li></ol><p>å®Œæˆå·¥ä½œæµç¨‹1ï¼ˆæ›´æ–°çš„æ ‡è®°ï¼‰ä¹‹åï¼Œæ›´æ–°ä¸­çš„å¢åˆ æ”¹æ“ä½œå‡å·²å®Œæˆï¼ŒReconcilerä¸­çš„è§£æflagsã€‚ </p><p>Reconcilerå·¥ä½œæµç¨‹é‡‡ç”¨DFSçš„é¡ºåºæ„å»ºWipFiberTreeã€‚æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºâ€œé€’â€å’Œâ€œå½’â€ä¸¤ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«å¯¹åº”beginWorkå’ŒcompleteWorkã€‚</p><p>æœ€ç»ˆHostRootFiberå®ŒæˆcompleteWorkæ—¶ï¼ŒReconcilerçš„å·¥ä½œæµç¨‹ç»“æŸã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š</p><ul><li>ä»£è¡¨æœ¬æ¬¡æ›´æ–°çš„Wip Fiber Tree</li><li>è¢«æ ‡è®°çš„flags</li></ul><hr><h1 id="commité˜¶æ®µ"><a href="#commité˜¶æ®µ" class="headerlink" title="commité˜¶æ®µ"></a>commité˜¶æ®µ</h1><p>åœ¨commité˜¶æ®µä¼šå°†å„ç§å‰¯ä½œç”¨ï¼ˆflagsè¡¨ç¤ºï¼‰commitï¼ˆæäº¤ï¼‰åˆ°å®¿ä¸»ç¯å¢ƒUIä¸­ã€‚</p><blockquote><p>renderé˜¶æ®µæµç¨‹å¯èƒ½è¢«æ‰“æ–­ï¼Œè€Œcommité˜¶æ®µä¸€æ—¦å¼€å§‹å°±ä¼šåŒæ­¥æ‰§è¡Œå®Œæˆã€‚</p></blockquote><p>æ•´ä¸ªé˜¶æ®µåˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªå­é˜¶æ®µ</p><ul><li>BeforeMutationé˜¶æ®µ DOMæ“ä½œå‰</li><li>Mutationé˜¶æ®µ æ“ä½œDOMå…ƒç´ çš„å¢åˆ æ”¹ </li><li>Layouté˜¶æ®µ æ‰§è¡ŒDOMæ“ä½œå</li></ul><p>BeforeMutationé˜¶æ®µä¸»è¦ä¸Updateã€Snapshotä¸¤ä¸ªflagsç›¸å…³ã€‚<br>Mutationé˜¶æ®µåŒ…å«çš„flagså¤§å¤šæ˜¯å®Œæˆâ€Uiç›¸å…³å‰¯ä½œç”¨â€œã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨ç«¯å›¾ç‰‡ä¼˜åŒ–æ–¹æ¡ˆ</title>
      <link href="/2023/04/02/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/"/>
      <url>/2023/04/02/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"><h1 id="å›¾ç‰‡ä¼˜åŒ–"><a href="#å›¾ç‰‡ä¼˜åŒ–" class="headerlink" title="å›¾ç‰‡ä¼˜åŒ–"></a>å›¾ç‰‡ä¼˜åŒ–</h1><h2 id="é¡¹ç›®ä¸­å›¾ç‰‡çš„å¿§ä¼˜åŒ–æ–¹æ¡ˆ"><a href="#é¡¹ç›®ä¸­å›¾ç‰‡çš„å¿§ä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="é¡¹ç›®ä¸­å›¾ç‰‡çš„å¿§ä¼˜åŒ–æ–¹æ¡ˆ"></a>é¡¹ç›®ä¸­å›¾ç‰‡çš„å¿§ä¼˜åŒ–æ–¹æ¡ˆ</h2><ol><li>ä½¿ç”¨CDN</li><li>å›¾ç‰‡æ‡’åŠ è½½</li><li>å›¾ç‰‡çš„åŠ¨æ€å‰ªè£</li><li>éª¨æ¶å±</li></ol><h2 id="CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰"><a href="#CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰" class="headerlink" title="CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰"></a>CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰</h2><p><strong>ä»€ä¹ˆæ˜¯CDN</strong></p><p>CDNæ˜¯æŒ‡å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆContent Delivery Networkï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºæé«˜ç½‘ç«™æ€§èƒ½å’Œå¯ç”¨æ€§çš„ç½‘ç»œæ¶æ„ã€‚å®ƒé€šè¿‡åœ¨å…¨çƒå„åœ°çš„æœåŠ¡å™¨ä¸Šç¼“å­˜ç½‘ç«™çš„é™æ€å’ŒåŠ¨æ€å†…å®¹ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿæ›´å¿«é€Ÿåœ°è®¿é—®ç½‘ç«™å¹¶è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p><p><strong>CDNçš„ä½œç”¨</strong></p><p>CDNé€šè¿‡å°†å†…å®¹ç¼“å­˜åœ¨åˆ†å¸ƒå¼çš„æœåŠ¡å™¨ä¸Šï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥ä»æœ€è¿‘çš„æœåŠ¡å™¨è·å–å†…å®¹ï¼Œä»è€Œå‡å°‘äº†åŠ è½½æ—¶é—´å’Œå»¶è¿Ÿã€‚å®ƒè¿˜å¯ä»¥é€šè¿‡è´Ÿè½½å‡è¡¡å’Œè‡ªåŠ¨æ•…éšœè½¬ç§»ï¼Œæé«˜ç½‘ç«™çš„å¯ç”¨æ€§å’Œç¨³å®šæ€§ã€‚</p><p>ä½¿ç”¨CDNç¼“å­˜ï¼Œå¯ä»¥æé«˜å›¾ç‰‡çš„åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒ</p><p>ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹æ–¹é¢ï¼šé™ä½æœåŠ¡å™¨å‹åŠ›ã€é™ä½æˆæœ¬ã€æé«˜å›¾ç‰‡è®¿é—®é€Ÿåº¦</p><h2 id="å›¾ç‰‡æ‡’åŠ è½½"><a href="#å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="å›¾ç‰‡æ‡’åŠ è½½"></a>å›¾ç‰‡æ‡’åŠ è½½</h2><p>å®ç°åŸç†éƒ½å¯ä»¥ä½¿ç”¨IntersectionObserverçš„APIå®ç°</p><p>å›¾ç‰‡æ‡’åŠ è½½ã€æ— é™æ»šåŠ¨ â†’ <a href="https://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html">é˜®ä¸€å³°IntersectionObserver API ä½¿ç”¨æ•™ç¨‹</a></p><p><strong>ä»€ä¹ˆæ˜¯â€¦ã€ä½œç”¨æ˜¯â€¦</strong></p><p>å›¾ç‰‡æ‡’åŠ è½½æ˜¯å½“å›¾ç‰‡è¿›å…¥è§†å£åŒºåŸŸæ‰è¿›è¡ŒåŠ è½½ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¸¦å®½ï¼Œæé«˜ç½‘é¡µæ€§èƒ½ã€‚</p><p><strong>å¦‚ä½•å®ç°</strong></p><p>IntersectionObserverFuncç»„ä»¶</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">import &#123; useEffect, useRef, useState &#125; from &#39;react&#39;import styles from &#39;.&#x2F;index.less&#39;interface PropsType &#123;  src: string&#125;const IntersectionObserverFuc &#x3D; (props: PropsType)&#x3D;&gt;&#123;  const &#123;src&#125; &#x3D; props;  const imgRef &#x3D; useRef(null)  const [imgSrc, setImgSrc] &#x3D; useState(src)  useEffect(() &#x3D;&gt; &#123;    const intersectionObserver &#x3D; new IntersectionObserver(function(entries) &#123;      entries.forEach( function(element: any, index) &#123;        &#x2F;&#x2F; debugger          if (element.isIntersecting) &#123;            setImgSrc(src)&#x2F;&#x2F;åœæ­¢è§‚å¯Ÿ            intersectionObserver.disconnect()          &#125; else&#123;            let img &#x3D; &#39;&#39;; &#x2F;&#x2F;å¯ä»¥ä½¿ç”¨é»˜è®¤å›¾ç‰‡            setImgSrc(img)          &#125;      &#125;);    &#125;);    intersectionObserver.observe(imgRef?.current);    return () &#x3D;&gt; &#123;      if(imgRef.current) &#123;&#x2F;&#x2F;å…³é—­è§‚å¯Ÿå™¨        intersectionObserver.unobserve(imgRef.current)      &#125;    &#125;;  &#125;, [])  return &lt;img src&#x3D;&#123;imgSrc&#125; alt&#x3D;&quot;&quot;  ref&#x3D;&#123;imgRef&#125; className&#x3D;&#123;styles.img&#125;&#x2F;&gt;&#125;export default IntersectionObserverFuc&#x2F;&#x2F;ä½¿ç”¨let imgSrc &#x3D; &#39;https:&#x2F;&#x2F;img0.baidu.com&#x2F;it&#x2F;u&#x3D;2054720471,487433032&amp;fm&#x3D;253&amp;fmt&#x3D;auto&amp;app&#x3D;138&amp;f&#x3D;JPEG?w&#x3D;800&amp;h&#x3D;500&#39;;&#123;  Array(100).fill(imgSrc)?.map((item, index) &#x3D;&gt; &#123;    return(      &lt;IntersectionObserverFuc src&#x3D;&#123;item&#125; key&#x3D;&#123;index&#125;&#x2F;&gt;    )  &#125;)&#125;</code></pre><h2 id="å›¾ç‰‡çš„åŠ¨æ€å‰ªè£"><a href="#å›¾ç‰‡çš„åŠ¨æ€å‰ªè£" class="headerlink" title="å›¾ç‰‡çš„åŠ¨æ€å‰ªè£"></a>å›¾ç‰‡çš„åŠ¨æ€å‰ªè£</h2><p><strong>ä»€ä¹ˆæ˜¯â€¦ã€ä½œç”¨æ˜¯â€¦</strong></p><p>å›¾ç‰‡çš„åŠ¨æ€å‰ªè£æ˜¯ä¸€ç§å›¾ç‰‡å¤„ç†çš„æŠ€æœ¯ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€è¦åŠ¨æ€åœ°å‰ªè£å›¾ç‰‡çš„å¤§å°å’Œæ¯”ä¾‹ï¼Œä»¥é€‚åº”ä¸åŒçš„æ˜¾ç¤ºè®¾å¤‡å’Œå°ºå¯¸ã€‚å›¾ç‰‡çš„åŠ¨æ€å‰ªè£é€šå¸¸æ˜¯é€šè¿‡è°ƒç”¨æœåŠ¡å™¨ç«¯çš„å›¾ç‰‡å¤„ç†çš„APIå®ç°çš„ã€‚</p><p>é€šå¸¸å¯ä»¥é…ç½®ï¼šå›¾ç‰‡åœ°å€ã€å‰ªè£ä½ç½®ã€ç¼©æ”¾æ¨¡å¼ã€åŠ æ°´å°ã€æ»¤é•œç­‰æ•ˆæœ</p><p>ä½œç”¨ï¼šæå‡å›¾ç‰‡çš„åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚</p><p><strong>ä¸¾ä¾‹</strong></p><p>å›¾ç‰‡çš„åŠ¨æ€å‰ªè£ï¼šé˜¿é‡Œäº‘å’Œä¸ƒç‰›äº‘éƒ½æ”¯æŒå‚æ•°ï¼Œæ¯”å¦‚:</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">&#x2F;&#x2F;æ²¡å‰ªè£çš„https:&#x2F;&#x2F;img.alicdn.com&#x2F;imgextra&#x2F;i4&#x2F;379092709&#x2F;O1CN01adpXJe1VslgpbprWS_!!379092709.jpg&#x2F;&#x2F;å‰ªè£åçš„https:&#x2F;&#x2F;img.alicdn.com&#x2F;imgextra&#x2F;i4&#x2F;379092709&#x2F;O1CN01adpXJe1VslgpbprWS_!!379092709.jpg_310x310</code></pre><h2 id="éª¨æ¶å±ã€èŠèŠ±å›¾ï¼ˆloadingï¼‰"><a href="#éª¨æ¶å±ã€èŠèŠ±å›¾ï¼ˆloadingï¼‰" class="headerlink" title="éª¨æ¶å±ã€èŠèŠ±å›¾ï¼ˆloadingï¼‰"></a>éª¨æ¶å±ã€èŠèŠ±å›¾ï¼ˆloadingï¼‰</h2><p>ä½¿ç”¨éª¨æ¶å±å’ŒèŠèŠ±å›¾å¯ä»¥é˜²æ­¢åº”ç”¨ç¨‹åºç™½å±å¤ªä¹…ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚</p><p>éª¨æ¶å±å¯ä»¥ä½¿ç”¨UIå›¾é…åˆIntersectionObserverFuncæ¥ä½¿ç”¨ï¼Œ</p>]]></content>
      
      
      
        <tags>
            
            <tag> æ€§èƒ½ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axiosçš„cancelTokenå°è£…</title>
      <link href="/2023/03/28/cancelToken/"/>
      <url>/2023/03/28/cancelToken/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"><h1 id="cancelToken"><a href="#cancelToken" class="headerlink" title="cancelToken"></a>cancelToken</h1><h2 id="cancelTokenç®€ä»‹"><a href="#cancelTokenç®€ä»‹" class="headerlink" title="cancelTokenç®€ä»‹"></a>cancelTokenç®€ä»‹</h2><p>cancelTokenæ˜¯axiosç”¨æ¥å–è¯·æ±‚çš„api</p><p>é’ˆå¯¹èœå•çš„è·¯ç”±é¡µé¢è·³è½¬ï¼Œæˆ‘ä»¬å¯ä»¥å–æ¶ˆè¯·æ±‚è·³è½¬å‰çš„è¯·æ±‚ï¼Œä»¥æå‡é¡µé¢æ€§èƒ½å‡å°‘ä¸å¿…è¦çš„ç­‰å¾…ã€‚</p><h2 id="AbortControllerç®€ä»‹"><a href="#AbortControllerç®€ä»‹" class="headerlink" title="AbortControllerç®€ä»‹"></a>AbortControllerç®€ä»‹</h2><p>åœ¨<a href="https://juejin.cn/post/7134326391977279501">axios</a>ä¸­ï¼Œæ–°å¢AbortControllerï¼Œå°†<strong>CancelToken</strong>æ ‡è®°ä¸º**<code>deprecated</code>** </p><ul><li><p>MDNä¸­ä»‹ç»<strong>AbortController</strong></p><p>  <strong><code>AbortController</code></strong>Â æ¥å£è¡¨ç¤ºä¸€ä¸ªæ§åˆ¶å™¨å¯¹è±¡ï¼Œå…è®¸ä½ æ ¹æ®éœ€è¦ä¸­æ­¢ä¸€ä¸ªæˆ–å¤šä¸ª Web è¯·æ±‚ã€‚</p><p>  ä½ å¯ä»¥ä½¿ç”¨Â <code>[AbortController.AbortController()](https://developer.mozilla.org/zh-CN/docs/Web/API/AbortController/AbortController)</code>Â æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„Â <code>AbortController</code>ã€‚ä½¿ç”¨Â <code>[AbortSignal](https://developer.mozilla.org/zh-CN/docs/Web/API/AbortSignal)</code>Â å¯¹è±¡å¯ä»¥å®Œæˆä¸ DOM è¯·æ±‚çš„é€šä¿¡ã€‚</p></li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cfca1a869762411c9982268c285142ed~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h2 id="å®ç°axiosçš„CancelToken"><a href="#å®ç°axiosçš„CancelToken" class="headerlink" title="å®ç°axiosçš„CancelToken"></a>å®ç°axiosçš„CancelToken</h2><p>api.js</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">import axios from &quot;axios&quot;;const CancelToken &#x3D; axios.CancelToken;const sourceList &#x3D; []const opt &#x3D; &#123;  &#x2F;&#x2F;æ‹“å±•é»˜è®¤å±æ€§  &#x2F;&#x2F;baseURLã€cacheã€contentTypeã€timeoutç­‰  timeout: 80000, &#x2F;&#x2F;ç»Ÿä¸€è®¾ç½®è¶…æ—¶æ—¶é—´&#125;let instance &#x3D; axios.create(opt);function handleCancelToken(CancelToken, sourceList) &#123;  if(!CancelToken)&#123;    return  &#125;   return &#123;    source: function source() &#123;      const source &#x3D; CancelToken.source();      sourceList.push(source)      return &#123;        token: source?.token,        cancel: function cancel(message)&#123;          if(source?.canceled)&#123;            return;          &#125;          const index &#x3D; sourceList?.findIndex(function (s) &#123;            return s &#x3D;&#x3D;&#x3D; source          &#125;)          index !&#x3D;&#x3D; -1 &amp;&amp; source?.splice(index, 1)          source?.cancel(message)        &#125;      &#125;    &#125;  &#125;&#125;instance.interceptors.request.use(config &#x3D;&gt; &#123;  &#x2F;&#x2F;æ¨¡æ‹Ÿå°è£…é…ç½®é¡¹ç›®&#x2F;&#x2F;é’ˆå¯¹æ¯ä¸€ä¸ªè¯·æ±‚æ·»åŠ ä¸€ä¸ªCancelTokenï¼Œåœ¨handleCancelTokenå†…éƒ¨è®°å½•è¯·æ±‚çš„source  const defaultParams &#x3D; Object.assign(config, &#123;    cancelToken: handleCancelToken(CancelToken, sourceList)?.source()?.token  &#125;)  console.log(defaultParams, &#39;config&#39;)  return defaultParams&#125;, err &#x3D;&gt; &#123;  console.log(err, &#39;è¯·æ±‚é”™è¯¯&#39;)&#125;)instance.interceptors.response.use(res &#x3D;&gt; &#123;  console.log(res, &#39;å“åº”ç»“æœ&#39;)  return res&#125;, err &#x3D;&gt; &#123;  &#x2F;&#x2F;TODOï¼šé”™è¯¯ç å¤„ç†ã€Cancelokené”™è¯¯å¤„ç†  console.log(err, &#39;å“åº”é”™è¯¯&#39;)  if(err?.message &#x3D;&#x3D;&#x3D; &#39;&quot;myCanceledError&quot;&#39;)&#123;    return  &#125;&#125;)&#x2F;&#x2F;æ‰‹åŠ¨å–æ¶ˆè¯·æ±‚ -&gt; è·¯ç”±åˆ‡æ¢åå–æ¶ˆè¯·æ±‚instance.abortAll &#x3D; function(message)&#123;  &#x2F;&#x2F;**æ³¨æ„ï¼šç¬¬ä¸€ä¸ªè¯·æ±‚æ²¡æœ‰è¢«å–æ¶ˆ**  sourceList?.forEach( source &#x3D;&gt; &#123;    source.canceled &#x3D; true    source.cancel(message)  &#125;)  sourceList.length &#x3D; 0&#125;export default instance;</code></pre><p>æµ‹è¯•æ–‡ä»¶ï¼štest.tsx</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">import api from &#39;.&#x2F;api&#39;export default function Index() &#123;  const send &#x3D; () &#x3D;&gt; &#123;    &#x2F;&#x2F;let controller &#x3D; new AbortController();    &#x2F;&#x2F;const signal &#x3D; controller.signal;    api(&#123;      url: &#39;https:&#x2F;&#x2F;mdn.github.io&#x2F;dom-examples&#x2F;abort-api&#x2F;sintel.mp4&#39;,      method: &#39;get&#39;,      params: &#123;        &#x2F;&#x2F;signal: signal      &#125;   &#125;)  &#125;  const cancel&#x3D; () &#x3D;&gt; &#123;    &#x2F;&#x2F;å–æ¶ˆè¯·æ±‚    api?.abortAll(&#39;myCanceledError&#39;)  &#125;  return (    &lt;div&gt;      &lt;button onClick&#x3D;&#123;send&#125;&gt;        ç‚¹å‡»è¯·æ±‚      &lt;&#x2F;button&gt;      &lt;button onClick&#x3D;&#123;cancel&#125;&gt;        å–æ¶ˆè¯·æ±‚      &lt;&#x2F;button&gt;    &lt;&#x2F;div&gt;  )&#125;</code></pre><p>Prompt â†’ â€˜react-router-domâ€™</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">const promptCallback &#x3D; () &#x3D;&gt; &#123;&#x2F;&#x2F;todoapi?.abortAll(&#39;myCanceledError&#39;)&#125;&lt;Prompt when&#x3D;&#123;true&#125; message&#x3D;&#123;promptCallback&#125; &#x2F;&gt;</code></pre><h2 id="AbortControlleråŒç†"><a href="#AbortControlleråŒç†" class="headerlink" title="AbortControlleråŒç†"></a>AbortControlleråŒç†</h2><p>controller &#x3D; new AbortController();</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæ•°æ®ç»“æ„</title>
      <link href="/2023/03/08/JS%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2023/03/08/JS%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>æ•°æ®ç»“æ„çš„é‡è¦æ€§ã€‚æŒæ¡å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åˆ©ç”¨ä¸€äº›æ•°æ®ç»“æ„å»è§£å†³ä¸€äº›ä¸šåŠ¡ä¸­çš„æ•°æ®ã€‚</p><h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><h2 id="æ ˆ-stack"><a href="#æ ˆ-stack" class="headerlink" title="æ ˆ(stack)"></a>æ ˆ(stack)</h2><p>æ ˆç»“æ„æ˜¯ä¸€ç§å—é™çš„çº¿æ€§è¡¨ã€‚<code>åè¿›å…ˆå‡ºï¼ˆLIFOï¼šlast in first outï¼‰</code>ã€‚</p><p>æ ˆå¸¸è§çš„æ“ä½œ</p><ul><li>pushï¼šæ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶  â†’ å…¥æ ˆ</li><li>popï¼šç§»é™¤æ ˆé¡¶å…ƒç´ ï¼ŒåŒæ—¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´   â†’ å‡ºæ ˆ</li><li>peekï¼šè¿”å›æ ˆé¡¶å…ƒç´ </li><li>isEmptyï¼šæ ˆé‡Œæ˜¯å¦æœ‰å…ƒç´ </li><li>sizeï¼šè¿”å›æ ˆå…ƒç´ ä¸ªæ•°</li><li>toStringï¼šæ ˆç»“æ„ä»¥å­—ç¬¦å½¢å¼è¿”å›</li></ul><p>å®ç°ä¸€ä¸ªæ ˆç»“æ„ï¼Œç”¨æ ˆç»“æ„æ¥å°è£… åè¿›åˆ¶è½¬äºŒè¿›åˆ¶å‡½æ•°</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">function Stack()&#123;this.arr &#x3D; [];Stack.prototype.push &#x3D; function (ele) &#123;return this.arr.push(ele)&#125;Stack.prototype.pop &#x3D; function ()&#123;return this.arr.pop()&#125;Stack.prototype.peek &#x3D; function () &#123;return this.arr?.[this.arr.length - 1]&#125;Stack.prototype.isEmpty &#x3D; function () &#123;return this.arr?.length &#x3D;&#x3D;&#x3D; 0&#125;Stack.prototype.toString &#x3D; function () &#123;return this.arr.splice(&#39;,&#39;).join(&#39; &#39;)&#125;&#125;const s &#x3D; new Stack()</code></pre><h3 id="æœ‰æ•ˆæ‹¬å·"><a href="#æœ‰æ•ˆæ‹¬å·" class="headerlink" title="æœ‰æ•ˆæ‹¬å·"></a>æœ‰æ•ˆæ‹¬å·</h3><p>æ€è·¯ï¼š</p><ol><li>é‡‡ç”¨æ ˆç»“æ„ï¼Œå…¥æ ˆå‡ºæ ˆ</li><li>ä½¿ç”¨mapæ˜ å°„<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string-property property">'&#123;'</span><span class="token operator">:</span> <span class="token string">'&#125;'</span><span class="token punctuation">,</span>    <span class="token string-property property">'['</span><span class="token operator">:</span> <span class="token string">']'</span><span class="token punctuation">,</span>    <span class="token string-property property">'('</span><span class="token operator">:</span> <span class="token string">')'</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> value <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">'&#123;'</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">'['</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">'('</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">let</span> left <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>            <span class="token keyword">let</span> right <span class="token operator">=</span> map<span class="token punctuation">[</span>left<span class="token punctuation">]</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">!==</span> right<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> stack<span class="token operator">?.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"()"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"()[]&#123;&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"(]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"([)]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"&#123;[]&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span></code></pre></li></ol><h2 id="é˜Ÿåˆ—-Queue"><a href="#é˜Ÿåˆ—-Queue" class="headerlink" title="é˜Ÿåˆ—(Queue)"></a>é˜Ÿåˆ—(Queue)</h2><p>é˜Ÿåˆ—ç»“æ„ä¹Ÿæ˜¯ä¸€ç§å—é™çš„çº¿æ€§ç»“æ„ã€‚å…ˆè¿›å…ˆå‡ºï¼ˆFIFO: first in first outï¼‰</p><p>é˜Ÿåˆ—å¸¸è§çš„æ“ä½œ</p><ul><li>enqueueï¼šå‘é˜Ÿåˆ—å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´     â†’ å…¥é˜Ÿ</li><li>dequeueï¼šç§»é™¤é˜Ÿåˆ—çš„ç¬¬ä¸€é¡¹ï¼Œå¹¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´  â†’ å‡ºé˜Ÿ</li><li>frontï¼šè¿”å›é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </li><li>isEmptyï¼šé˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</li><li>sizeï¼šè¿”å›é˜Ÿåˆ—é•¿åº¦</li><li>toStringï¼šå°†é˜Ÿåˆ—ä¸­çš„å†…å®¹ï¼Œè½¬æ¢ä¸ºå­—ç¬¦ä¸²</li></ul><p>å®ç°é˜Ÿåˆ— - &gt; ä½¿ç”¨é˜Ÿåˆ—å°è£…å‡»é¼“ä¼ èŠ±çš„æ–¹æ³•</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">function Queue()&#123;this.arr &#x3D; []Queue.prototype.enqueue &#x3D; function (ele) &#123;&#x2F;&#x2F;TODO&#125;&#125;const queue &#x3D; new Queue()function passGame(nameList, num) &#123;&#125;</code></pre><p><strong>ä¼˜å…ˆçº§é˜Ÿåˆ—</strong></p><p>æ•°ç»„å®ç°</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">function PriorityQueue() &#123;&#x2F;&#x2F;ä¼˜å…ˆçº§é˜Ÿåˆ—å…ƒç´  åŒ…å«å†…å®¹åŠä¼˜å…ˆçº§ç³»æ•° -&gt; åˆ›å»ºå†…éƒ¨ç±»function QueueElement(ele, zindex) &#123;this.ele &#x3D; ele;this.zindex &#x3D; zindex;&#125;this.arr &#x3D; [];&#x2F;&#x2F;æ’å…¥PriorityQueue.prototype.enqueue &#x3D; function (element, index) &#123;&#x2F;&#x2F;åˆ›å»ºé˜Ÿåˆ—å…ƒç´ å¯¹è±¡const queueElement &#x3D; new QueueElement(element, index);&#x2F;&#x2F;1.é˜Ÿåˆ—ä¸ºç©ºç›´æ¥å…¥é˜Ÿ&#x2F;&#x2F;2.æ ¹æ®ä¼˜å…ˆçº§ç„¶åæ’å…¥&#x2F;&#x2F;TODO&#125;&#125;</code></pre><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p>é“¾è¡¨ä¼˜ç‚¹ï¼š</p><ul><li>å†…å­˜ç©ºé—´ä¸æ˜¯å¿…é¡»è¿ç»­çš„ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºçš„å†…å­˜ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†.</li><li>é“¾è¡¨ä¸å¿…åœ¨åˆ›å»ºæ—¶å°±ç¡®è®¤å¤§å°ï¼Œå¹¶ä¸”å¤§å°å¯ä»¥æ— é™çš„å»¶ä¼¸ä¸‹å».</li><li>é“¾è¡¨åœ¨æ’å…¥å’Œåˆ é™¤æ•°æ®ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ°O(1).</li><li>æ— æ³•é€šè¿‡ä¸‹æ ‡ç›´æ¥è®¿é—®ï¼Œéœ€è¦ä»å¤´ä¸€ä¸ªä¸ªè®¿é—®ã€‚</li></ul><p><strong>å•å‘é“¾è¡¨</strong>ï¼šé“¾è¡¨ç›¸è¿çš„è¿‡ç¨‹ä¸­æ—¶å•å‘çš„ã€‚</p><p>é“¾è¡¨çš„å¸¸è§æ“ä½œ</p><ul><li>appendï¼šå‘åˆ—è¡¨ä½ç½®æ·»åŠ ä¸€ä¸ªå…ƒç´ </li><li>insertï¼šå‘åˆ—è¡¨çš„ç‰¹å®šä½ç½®æ’å…¥ä¸€ä¸ªæ–°çš„é¡¹</li><li>getï¼šè·å–å¯¹åº”ä½ç½®çš„å…ƒç´ </li><li>indexOfï¼šè¿”å›å…ƒç´ åœ¨åˆ—è¡¨çš„ç´¢å¼•ã€‚</li><li>updateï¼šä¿®æ”¹æŸä¸ªä½ç½®çš„å…ƒç´ </li><li>removeAt: ä»åˆ—è¡¨çš„ç‰¹å®šä½ç½®ç§»é™¤ä¸€é¡¹</li><li>remove: ä»åˆ—è¡¨ä¸­ç§»é™¤ä¸€é¡¹</li><li>isEmptyï¼šæ˜¯å¦ä¸ºç©º</li><li>sizeï¼šè¿”å›é“¾è¡¨åŒ…å«å…ƒç´ ä¸ªæ•°</li><li>toStringï¼šè¾“å‡ºå…ƒç´ å€¼</li></ul><p>å°è£…é“¾è¡¨</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">function LinkedList() &#123;function Node(data)&#123;this.data &#x3D; data;this.next &#x3D; null&#125;this.head &#x3D; null;this.length &#x3D; 0;LinkedList.prototype.append &#x3D; function (data)&#123;const newNode &#x3D; new Node(data)&#x2F;&#x2F;1.æœ‰èŠ‚ç‚¹ 2.æ— èŠ‚ç‚¹if(this.length &#x3D;&#x3D;&#x3D; 0)&#123;this.head &#x3D; newNode&#125;else &#123;let current &#x3D; this.head;while(current.next)&#123;current &#x3D; current.next&#125;current.next &#x3D; newNode&#125;this,length +&#x3D; 1&#125;LinkedList.prototype.insert &#x3D; function (position, data)&#123;&#x2F;&#x2F;1.è¾¹ç•Œåˆ¤æ–­&#125;&#125;</code></pre><h3 id="åŒå‘é“¾è¡¨"><a href="#åŒå‘é“¾è¡¨" class="headerlink" title="åŒå‘é“¾è¡¨"></a>åŒå‘é“¾è¡¨</h3><p><img src="/%E9%93%BE%E8%A1%A8%2074e1b4f3b487429ab96eee441f8a2bf2/Untitled.png" alt="Untitled"></p><ul><li>headï¼šå¤´æŒ‡é’ˆ</li><li>tailï¼šå°¾æŒ‡é’ˆ</li><li>prevï¼šæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹</li><li>nextï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li></ul><p>å°è£…åŒå‘é“¾è¡¨</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">function DoulyLinkedList()&#123;&#125;</code></pre><h2 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h2><p><img src="/%E6%A0%91%20c53844d94f6d409e8c531a7e49d761c3/Untitled.png" alt="Untitled"></p><p>äºŒå‰æ ‘ï¼šæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚</p><p>äºŒå‰æ ‘çš„ç‰¹æ€§</p><ul><li>ä¸€ä¸ªäºŒå‰æ ‘ç¬¬ i å±‚çš„æœ€å¤§èŠ‚ç‚¹æ•°ä¸ºï¼š 2^(i - 1), i â‰¥ 1;</li><li>æ·±åº¦ä¸ºKçš„äºŒå‰æ ‘æœ‰æœ€å¤§èŠ‚ç‚¹æ€»æ•°ä¸ºï¼š2^k - 1, k â‰¥ 1;</li><li>å¯¹ä»»ä½•éç©ºäºŒå‰æ ‘Tï¼Œè‹¥n0è¡¨ç¤ºå¶èŠ‚ç‚¹çš„å“¥æ•°ã€n2æ˜¯åº¦ä¸º2çš„éå¶å­èŠ‚ç‚¹åˆæ ¼æ•°ï¼Œé‚£ä¹ˆä¸¤è€…æ»¡è¶³å…³ç³»n0 &#x3D; n2 + 1</li></ul><p>å®Œå…¨äºŒå‰æ ‘ï¼šé™¤å¶å­èŠ‚ç‚¹éƒ½æ˜¯æ»¡çš„</p><p>æ ‘çš„éå†æ–¹å¼</p><p>å…ˆåºéå†</p><p><img src="/%E6%A0%91%20c53844d94f6d409e8c531a7e49d761c3/Untitled%201.png" alt="Untitled"></p><ol><li>è®¿é—®æ ¹èŠ‚ç‚¹</li><li>å…ˆåºéå†å…¶å·¦å­æ ‘</li><li>å…ˆåºéå†å…¶å³å­æ ‘</li></ol><p>ä¸­åºéå†</p><p><img src="/%E6%A0%91%20c53844d94f6d409e8c531a7e49d761c3/Untitled%202.png" alt="Untitled"></p><ol><li>ä¸­åºéå†å…¶å·¦å­æ ‘</li><li>è®¿é—®æ ¹èŠ‚ç‚¹</li><li>ä¸­åºéå†å…¶å³å­æ ‘</li></ol><p>ååºéå†</p><p><img src="/%E6%A0%91%20c53844d94f6d409e8c531a7e49d761c3/Untitled%203.png" alt="Untitled"></p><ol><li>ååºéå†å…¶å·¦å­æ ‘</li><li>ååºéå†å…¶å³å­æ ‘</li><li>è®¿é—®æ ¹èŠ‚ç‚¹</li></ol><p>äºŒå‰æœç´¢æ ‘</p><p>å¸¸è§æ–¹æ³•ï¼š</p><ul><li>insertï¼šå‘æ ‘ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„é”®</li><li>searchï¼šæŸ¥æ‰¾ä¸€ä¸ªé”®</li><li>inOrderTraverseï¼šé€šè¿‡ä¸­åºéå†æ–¹å¼éå†æ‰€æœ‰èŠ‚ç‚¹</li><li>preOrderTraverseï¼šé€šè¿‡å…ˆåºéå†æ–¹å¼éå†æ‰€æœ‰èŠ‚ç‚¹</li><li>postOrderTraverseï¼šé€šè¿‡ååºéå†æ–¹å¼éå†æ‰€æœ‰èŠ‚ç‚¹</li><li>minï¼šè¿”å›æ ‘ä¸­æœ€å°å€¼</li><li>maxï¼šè¿”å›æ ‘ä¸­æœ€å¤§å€¼</li><li>removeï¼šåˆ é™¤æŸä¸ªé”®</li></ul><p>å°è£…äºŒå‰æœç´ æ ‘</p><pre class="language-jsx" data-language="jsx"><code class="language-jsx">function BinarySerachTree() &#123;function Node(key) &#123;&#125;this.root &#x3D; null&#125;</code></pre><p>å¯¹äºä¸€é¢—å¹³è¡¡äºŒå‰æ ‘æ¥è¯´ï¼Œæ’å…¥ã€æŸ¥æ‰¾ç­‰æ“ä½œçš„æ•ˆç‡æ˜¯O(logN)</p><p>å¯¹äºä¸€é¢—éå¹³è¡¡äºŒå‰æ ‘ï¼Œç›¸å½“äºç¼–å†™äº†ä¸€ä¸ªé“¾è¡¨ï¼ŒæŸ¥æ‰¾æ•ˆç‡æ˜¯O(N)</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæ‰‹å†™æ–¹æ³•åˆé›†</title>
      <link href="/2023/02/07/JS%E6%89%8B%E5%86%99%E6%96%B9%E6%B3%95%E5%90%88%E9%9B%86/"/>
      <url>/2023/02/07/JS%E6%89%8B%E5%86%99%E6%96%B9%E6%B3%95%E5%90%88%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h1 id="JSæ‰‹å†™æ–¹æ³•åˆé›†"><a href="#JSæ‰‹å†™æ–¹æ³•åˆé›†" class="headerlink" title="JSæ‰‹å†™æ–¹æ³•åˆé›†"></a>JSæ‰‹å†™æ–¹æ³•åˆé›†</h1><p>2023å¹´é¢è¯•å‡†å¤‡çš„æ‰‹å†™æ–¹æ³•åˆé›†ã€‚</p><h2 id="æ’åºç›¸å…³"><a href="#æ’åºç›¸å…³" class="headerlink" title="æ’åºç›¸å…³"></a>æ’åºç›¸å…³</h2><h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token operator">?.</span>length    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">^=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>                arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">^=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">'arr'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> arr<span class="token punctuation">&#125;</span><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span></code></pre><h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token operator">?.</span>length<span class="token punctuation">;</span>    <span class="token keyword">let</span> minIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> temp    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        minIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                minIndex <span class="token operator">=</span> j            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>        arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">=</span> temp    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> arr<span class="token punctuation">&#125;</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">selectSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></code></pre><h3 id="å¿«æ’"><a href="#å¿«æ’" class="headerlink" title="å¿«æ’"></a>å¿«æ’</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span>  <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> nums<span class="token punctuation">;</span>    <span class="token keyword">let</span> midIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>nums<span class="token operator">?.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> midValue <span class="token operator">=</span> nums<span class="token operator">?.</span><span class="token function">splice</span><span class="token punctuation">(</span>midIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">let</span> leftArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rightArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        item <span class="token operator">&lt;</span> midValue <span class="token operator">?</span> leftArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> rightArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>leftArr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>midValue<span class="token punctuation">,</span><span class="token function">quickSort</span><span class="token punctuation">(</span>rightArr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><h3 id="æœ‰æ•ˆæ‹¬å·"><a href="#æœ‰æ•ˆæ‹¬å·" class="headerlink" title="æœ‰æ•ˆæ‹¬å·"></a>æœ‰æ•ˆæ‹¬å·</h3><p>å®ç°åŸç†ï¼š æ ˆç»“æ„ã€mapæ˜ å°„</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string-property property">'&#123;'</span><span class="token operator">:</span> <span class="token string">'&#125;'</span><span class="token punctuation">,</span>        <span class="token string-property property">'['</span><span class="token operator">:</span> <span class="token string">']'</span><span class="token punctuation">,</span>        <span class="token string-property property">'('</span><span class="token operator">:</span> <span class="token string">')'</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> value <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">'&#123;'</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">'['</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">'('</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>          stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">let</span> left <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>          <span class="token keyword">let</span> right <span class="token operator">=</span> map<span class="token punctuation">[</span>left<span class="token punctuation">]</span>          <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">!==</span> right<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">return</span> stack<span class="token operator">?.</span>length <span class="token operator">===</span> <span class="token number">0</span>    <span class="token punctuation">&#125;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"()"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"()[]&#123;&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"(]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"([)]"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// false</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token string">"&#123;[]&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span></code></pre><h3 id="LRU"><a href="#LRU" class="headerlink" title="LRU"></a>LRU</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">LRUCache</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">capacity</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>capacity <span class="token operator">=</span> capacity<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">LRUCache</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">get</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>        <span class="token keyword">return</span> value    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token class-name">LRUCache</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">put</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span>size <span class="token operator">>=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>capacity<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ç©ºé—´æ»¡äº†</span>            <span class="token keyword">const</span> firstKey <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value            <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>firstKey<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>     <span class="token keyword">this</span><span class="token punctuation">.</span>cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> lurCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LRUCache</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>lurCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></code></pre><h2 id="promise-all"><a href="#promise-all" class="headerlink" title="promise.all"></a>promise.all</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">promiseAll</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//å‚æ•°å¿…é¡»ä¸ºæ•°ç»„</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">'type error'</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> resultArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//è¿”å›ç»“æœ</span>        <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//è®°å½•ç´¢å¼•</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> values<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">const</span> value <span class="token operator">=</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> value<span class="token operator">?.</span>then <span class="token operator">==</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//æ‰§è¡Œ.then.catch</span>                value<span class="token operator">?.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">processPromise</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>reject<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                <span class="token comment">//ç›´æ¥æ‹¿ç»“æœ</span>                <span class="token function">processPromise</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> i<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>                 <span class="token keyword">function</span> <span class="token function">processPromise</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resultArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> value            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">++</span>idx <span class="token operator">===</span> values<span class="token operator">?.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token function">resolve</span><span class="token punctuation">(</span>resultArr<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>         <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token function">promiseAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//è¾“å‡º [1, 2, 3]</span></code></pre><h2 id="Primise-race"><a href="#Primise-race" class="headerlink" title="Primise.race"></a>Primise.race</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">promiseRace</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error type'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> data <span class="token keyword">of</span> values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> data<span class="token operator">?.</span>then <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        data<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>          <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">promiseRace</span><span class="token punctuation">(</span><span class="token punctuation">[</span>     <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">promiseRace</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error type'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span>    values<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> data <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">promiseRace</span><span class="token punctuation">(</span><span class="token punctuation">[</span>     <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> thisArg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> args<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            args<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h2 id="newå…³é”®å­—"><a href="#newå…³é”®å­—" class="headerlink" title="newå…³é”®å­—"></a>newå…³é”®å­—</h2><p>newå…³é”®å­—å®ç°åŸç†</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºå¯¹è±¡</span>    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ”¹å˜thisæŒ‡å‘</span>    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> fn<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">//åŸå‹æŒ‡å‘åŸå‹å¯¹è±¡</span><span class="token punctuation">&#125;</span></code></pre><h2 id="onceå‡½æ•°å®ç°"><a href="#onceå‡½æ•°å®ç°" class="headerlink" title="onceå‡½æ•°å®ç°"></a>onceå‡½æ•°å®ç°</h2><p>onceå‡½æ•°ä¸ºvueé‡Œé¢çš„<code>once</code>å‡½æ•°-&gt;å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡<br>å®ç°åŸç†ï¼šé€šè¿‡<code>é—­åŒ…</code>çš„æ–¹å¼å­˜å‚¨çŠ¶æ€</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            state <span class="token operator">=</span> <span class="token boolean">true</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> onceFn <span class="token operator">=</span> <span class="token function">once</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€æ¬¡'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token function">onceFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">onceFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">onceFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="å­—ç¬¦ä¸²åè½¬"><a href="#å­—ç¬¦ä¸²åè½¬" class="headerlink" title="å­—ç¬¦ä¸²åè½¬"></a>å­—ç¬¦ä¸²åè½¬</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">stringReverse</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><h2 id="æ•°ç»„éšæœºæ’åº"><a href="#æ•°ç»„éšæœºæ’åº" class="headerlink" title="æ•°ç»„éšæœºæ’åº"></a>æ•°ç»„éšæœºæ’åº</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">arrayRandomSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token function">arrayRandomSort</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><h2 id="ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•°"><a href="#ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•°" class="headerlink" title="ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•°"></a>ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠæ¬¡æ•°</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getFrequentChar</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> maxArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">?</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> maxArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            maxArr <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> maxArr<span class="token punctuation">&#125;</span><span class="token function">getFrequentChar</span><span class="token punctuation">(</span><span class="token string">"aaabbaaacc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="æ•°ç»„äº¤é›†"><a href="#æ•°ç»„äº¤é›†" class="headerlink" title="æ•°ç»„äº¤é›†"></a>æ•°ç»„äº¤é›†</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">intersection</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token function">intersection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><h2 id="æ•°ç»„å¹¶é›†"><a href="#æ•°ç»„å¹¶é›†" class="headerlink" title="æ•°ç»„å¹¶é›†"></a>æ•°ç»„å¹¶é›†</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">union</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>            timer <span class="token operator">=</span> <span class="token keyword">null</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h2><h3 id="1-èŠ‚æµæ—¶é—´æˆ³æ–¹å¼å®ç°"><a href="#1-èŠ‚æµæ—¶é—´æˆ³æ–¹å¼å®ç°" class="headerlink" title="1 èŠ‚æµæ—¶é—´æˆ³æ–¹å¼å®ç°"></a>1 èŠ‚æµæ—¶é—´æˆ³æ–¹å¼å®ç°</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">throttle</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> pre <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token keyword">let</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> pre <span class="token operator">>=</span> delay<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>            pre <span class="token operator">=</span> now<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="2-èŠ‚æµå®šæ—¶å™¨æ–¹å¼å®ç°"><a href="#2-èŠ‚æµå®šæ—¶å™¨æ–¹å¼å®ç°" class="headerlink" title="2 èŠ‚æµå®šæ—¶å™¨æ–¹å¼å®ç°"></a>2 èŠ‚æµå®šæ—¶å™¨æ–¹å¼å®ç°</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">throttle</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> statue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>statue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        statue <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>            statue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpackå·¥ä½œæµç¨‹</title>
      <link href="/2023/02/03/webpack%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/"/>
      <url>/2023/02/03/webpack%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="webpackå·¥ä½œæµç¨‹"><a href="#webpackå·¥ä½œæµç¨‹" class="headerlink" title="webpackå·¥ä½œæµç¨‹"></a>webpackå·¥ä½œæµç¨‹</h2><blockquote><p>webpackæ„å»ºçš„æ ¸å¿ƒæ˜¯å®Œæˆå†…å®¹çš„è½¬æ¢å’Œèµ„æºçš„åˆå¹¶ã€‚</p></blockquote><p>åˆ†åˆå§‹åŒ–é˜¶æ®µã€æ„å»ºé˜¶æ®µã€ç”Ÿæˆé˜¶æ®µæ¥è®²è§£webpackå·¥ä½œæµç¨‹ã€‚</p><h3 id="åˆå§‹åŒ–é˜¶æ®µ"><a href="#åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="åˆå§‹åŒ–é˜¶æ®µ"></a>åˆå§‹åŒ–é˜¶æ®µ</h3><ol><li>åˆå§‹åŒ–å‚æ•°</li></ol><p>å°†å‘½ä»¤è¡Œå‚æ•°å’Œç”¨æˆ·é…ç½®æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œä½¿ç”¨schema-utilsåº“çš„getValidateSchemaæ–¹æ³•è¿›è¡Œå‚æ•°æ ¡éªŒ</p><ol start="2"><li>åˆ›å»ºç¼–è¯‘å¯¹è±¡ã€å®ä¾‹åŒ–é…ç½®ä¿¡æ¯</li></ol><p>webpackæ”¯æŒå¤šä¸ªé…ç½®å¯¹è±¡ï¼Œæ¯”å¦‚ä¸€ä¸ªlibraryæœ‰å¤šä¸ªæ„å»ºç›®æ ‡ï¼Œå°±éœ€è¦ä¼ å…¥å¤šä¸ªé…ç½®å¯¹è±¡ï¼Œæ¯ä¸ªé…ç½®å¯¹è±¡éƒ½è¦æ‰§è¡Œã€‚<br><code>compilerå¯¹è±¡åŒ…å«äº†webpackç¯å¢ƒæ‰€æœ‰çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚optionsã€loadersã€plugins</code>ã€‚</p><h4 id="createCompiler"><a href="#createCompiler" class="headerlink" title="createCompiler"></a>createCompiler</h4><p><a href="https://github.com/webpack/webpack/blob/main/lib/webpack.js">æºç </a>123è¡Œ</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    compiler <span class="token operator">=</span> createMultiCompiler<span class="token punctuation">&#123;</span>options<span class="token punctuation">&#125;</span>    <span class="token operator">...</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    compiler <span class="token operator">=</span> <span class="token function">createCompiler</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>    <span class="token operator">...</span><span class="token punctuation">&#125;</span></code></pre><p><a href="https://github.com/webpack/webpack/blob/main/lib/webpack.js#L61">åˆ›å»ºcompiler</a></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">createCompiler</span> <span class="token operator">=</span> <span class="token parameter">rawOptions</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token function">getNormalizedWebpackOptions</span><span class="token punctuation">(</span>rawOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">applyWebpackOptionsBaseDefaults</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Compiler</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>context<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">new</span> <span class="token class-name">NodeEnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token literal-property property">infrastructureLogging</span><span class="token operator">:</span> options<span class="token punctuation">.</span>infrastructureLogging    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>plugins<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> plugin <span class="token keyword">of</span> options<span class="token punctuation">.</span>plugins<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> plugin <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            <span class="token function">plugin</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>compiler<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                            <span class="token function">plugin</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">applyWebpackOptionsDefaults</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">afterEnvironment</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">new</span> <span class="token class-name">WebpackOptionsApply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> compiler<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><p>æ¥ä¸‹æ¥é’ˆå¯¹createCompileråˆ›å»ºæµç¨‹ç»†åŒ–</p><h4 id="NodeEnvironmentPlugin"><a href="#NodeEnvironmentPlugin" class="headerlink" title="NodeEnvironmentPlugin"></a>NodeEnvironmentPlugin</h4><p>å®ä¾‹åŒ–NodeEnvironmentPlugin</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//65è¡Œ</span><span class="token keyword">new</span> <span class="token class-name">NodeEnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">infrastructureLogging</span><span class="token operator">:</span> options<span class="token punctuation">.</span>infrastructureLogging<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>NodeEnvironmentPlugin</code>å¯ä»¥å¯¹æ–‡ä»¶è¾“å…¥ã€è¾“å‡ºã€ç¼“å­˜ã€ç›‘å¬ã€‚<a href="https://github.com/webpack/webpack/blob/main/lib/node/NodeEnvironmentPlugin.js">æºç </a></p><p>é™„å«<a href="https://webpack.docschina.org/api/compiler-hooks/">compiler hook</a> </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">NodeEnvironmentPlugin</span> <span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token operator">...</span>        <span class="token comment">//æ–‡ä»¶è¾“å…¥</span>        compiler<span class="token punctuation">.</span>inputFileSystem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CachedInputFileSystem</span><span class="token punctuation">(</span>fs<span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ–‡ä»¶è¾“å‡º</span>        compiler<span class="token punctuation">.</span>outputFilesSystem <span class="token operator">=</span> fs<span class="token punctuation">;</span> <span class="token comment">//const fs = require("graceful-fs");</span>        <span class="token comment">//æ–‡ä»¶ç¼“å­˜</span>        compiler<span class="token punctuation">.</span>intermdiateFileSystem <span class="token operator">=</span> fs<span class="token punctuation">;</span>        <span class="token comment">//æ–‡ä»¶ç›‘å¬</span>        compiler<span class="token punctuation">.</span>watchFileSystem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NodeMatchFileSystem</span><span class="token punctuation">&#123;</span> compiler<span class="token punctuation">.</span>inputFileSystem <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token comment">//é¡¹ç›®é…ç½®æ’ä»¶æä¾›äº†`inputFileSystem`å¯¹è±¡å°±ä½¿ç”¨é¡¹ç›®æä¾›çš„</span>        compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>beforeRun<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">"NodeEnvironmentPlugin"</span><span class="token punctuation">,</span> <span class="token parameter">compiler</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>compiler<span class="token punctuation">.</span>inputFileSystem <span class="token operator">===</span> inputFileSystem<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                compiler<span class="token punctuation">.</span>fsStartTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                inputFileSystem<span class="token punctuation">.</span><span class="token function">purge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h4 id="è§£æ„options-pluginsï¼ˆæ³¨å†Œpluginsï¼‰"><a href="#è§£æ„options-pluginsï¼ˆæ³¨å†Œpluginsï¼‰" class="headerlink" title="è§£æ„options.pluginsï¼ˆæ³¨å†Œpluginsï¼‰"></a>è§£æ„options.pluginsï¼ˆæ³¨å†Œpluginsï¼‰</h4><p>åˆ¤æ–­pluginså±æ€§æ˜¯å¦ä¸ºæ•°ç»„ï¼Œæ˜¯æ•°ç»„ç„¶åè§£æ„ä¸ºä¸€ä¸ªä¸€ä¸ªçš„plugin,<a href="https://github.com/webpack/webpack/blob/main/lib/webpack.js#L68">ç›´è¾¾</a></p><p>éå†argumentså¯¹è±¡ï¼Œargumentsæˆå‘˜-&gt;æ’ä»¶å®ä¾‹è°ƒç”¨è‡ªèº«çš„applyæ–¹æ³•æ‰§è¡Œæ³¨å†Œæµç¨‹ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>plugins<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> plugin <span class="token keyword">of</span> options<span class="token punctuation">.</span>plugins<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> plugin <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">plugin</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>compiler<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token function">plugin</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">applyWebpackOptionsDefaults</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="compiler-optionsçš„é‡æ–°èµ‹å€¼"><a href="#compiler-optionsçš„é‡æ–°èµ‹å€¼" class="headerlink" title="compiler.optionsçš„é‡æ–°èµ‹å€¼"></a>compiler.optionsçš„é‡æ–°èµ‹å€¼</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">afterEnvironment</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">WebpackOptionsApply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åœ¨<a href="https://github.com/webpack/webpack/blob/main/lib/WebpackOptionsApply.js">WebpackOptionsApply</a>ç±»é‡Œé¢æä¾›ä¸€ä¸ªprocessæ–¹æ³•ã€‚process(options, compiler) { }ã€‚è€Œå®ƒä¸»è¦åšäº†ä»¥ä¸‹å‡ ä»¶äº‹æƒ…</p><ol><li>å°†ä¼ å…¥çš„optionsä¸Šçš„å±æ€§èµ‹å€¼ç»™compilerå¯¹äºå¯¹è±¡</li><li>æ ¹æ®optionsé…ç½®æ˜¯å¦éœ€è¦æ³¨å†Œä¸€äº›å†…éƒ¨è‡ªå¸¦çš„æ’ä»¶å’ŒresolverFactory.hooks</li><li>è§£æentry<code>new EntryOptionPlugin().apply(compiler);compiler.hooks.entryOption.call(options.context, options.entry);</code></li><li>è¿”å›options</li></ol><p>resolverFactory.hooksä¸»è¦åŒ…å«<code>normal</code>ã€<code>context</code>ã€<code>loader</code></p><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="æ„å»ºé˜¶æ®µ"><a href="#æ„å»ºé˜¶æ®µ" class="headerlink" title="æ„å»ºé˜¶æ®µ"></a>æ„å»ºé˜¶æ®µ</h3><p>æ„å»ºé˜¶æ®µä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæµç¨‹ï¼š</p><ol><li>å¼€å§‹ç¼–è¯‘</li><li>ç¡®è®¤ç¼–è¯‘å…¥å£ï¼ˆè¯»å–entiresé…ç½®ï¼Œé€’å½’éå†æ‰€æœ‰å…¥å£æ–‡ä»¶ï¼‰</li><li>ç¼–è¯‘æ¨¡å—ï¼ˆä»entryæ–‡ä»¶å¼€å§‹ï¼Œè°ƒç”¨loaderå¯¹æ¨¡å—è¿›è¡Œè½¬è¯‘ï¼Œé€šè¿‡<code>acorn</code>è½¬æ¢ä¸ºASTï¼‰</li><li>å®Œæˆæ¨¡å—ç¼–è¯‘</li></ol><h4 id="compiler-run"><a href="#compiler-run" class="headerlink" title="compiler.run"></a>compiler.run</h4><p><a href="https://github.com/webpack/webpack/blob/4b4ca3bb53f36a5b8fc6bc1bd976ed7af161bd80/lib/Compiler.js#L514">Compiler.run()</a></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">run</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>beforeRun<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">finalCallback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>run<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">finalCallback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">readRecords</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">finalCallback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>onCompiled<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre><h4 id="compiler-compile"><a href="#compiler-compile" class="headerlink" title="compiler.compile"></a>compiler.compile</h4><p><a href="https://github.com/webpack/webpack/blob/4b4ca3bb53f36a5b8fc6bc1bd976ed7af161bd80/lib/Compiler.js#L1159">Compiler.compile(callback)</a></p><p>åœ¨compileæ–¹æ³•ä¾æ¬¡æ‰§è¡Œäº†ä»¥ä¸‹å‡ ä¸ªhook</p><ol><li>beforeCompile</li><li>compile</li><li>make</li><li>finishMake</li><li>afterCompile</li></ol><p>åœ¨complieé˜¶æ®µé€šè¿‡<code>const compilation = this.newCompilation(params);</code>å®ä¾‹åŒ–äº†Compilationï¼Œå¯¹äºcompilationå¯¹è±¡è¡¨ç°äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆçš„èµ„æºã€å˜åŒ–çš„æ–‡ä»¶ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ï¼Œä»£è¡¨ä¸€æ¬¡èµ„æºçš„æ„å»ºã€‚</p><h3 id="ç”Ÿæˆé˜¶æ®µ"><a href="#ç”Ÿæˆé˜¶æ®µ" class="headerlink" title="ç”Ÿæˆé˜¶æ®µ"></a>ç”Ÿæˆé˜¶æ®µ</h3><p>è¾“å‡ºèµ„æºã€å†™å…¥æ–‡ä»¶ç³»ç»Ÿ</p><h3 id="å…³äºLoaderã€Plugin"><a href="#å…³äºLoaderã€Plugin" class="headerlink" title="å…³äºLoaderã€Plugin"></a>å…³äºLoaderã€Plugin</h3><p>Loader æ˜¯å¯¹ä¸€ä¸ªä¸ªçš„æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå®ƒæ˜¯ä¸€ä¸ªè½¬æ¢å™¨ï¼Œå°†Aæ–‡ä»¶è¿›è¡Œç¼–è¯‘æˆBæ–‡ä»¶ã€‚</p><p>Plugin æ˜¯è´¯ç©¿åœ¨æ•´ä¸ªæ„å»ºç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥å¯¹ä¸åŒé˜¶æ®µçš„æ„å»ºäº§ç‰©è¿›è¡Œå¤„ç†ã€‚</p><h4 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h4><p>webpackçš„loaderæœ¬è´¨æ˜¯ä¸€ä¸ª<code>ESM</code>æ¨¡å—ï¼Œå®ƒå¯¼å‡ºä¸€ä¸ª<code>å‡½æ•°</code>ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯å¯¹æ‰“åŒ…èµ„æºè¿›è¡Œè½¬æ¢ç„¶åè¾“å‡ºç»“æœã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">loader</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token comment">//source èµ„æºæ–‡ä»¶å†…å®¹</span>    <span class="token comment">//TODO å¤„ç†è¿‡ç¨‹</span>    <span class="token keyword">return</span> <span class="token string">'åŠ å·¥åçš„è¾“å‡º'</span><span class="token punctuation">&#125;</span>loader<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//pitch loader</span>    <span class="token comment">//TODO</span><span class="token punctuation">&#125;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> loader<span class="token punctuation">;</span></code></pre><h4 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h4><p>pluginæ˜¯å¯¼å‡ºä¸€ä¸ª<code>class</code>ï¼Œå…¶ä¸­ç±»åŒ…å«äº†ä¸€ä¸ªå›ºå®šçš„æ–¹æ³•åä¸º<code>apply</code>,applyæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸º<code>compiler</code>,æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‹¿åˆ°<code>compiler</code>å¯¹è±¡çš„hooksè¿›è¡Œæ·»åŠ äº‹ä»¶.</p><blockquote><p><a href="https://github.com/webpack/tapable">Tapable</a>: ä¸€ä¸ªå·¥å…·åº“ï¼Œå…¶ä¸­åŒ…å«äº†å¾ˆå¤šhookã€‚</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">EchoPlugin</span> <span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//options</span>    <span class="token punctuation">&#125;</span>        <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//tap: åŒæ­¥/å¼‚æ­¥ï¼›topAsyncï¼šå¼‚æ­¥</span>        <span class="token comment">//å¯ä»¥åœ¨compilerä»»æ„ç”Ÿå‘½å‘¨æœŸå†…è¿›è¡Œæ“ä½œï¼Œä¸¾ä¾‹emitçš„é’©å­</span>        compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'EchoPlugin'</span><span class="token punctuation">,</span> <span class="token parameter">compilation</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token comment">//TODO</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="æ€»ä½“æµç¨‹å›¾"><a href="#æ€»ä½“æµç¨‹å›¾" class="headerlink" title="æ€»ä½“æµç¨‹å›¾"></a>æ€»ä½“æµç¨‹å›¾</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f647deaf7f34bdbafae0b9198574a7f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>æ¨èé“¾æ¥<a href="https://febook.hzfe.org/awesome-interview/book1/engineer-webpack-workflow#31-%E7%94%9F%E6%88%90%E4%BA%A7%E7%89%A9">å‰‘æŒ‡å‰ç«¯Offer</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> webpacck </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡ åˆ†é’Ÿäº†è§£jsæ¨¡å—åŒ–ã€IIFE</title>
      <link href="/2023/02/01/%E5%87%A0%E5%88%86%E9%92%9F%E4%BA%86%E8%A7%A3js%E6%A8%A1%E5%9D%97%E5%8C%96%E3%80%81IIFE/"/>
      <url>/2023/02/01/%E5%87%A0%E5%88%86%E9%92%9F%E4%BA%86%E8%A7%A3js%E6%A8%A1%E5%9D%97%E5%8C%96%E3%80%81IIFE/</url>
      
        <content type="html"><![CDATA[<h1 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h1><p>ç›®å‰è§„å®šçš„å››ç§æ¨¡å—åŒ–è§„èŒƒï¼šCommonJSã€AMDã€CMDã€ES6 Modules import<br>åˆ†ä¸ºä¸‹é¢å››ç‚¹ï¼š</p><ol><li>CommonJS</li><li>AMD</li><li>CMD</li><li>ES6 Modules</li></ol><h2 id="ä¸€ï¼š-CommonJS"><a href="#ä¸€ï¼š-CommonJS" class="headerlink" title="ä¸€ï¼š CommonJS:"></a>ä¸€ï¼š CommonJS:</h2><p>nodeæ¨¡å—ä¸­é‡‡ç”¨çš„å°±æ˜¯CommonJSæ¨¡å—è§„èŒƒ,<br>æš´éœ²æ¨¡å—çš„æ–¹æ³•: module.exports &#x3D; xxx,<br>å¼•å…¥æ¨¡å—çš„æ–¹æ³•: require(xxx)  &#x2F;&#x2F;ä¸‰æ–¹æ¨¡å—ä¸ºï¼šæ¨¡å—åï¼› è‡ªå®šä¹‰æ¨¡å—ä¸ºï¼š è·¯å¾„å<br>ç‰¹ç‚¹: åŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„: åŠ è½½å®Œæˆ,ç»§ç»­æ‰§è¡Œæµç¨‹,</p><h2 id="äºŒï¼š-AMD"><a href="#äºŒï¼š-AMD" class="headerlink" title="äºŒï¼š AMD:"></a>äºŒï¼š AMD:</h2><p>æš´éœ²æ¨¡å—çš„æ–¹æ³•:<br>define(function(){<br>    return æ¨¡å—<br>})<br>è‹¥æš´éœ²å‡ºçš„æ¨¡å—æœ‰ä¾èµ–æ¨¡å—åˆ™:<br>define([], function(){<br>    &#x2F;&#x2F;æ•°ç»„ä¸­å¡«å†™ä¾èµ–æ¨¡å—å<br>    &#x2F;&#x2F;å¯ä»¥åœ¨functionä¸­å¸¦å‚æ•°ç»™ä¾èµ–æ¨¡å—å–åˆ«å<br>    return æ¨¡å—<br>})<br>å¼•å…¥æ¨¡å—çš„æ–¹æ³•:<br>require([], function(æ¨¡å—å,[â€¦]){</p><p>})</p><h2 id="ä¸‰-CMD"><a href="#ä¸‰-CMD" class="headerlink" title="ä¸‰: CMD:"></a>ä¸‰: CMD:</h2><p>CMDæ˜¯ä¸“é—¨ç”¨äºæµè§ˆå™¨ç«¯. å¼‚æ­¥åŠ è½½. CommonJSä¸AMDçš„ç»“åˆ<br><a href="https://juejin.cn/post/6844903744518389768#heading-40">è‹¥éœ€è¯¦ç»†äº†è§£å¯ä»¥æŸ¥çœ‹:</a></p><h2 id="å››ï¼š-es6-Modules"><a href="#å››ï¼š-es6-Modules" class="headerlink" title="å››ï¼š es6 Modules"></a>å››ï¼š es6 Modules</h2><p>é»˜è®¤æš´éœ²æ¨¡å—: export default () &#x3D;&gt; {<br>        xxx<br>}<br>é€‰æ‹©æ€§æš´éœ²æ¨¡å— export xxx<br>ä¸¾ä¾‹:<br>    export function foo() {<br>            console.log(â€˜å“ˆå“ˆå“ˆï¼Œæˆ‘å¯¼å‡ºäº†ä¸€ä¸ªæ–¹æ³•å“¦ï¼â€™)<br>    }<br>å¼•å…¥æ¨¡å—çš„æ–¹æ³•:<br>    import { foo } from â€˜æ–‡ä»¶å{æ–‡ä»¶åå¯ä»¥æ˜¯è·¯å¾„ å¯ä»¥æ˜¯åº“å}â€™<br>    &#x2F;&#x2F;å¯ä»¥æŒ‰éœ€å¼•å…¥ æ¨¡å—ä¸­çš„æš´éœ²å‡ºæ¥çš„æ–¹æ³•ã€å€¼ã€å¯¹è±¡</p><h2 id="æ‹“å±•çŸ¥è¯†"><a href="#æ‹“å±•çŸ¥è¯†" class="headerlink" title="æ‹“å±•çŸ¥è¯†"></a>æ‹“å±•çŸ¥è¯†</h2><p>IIFEï¼šç«‹å³æ‰§è¡Œå‡½æ•°  </p><h3 id="ç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡ ç§å†™æ³•ï¼š"><a href="#ç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡ ç§å†™æ³•ï¼š" class="headerlink" title="ç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡ ç§å†™æ³•ï¼š"></a>ç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡ ç§å†™æ³•ï¼š</h3><p>ç¬¬ä¸€ç§ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç¬¬ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>ç¬¬äºŒç§ï¼šï¼ˆè§„èŒƒæ¨èå†™æ³•ï¼‰</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç¬¬äºŒä¸ªç«‹å³æ‰§è¡Œå‡½æ•°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>ç¬¬ä¸‰ç§ï¼š </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç¬¬ä¸‰ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>ç¬¬å››ç§ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯ç¬¬å››ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>æ€»ç»“ï¼š<br>ç¬¬ä¸€ç§å¸¸è§ã€å·²åˆ†è¾¨è¯¥å‡½æ•°ä¸ºç«‹å³æ‰§è¡Œå‡½æ•°ï¼›ç¬¬äºŒç§ä¸ºè§„èŒƒå¼å†™æ³•ï¼›ç¬¬ä¸‰ç§åˆ°ç¬¬å››ç§ä¸º å½“å‡½æ•°ä½œä¸ºè¡¨è¾¾å¼è¿è¡Œæ—¶ï¼Œå¯ä»¥åœ¨ä¸éœ€è¦å†™ä¸º()()ã€‚ () jsè‡ªåŠ¨è§£æä¸ºè¡¨è¾¾å¼ã€‚ä»¥æ­¤ï¼Œç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡½æ•°è¡¨è¾¾å¼çš„å†™æ³•æœ‰å¤šç§ã€‚</p><blockquote><p>å¯¹äºå¸¦å‚æ•°çš„ç«‹å³æ‰§è¡Œå‡½æ•°. ä¸¾ä¾‹ä¸€ä¸ªåŠ æ³•å‡½æ•°</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token comment">// 3</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span></code></pre><h2 id="å…¨å±€ä¸Šä¸‹æ–‡-GO-ã€å‡½æ•°ä¸Šä¸‹æ–‡çŸ¥è¯†-AO"><a href="#å…¨å±€ä¸Šä¸‹æ–‡-GO-ã€å‡½æ•°ä¸Šä¸‹æ–‡çŸ¥è¯†-AO" class="headerlink" title="å…¨å±€ä¸Šä¸‹æ–‡(GO)ã€å‡½æ•°ä¸Šä¸‹æ–‡çŸ¥è¯†(AO)"></a>å…¨å±€ä¸Šä¸‹æ–‡(GO)ã€å‡½æ•°ä¸Šä¸‹æ–‡çŸ¥è¯†(AO)</h2><p>ä¸‹é¢ä¸€é¢˜ç­”æ¡ˆï¼š </p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™é‡Œæ˜¯å‡½æ•°çŸ¥è¯†'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p>ç­”æ¡ˆè§è¯„è®ºåŒº</p><h2 id="çŸ¥è¯†å°åº—1"><a href="#çŸ¥è¯†å°åº—1" class="headerlink" title="çŸ¥è¯†å°åº—1"></a>çŸ¥è¯†å°åº—1</h2><p>display: -webkit-box;<br>-webkit-line-clamp: 3;<br>-webkit-box-orient: vertical;<br>overflow: hidden;<br>text-overflow: ellipsis;<br>&#x2F;&#x2F;å®ç°ä¸‰è¡Œæ–‡å­—ï¼Œçœç•¥å·æ˜¾ç¤º</p><p>&#x2F;&#x2F;åœ¨reactä¸­</p><ol><li>ä½¿ç”¨&#x2F;* autoprefixer: ignore next *&#x2F; å¯¹-webkit-box-orient: vertical;è¿›è¡Œè¿‡æ»¤</li><li>ç›´æ¥ä½¿ç”¨è¡Œå†…å…ƒç´ <br>overflow: hidden;<br>text-overflow: ellipsis;<br>display: -webkit-box;<br>-webkit-line-clamp: 3;<br>&#x2F;* autoprefixer: ignore next *&#x2F;<br>-webkit-box-orient: vertical;</li></ol><h2 id="çŸ¥è¯†å°åº—2"><a href="#çŸ¥è¯†å°åº—2" class="headerlink" title="çŸ¥è¯†å°åº—2"></a>çŸ¥è¯†å°åº—2</h2><p>?. &#x2F;&#x2F;åœ¨å¯¹äºåç«¯è¿”å›çš„æ•°æ®è¿›è¡Œåˆ¤æ–­<br>const obj &#x3D; {<br>info: {<br>        name: â€˜echoâ€™,<br>        age: 6<br>    }<br>}<br>const obj2 &#x3D; {<br>info: null<br>}<br>console.log(obj.info?.name) &#x2F;&#x2F;â€œechoâ€<br>console.log(obj2.info?.name) &#x2F;&#x2F;undefined<br>console.log(obj.info.name) &#x2F;&#x2F;Error: Cannot read property â€˜nameâ€™ of null</p><blockquote><p>è‹¥ä¸ä½¿ç”¨?. åˆ¤æ–­åˆ™ä¸ºï¼š obj.info ? obj.info.name : null</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptå®ç°å°è£…ã€ç»§æ‰¿ã€å¤šæ€</title>
      <link href="/2023/01/06/JavaScript%E5%AE%9E%E7%8E%B0%E5%B0%81%E8%A3%85%E3%80%81%E7%BB%A7%E6%89%BF%E3%80%81%E7%BB%A7%E6%89%BF/"/>
      <url>/2023/01/06/JavaScript%E5%AE%9E%E7%8E%B0%E5%B0%81%E8%A3%85%E3%80%81%E7%BB%A7%E6%89%BF%E3%80%81%E7%BB%A7%E6%89%BF/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"><h2 id="JavaScriptå®ç°å°è£…ã€ç»§æ‰¿ã€å¤šæ€"><a href="#JavaScriptå®ç°å°è£…ã€ç»§æ‰¿ã€å¤šæ€" class="headerlink" title="JavaScriptå®ç°å°è£…ã€ç»§æ‰¿ã€å¤šæ€"></a>JavaScriptå®ç°å°è£…ã€ç»§æ‰¿ã€å¤šæ€</h2><h2 id="å‰æ™¯æè¦ï¼š"><a href="#å‰æ™¯æè¦ï¼š" class="headerlink" title="å‰æ™¯æè¦ï¼š"></a>å‰æ™¯æè¦ï¼š</h2><p>æ›¾åœ¨é¢è¯•è¿‡ç¨‹ä¸­é‡åˆ°è¯·è®²è¿°Reactçš„classå’Œhooksçš„åŒºåˆ«ã€‚</p><p>ç­”ï¼š functionæ˜¯é¢å‘è¿‡ç¨‹ç¼–ç¨‹ï¼Œclassæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¹Ÿæ˜¯åŸºäºé¢å‘è¿‡ç¨‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰</p><p>ä¸¾ä¸ª ğŸŒ° ï¼š</p><p>é¢å‘è¿‡ç¨‹ï¼š æˆ‘éœ€è¦æ‰¾ä¸€ä¸ªå¥³ç›†å‹ï¼šæˆ‘éœ€è¦åšä»€ä¹ˆäº‹å‘¢ï¼Ÿ ä¹‹å‰dyæµè¡Œçš„èƒŒæ™¯éŸ³ä¹â€”å§‹æ¢å‘å‹ã€æ”¹å˜ç©¿è¡£é£æ ¼ï¼ˆinsé£ã€oversizeâ€¦ï¼‰ã€è‡ªå¾‹ï¼ˆè‡ªé©±åŠ¨å­¦ä¹ ã€æ’¸é“ï¼‰ã€æ—©ç¡ã€‚æ•´ä¸ªæ˜¯ä¸€ä¸ªè¿‡ç¨‹ä¾æ¬¡æ‰§è¡Œã€‚</p><p>é¢å‘å¯¹è±¡ï¼šæ¯”å¦‚è¿›å…¥ä¸€ä¸ªäº¤å‹ç¤¾åŒºï¼Œä¸Šé¢å‘å¸ƒäº†æœ‰ä»¥ä¸‹äº¤å‹å• â¬‡</p><p>ä¸€ï¼š 1. æ€§åˆ«â™‚ã€ 2. èƒ–èƒ–çš„ã€ 3.é«˜é«˜çš„</p><p>äºŒï¼š 1. èº«æå¥½çš„ã€ 2. ç¨‹åºå‘˜ã€ 3. å¸…å¸…çš„</p><p>å—¯ï¼Œè¿™ä¸ªå°±ç»™äºˆäº†æˆ‘è‡ªå·±è¿›è¡Œé€‰æ‹©ï¼šå®ƒå†…éƒ¨å·²ç»ç»™æˆ‘æŠŠæ¸…å•åˆ—å‡ºæ¥ï¼Œæˆ‘æŒ‰éœ€æ‰§è¡Œå°±å®Œäº‹äº†ã€‚</p><p>æˆ‘é€‰æ‹©ç¬¬äºŒä¸ªï¼Œé‚£ä¹ˆå°±æ ¹æ®ä¸Šé¢çš„è¦æ±‚ä¾æ¬¡æ‰§è¡Œâ€”&gt; é¦–å…ˆæ‹¥æœ‰å¥åº·çš„èº«ä½“ã€å­¦ä¼šæ•²ä»£ç ã€â€¦</p><p>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹Ÿå¯ä»¥ç§°ä¸ºåŸºäºé¢å‘è¿‡ç¨‹çš„ã€‚ä» ğŸŒ° ä¸Šçœ‹ï¼Œé¢å‘å¯¹è±¡ä¹Ÿç¦»ä¸å¼€é¢å‘è¿‡ç¨‹ã€‚</p><h2 id="ES5æ„é€ å‡½æ•°-å’Œ-ES6ç±»çš„åŒºåˆ«"><a href="#ES5æ„é€ å‡½æ•°-å’Œ-ES6ç±»çš„åŒºåˆ«" class="headerlink" title="ES5æ„é€ å‡½æ•° å’Œ ES6ç±»çš„åŒºåˆ«"></a>ES5æ„é€ å‡½æ•° å’Œ ES6ç±»çš„åŒºåˆ«</h2><h3 id="ES5-æ„é€ å‡½æ•°"><a href="#ES5-æ„é€ å‡½æ•°" class="headerlink" title="ES5 æ„é€ å‡½æ•°"></a>ES5 æ„é€ å‡½æ•°</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">doing</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am coding!'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">info</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, i am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, i am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> year old .</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> echo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'echo'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">)</span>echo<span class="token punctuation">.</span><span class="token function">doing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//i am coding!</span>echo<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//hello, i am echo, i am 6 year old .</span>xiaoming<span class="token punctuation">.</span><span class="token function">doing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//i am coding!</span>xiaoming<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//hello, i am å°æ˜, i am 1 year old .</span></code></pre><h3 id="ES6-Class"><a href="#ES6-Class" class="headerlink" title="ES6 Class"></a>ES6 Class</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> ; age: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'ç‹—'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'çŒ«'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>dog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//name: ç‹— ; age: 2</span>cat<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//name: çŒ« ; age: 1</span></code></pre><p>æ ¹æ®ä¸Šé¢çš„å¯¹æ¯”ï¼šå¯ä»¥çœ‹å‡ºç”¨æ„é€ å‡½æ•°å’Œclasséƒ½èƒ½å®ç°ç›¸åŒçš„æ•ˆæœ</p><blockquote><p>å°ç»“</p></blockquote><ol><li>ç±»çš„å£°æ˜æ²¡æœ‰æå‡ã€å’Œå‡½æ•°æ˜¯ä¸åŒçš„</li><li>åŒä¸€ä¸ªç±»ä¸èƒ½è¢«é‡å¤å®šä¹‰ï¼ˆâ€™Identifier â€˜XXXâ€™ has already been declaredâ€™ï¼‰ï¼Œè€Œå‡½æ•°åˆ™æ˜¯ä¸‹é¢çš„ä¼šè¦†ç›–ä¸Šä¸€ä¸ªå‡½æ•°</li><li>ç±»ä¹Ÿå¯ä»¥çœ‹ä½œæ„é€ å‡½æ•°çš„ä¸€ä¸ªè¯­æ³•ç³–</li></ol><h2 id="é¢å‘å¯¹è±¡çš„æ€æƒ³-å°è£…ã€ç»§æ‰¿ã€å¤šæ€"><a href="#é¢å‘å¯¹è±¡çš„æ€æƒ³-å°è£…ã€ç»§æ‰¿ã€å¤šæ€" class="headerlink" title="é¢å‘å¯¹è±¡çš„æ€æƒ³. å°è£…ã€ç»§æ‰¿ã€å¤šæ€"></a>é¢å‘å¯¹è±¡çš„æ€æƒ³. å°è£…ã€ç»§æ‰¿ã€å¤šæ€</h2><h3 id="å°è£…ï¼š-é€šè¿‡å°è£…ï¼Œæ§åˆ¶ç±»çš„å±æ€§ä¸æ–¹æ³•çš„å¯è®¿é—®ä¿¡æ¯"><a href="#å°è£…ï¼š-é€šè¿‡å°è£…ï¼Œæ§åˆ¶ç±»çš„å±æ€§ä¸æ–¹æ³•çš„å¯è®¿é—®ä¿¡æ¯" class="headerlink" title="å°è£…ï¼š é€šè¿‡å°è£…ï¼Œæ§åˆ¶ç±»çš„å±æ€§ä¸æ–¹æ³•çš„å¯è®¿é—®ä¿¡æ¯"></a>å°è£…ï¼š é€šè¿‡å°è£…ï¼Œæ§åˆ¶ç±»çš„å±æ€§ä¸æ–¹æ³•çš„å¯è®¿é—®ä¿¡æ¯</h3><p>å…³é”®å­—ï¼š<code>private</code>ã€<code>public</code>ã€<code>protected</code></p><p>å°è£…çš„ä¸‰ä¸ªå¥½å¤„ï¼š ç¨‹åºä½è€¦åˆã€èƒ½å¤Ÿå¯¹ç±»çš„å†…éƒ¨ç»“æ„è¿›è¡Œè®¾ç½®å¯è®¿é—®&#x2F;ä¸å¯è®¿é—®ã€èƒ½å¤Ÿå¯¹å†…éƒ¨æˆå‘˜è¿›è¡Œé™åˆ¶{ä¸‰ä¸ªå…³é”®å­—}</p><blockquote><p>ES6 ç›®å‰æ²¡æœ‰æ”¯æŒå°è£…ç‰¹æ€§<br>å¯¹äºtypescriptä¸€ä¸ªJavaScriptçš„è¶…é›†å°±æ›´æ¥è¿‘é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³ä¹Ÿæ‹¥æœ‰<code>private</code>ã€<code>public</code>ã€<code>protected</code>ç­‰å…³é”®å­—è¿›è¡Œå¯¹å…¶å†…éƒ¨æˆå‘˜è¿›è¡Œé…ç½®ã€‚å¯¹äºé¢å‘å¯¹è±¡è¯­è¨€æ¥è¯´å¾—å…ˆç”³æ˜å¥½æ•°æ®çš„æ•°æ®ç±»å‹ã€‚</p></blockquote><p>åæœŸå†å›é¡¾typescriptçŸ¥è¯†å¹¶è®°å½•å­¦ä¹ çš„çŸ¥è¯†è¦ç‚¹ã€‚</p><p>æ‰¯è¿œäº†~ å›å½’æ­£é¢˜ï¼š jsä¸­å¦‚ä½•å®ç°å°è£…â€”è®©æˆå‘˜å˜é‡ç§æœ‰åŒ–ï¼š ä½¿ç”¨<code>Symbol</code>ç±»å‹ï¼ˆES6æ–°æ•°æ®ç±»å‹ï¼‰ï¼šç‹¬ä¸€æ— äºŒçš„å€¼ã€‚</p><p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Symbol">Symbol()</a> <code>symbol</code>ç±»å‹çš„å€¼ï¼Œè¯¥ç±»å‹å…·æœ‰<code>é™æ€å±æ€§</code>å’Œ<code>é™æ€æ–¹æ³•</code>ã€‚å®ƒçš„é™æ€å±æ€§ä¼šæš´éœ²å‡ ä¸ªå†…å»ºçš„æˆå‘˜å¯¹è±¡ï¼›å®ƒçš„é™æ€æ–¹æ³•ä¼šæš´éœ²å…¨å±€çš„symbolæ³¨å†Œ</p><p>ä¸‹é¢å°±å†™ä¸€ä¸ªSymbolå®ç°ç±»å±æ€§ç§æœ‰åŒ–çš„ ğŸŒ°</p><h4 id="Symbolå®ç°å°è£…"><a href="#Symbolå®ç°å°è£…" class="headerlink" title="Symbolå®ç°å°è£…"></a>Symbolå®ç°å°è£…</h4><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªclasses.jsæ–‡ä»¶</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">const</span> hobby <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'hobby'</span><span class="token punctuation">)</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">&#123;</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">[</span>hobby<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'æ’¸é“'</span><span class="token punctuation">&#125;</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> ; age: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>        <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æˆ‘æ˜¯classes.jsæ–‡ä»¶ï¼Œæˆ‘ç°åœ¨è®¿é—®è‡ªå·±çš„ç§æœ‰å±æ€§hobbyï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">[</span>hobby<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>å†åˆ›å»ºä¸€ä¸ªsubClass.jsæ–‡ä»¶</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">import</span> Animal <span class="token keyword">from</span> <span class="token string">'./classes.js'</span><span class="token keyword">export</span> <span class="token keyword">default</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'ç‹—'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>    dog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    dog<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æˆ‘æ˜¯subClass.jsæ–‡ä»¶ï¼Œæˆ‘æ­£åœ¨è®¿é—®Classes.jsçš„ç§æœ‰å±æ€§hobbyï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>dog<span class="token punctuation">[</span><span class="token string">'hobby'</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>div<span class="token operator">></span>            å“ˆå“ˆå“ˆ        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">&#125;</span></code></pre><p>æ•ˆæœï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9397820088db45c39ad4103a7c29d32c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>åœ¨es5ä¸­ï¼Œç”¨æ„é€ å‡½æ•°callã€applyæ”¹å˜thisæŒ‡å‘æˆ–è€…ä½¿ç”¨åŸå‹é“¾ç»§æ‰¿jså®ç°ç»§æ‰¿çš„æ–¹å¼å¤šç§ï¼Œå°±ä¸¾æ —è¿™ä¸¤ç§å§ã€‚</p><h4 id="1-åŸå‹é“¾ç»§æ‰¿"><a href="#1-åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="1. åŸå‹é“¾ç»§æ‰¿"></a>1. åŸå‹é“¾ç»§æ‰¿</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">doing</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am coding!'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">info</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, i am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, i am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> year old .</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">MoreInformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>ooo <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">&#125;</span><span class="token class-name">MoreInformation</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bobby</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i like Swimming'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">//Person.prototype = MoreInformation.prototype //->ä¹Ÿå¯</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MoreInformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sleeping</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am sleeping'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MoreInfomation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">var</span> echo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'echo'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span>echo<span class="token punctuation">.</span><span class="token function">sleeping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//i am sleeping</span>echo<span class="token punctuation">.</span><span class="token function">bobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//i like Swimming</span></code></pre><h4 id="2-callã€apply-å€Ÿç”¨æ–¹æ³•ã€å±æ€§"><a href="#2-callã€apply-å€Ÿç”¨æ–¹æ³•ã€å±æ€§" class="headerlink" title="2. callã€apply å€Ÿç”¨æ–¹æ³•ã€å±æ€§"></a>2. callã€apply å€Ÿç”¨æ–¹æ³•ã€å±æ€§</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">doing</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'i am coding!'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">info</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, i am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, i am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> year old .</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'echoBoy'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">155</span><span class="token punctuation">)</span>    <span class="token comment">// Person.apply(this, ['echoBoy', 2, 155])</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> echo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'echo'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token keyword">var</span> echoBoy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// hello, i am echoBoy, i am 2 year old .</span></code></pre><h4 id="3-ES6ç±»ç»§æ‰¿"><a href="#3-ES6ç±»ç»§æ‰¿" class="headerlink" title="3. ES6ç±»ç»§æ‰¿"></a>3. ES6ç±»ç»§æ‰¿</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> ; age: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ChildAnimal</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color    <span class="token punctuation">&#125;</span>    <span class="token function">infomation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> ; age: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> ; color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'ç‹—'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'çŒ«'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>dog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//name: ç‹— ; age: 2</span>cat<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//name: çŒ« ; age: 1</span><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChildAnimal</span><span class="token punctuation">(</span><span class="token string">'å“ˆå“ˆ'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">)</span>foo<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//name: å“ˆå“ˆ ; age: 6</span>foo<span class="token punctuation">.</span><span class="token function">infomation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//name: å“ˆå“ˆ ; age: 6 ; color: yellow</span></code></pre><p>ä»ä»£ç è¿è¡Œç»“æœçœ‹å‡º ChildAnimalç±»ç»§æ‰¿äº†çˆ¶ç±»Animalã€‚å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•å’Œä½¿ç”¨å…¶çˆ¶ç±»çš„å±æ€§ã€‚<br><code>super</code>å…³é”®å­—ï¼š<code>super</code>å…³é”®å­—ç”¨äºè®¿é—®å’Œè°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„çˆ¶å¯¹è±¡ä¸Šçš„å‡½æ•°ã€‚</p><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><p>å¤šæ€ï¼š æˆå‘˜æ–¹æ³•çš„é‡è½½å’Œé‡å†™</p><hr><p> åœ¨å°è£…éƒ¨åˆ†è®²è§£åˆ°è®¿é—®å¯¹è±¡å±æ€§é‡‡ç”¨  <code>this[hobby] = &#39;æ’¸é“&#39;</code></p><p> è¯¦ç»†è®²ä¸€æ³¢ï¼š ä¸¾ğŸŒ°</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo'</span><span class="token punctuation">,</span>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>        <span class="token string-property property">'name age'</span><span class="token operator">:</span> <span class="token string">'echo 6'</span><span class="token punctuation">&#125;</span></code></pre><p>æˆ‘ä»¬è®¿é—®objçš„nameå±æ€§å¯ä»¥é‡‡ç”¨<code>obj.name</code>æˆ–è€…<code>obj[&#39;name&#39;]</code></p><p>å¦‚æœæƒ³è¦è®¿é—®objçš„â€™name ageâ€™ ä¸­é—´æœ‰ç©ºæ ¼çš„å‘¢ é‚£ä¹ˆä½¿ç”¨obj.â€™name ageâ€™ è¿™æ ·ç›´æ¥æŠ¥é”™<code>Unexpected string</code></p><p>æ­£ç¡®çš„æ–¹å¼æ˜¯é‡‡ç”¨<code>obj[&#39;name age&#39;]</code></p><p>tips: å¸Œæœ›è‡ªå·±çš„æ€»ç»“å¯¹å±å¹•å‰çš„æ‚¨æœ‰å¸®åŠ©ï¼Œè‹¥æœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œç§¯ææŒ‡å‡ºã€‚thanks </p><p>ä¸€èµ·è¿›æ­¥ï¼ï¼!</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023</title>
      <link href="/2022/12/27/2023/"/>
      <url>/2022/12/27/2023/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"><h1 id="2023"><a href="#2023" class="headerlink" title="2023"></a>2023</h1><p>è®°å½•2023ï¼Œä½“ç³»åŒ–æŸ¥æ¼è¡¥ç¼ºã€‚ä»HTMLã€CSSã€JSã€ç½‘ç»œå±‚é¢ã€æ¡†æ¶ã€å·¥ç¨‹åŒ–ã€è®¾è®¡æ¨¡å¼ç­‰æ–¹é¢æ€»ç»“ã€‚</p><h2 id="JSç›¸å…³"><a href="#JSç›¸å…³" class="headerlink" title="JSç›¸å…³"></a>JSç›¸å…³</h2><h3 id="JSç±»å‹æ£€æµ‹"><a href="#JSç±»å‹æ£€æµ‹" class="headerlink" title="JSç±»å‹æ£€æµ‹"></a>JSç±»å‹æ£€æµ‹</h3><p><strong>JavaScriptç±»å‹æ£€æµ‹çš„å‡ ç§æ–¹å¼</strong></p><ol><li>typeof æ“ä½œç¬¦ï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå€¼çš„ç±»å‹ï¼Œå¯èƒ½çš„å€¼æœ‰ â€œundefinedâ€ã€â€booleanâ€ã€â€numberâ€ã€â€stringâ€ã€â€bigintâ€ã€â€symbolâ€ å’Œ â€œobjectâ€ã€‚ä½¿ç”¨ typeof æ£€æµ‹åŸºæœ¬æ•°æ®ç±»å‹æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ˜¯å¯¹äºå¤æ‚æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚ null æˆ–å¯¹è±¡ï¼‰å¯èƒ½ä¼šå¾—åˆ°ä¸å‡†ç¡®çš„ç»“æœï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦è°¨æ…ã€‚</li><li>instanceof æ“ä½œç¬¦ï¼šç”¨äºæ£€æµ‹å¯¹è±¡çš„ç±»å‹ï¼Œå¯ä»¥æ£€æµ‹å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªæ„é€ å‡½æ•°ã€‚ä½¿ç”¨ instanceof æ“ä½œç¬¦æ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»æ—¶ï¼Œéœ€è¦ä½¿ç”¨è¯¥ç±»çš„æ„é€ å‡½æ•°è¿›è¡Œæ£€æµ‹ï¼Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹å’Œ null æ— æ³•ä½¿ç”¨ instanceof æ“ä½œç¬¦æ£€æµ‹ã€‚</li><li>Object.prototype.toString() æ–¹æ³•ï¼šè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªè¡¨ç¤ºå¯¹è±¡çš„å­—ç¬¦ä¸²ï¼Œæ ¼å¼ä¸º â€œ[object ç±»å‹]â€ï¼Œå…¶ä¸­ç±»å‹æŒ‡çš„æ˜¯å¯¹è±¡çš„å†…éƒ¨å±æ€§ [[Class]] çš„å€¼ã€‚è¿™ç§æ–¹å¼å¯ä»¥å‡†ç¡®åœ°æ£€æµ‹æ‰€æœ‰ç±»å‹çš„å€¼ï¼ŒåŒ…æ‹¬ null å’Œ undefinedã€‚</li><li>Array.isArray() æ–¹æ³•ï¼šç”¨äºæ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚è¯¥æ–¹æ³•åªèƒ½æ£€æµ‹æ•°ç»„ç±»å‹ï¼Œæ— æ³•æ£€æµ‹å…¶ä»–ç±»å‹çš„å€¼ã€‚</li></ol><h3 id="æ·±æµ…æ‹·è´"><a href="#æ·±æµ…æ‹·è´" class="headerlink" title="æ·±æµ…æ‹·è´"></a>æ·±æµ…æ‹·è´</h3><ol><li>ä»‹ç»æ·±æµ…æ‹·è´</li><li>æ‰‹å†™æ·±æ‹·è´ã€æµ…æ‹·è´</li><li>JSON.parse(JSON.srtingfy())çš„å¼Šç«¯</li><li>æ·±æ‹·è´å¦‚ä½•è§£å†³å¾ªç¯å¼•ç”¨</li></ol><p>è®²æ·±ã€æµ…æ‹·è´ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€å“ˆjsçš„åŸºç¡€ç±»å‹å’Œå¯¹è±¡ç±»å‹ã€‚</p><h4 id="JSåŸºç¡€ç±»å‹ã€å¯¹è±¡ç±»å‹"><a href="#JSåŸºç¡€ç±»å‹ã€å¯¹è±¡ç±»å‹" class="headerlink" title="JSåŸºç¡€ç±»å‹ã€å¯¹è±¡ç±»å‹"></a>JSåŸºç¡€ç±»å‹ã€å¯¹è±¡ç±»å‹</h4><ul><li>åŸºç¡€ç±»å‹ -&gt; <code>æ ˆå†…å­˜</code></li><li>å¯¹è±¡ç±»å‹ -&gt; <code>å †å†…å­˜</code></li><li>å¯¹è±¡ç±»å‹åœ¨æ ˆç©ºé—´å­˜å‚¨çš„æ˜¯å †å†…å­˜çš„å¼•ç”¨åœ°å€</li><li>å¯¹äºèµ‹å€¼ï¼š åŸºç¡€ç±»å‹ä¼šå®Œæ•´å¤åˆ¶å˜é‡å€¼ã€å¼•ç”¨ç±»å‹èµ‹å€¼æ—¶å¤åˆ¶å¼•ç”¨åœ°å€</li></ul><blockquote><p>ä»‹ç»æ·±æµ…æ‹·è´</p></blockquote><p>æ·±æ‹·è´ï¼šMDNä»‹ç»æ‹·è´çš„å¯¹è±¡å’Œç”Ÿæˆçš„å¯¹è±¡çš„å±æ€§ä¸å…±äº«ç›¸åŒçš„å¼•ç”¨ï¼Œç®€æ´çš„æ¥è¯´ï¼šæ·±æ‹·è´æ‹·è´çš„æ˜¯å€¼ã€‚</p><p>æµ…æ‹·è´ï¼šä¸æ·±æ‹·è´ç›¸åï¼Œæ‹·è´çš„æ˜¯å¼•ç”¨åœ°å€ã€‚</p><blockquote><p>æ‰‹å†™æ·±æ‹·è´ã€æµ…æ‹·è´</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//æ·±æ‹·è´</span><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">let</span> copyObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//éå†å¯¹è±¡è‡ªèº«åŠåŸå‹é“¾ä¸Šæ‰€æœ‰å¯æšä¸¾ä¸å¯æšä¸¾å±æ€§</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            copyObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> copyObj<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æµ…æ‹·è´ ç›¸å¯¹æ¯”æ·±æ‹·è´ ç¼ºå°‘äº†é€’å½’èµ‹å€¼å¼•ç”¨å€¼çš„æ­¥éª¤</span><span class="token keyword">function</span> <span class="token function">shallowClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span>     <span class="token punctuation">&#125;</span>        <span class="token keyword">let</span> copyObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        copyObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> copyObj<span class="token punctuation">&#125;</span></code></pre><blockquote><p> JSON.parse(JSON.srtingfy())çš„å¼Šç«¯</p></blockquote><ol><li>æ— æ³•å¯¹Dateã€RegExpã€Errorå¯¹è±¡è¿›è¡Œæ·±æ‹·è´</li><li>æ— æ³•å¯¹å‡½æ•°è¿›è¡Œæ·±æ‹·è´</li><li>æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨</li><li>å¦‚æœobjé‡Œæœ‰NaNã€Infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜æˆnull</li></ol><blockquote><p>æ·±æ‹·è´å¦‚ä½•è§£å†³å¾ªç¯å¼•ç”¨</p></blockquote><p>é‡‡ç”¨å¾ªç¯å¼•ç”¨å¯¼è‡´æ ˆæº¢å‡ºä»£ç  <code>Uncaught RangeError: Maximum call stack size exceeded</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> testObj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'sixi'</span><span class="token punctuation">,</span>    <span class="token literal-property property">relative</span><span class="token operator">:</span> obj<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>obj<span class="token punctuation">.</span>relative <span class="token operator">=</span> testObj<span class="token punctuation">;</span> <span class="token comment">//å¾ªç¯å¼•ç”¨</span><span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¼˜åŒ–æ‰‹å†™æ·±æ‹·è´ä»£ç ï¼šä½¿ç”¨WeakMapå¯¹å·²éå†çš„å¯¹è±¡è¿›è¡Œä¿å­˜ï¼Œå½“é€’å½’è°ƒç”¨çš„æ—¶å€™ç›´æ¥åˆ¤æ–­WeakMapæ˜¯å¦å­˜åœ¨ï¼Œè‹¥å·²å­˜åœ¨åˆ™ç›´æ¥è¿”å›ï¼Œé¿å…æ— é™å¾ªç¯ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> hash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> hash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">let</span> copyObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> copyObj<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//éå†å¯¹è±¡è‡ªèº«åŠåŸå‹é“¾ä¸Šæ‰€æœ‰å¯æšä¸¾ä¸å¯æšä¸¾å±æ€§</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            copyObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> copyObj<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="å…³äºé—­åŒ…"><a href="#å…³äºé—­åŒ…" class="headerlink" title="å…³äºé—­åŒ…"></a>å…³äºé—­åŒ…</h3><ol><li>è®²è®²é—­åŒ…</li><li>é—­åŒ…çš„ç¼ºç‚¹</li><li>å¦‚ä½•è§£å†³é—­åŒ…</li></ol><p>è®²é—­åŒ…ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€å“ˆ<code>ä½œç”¨åŸŸ</code>,<code>ä½œç”¨åŸŸé“¾</code>ã€<code>AO</code>ã€<code>GO</code>ã€‚</p><h4 id="ä½œç”¨åŸŸé“¾ã€AOã€GO"><a href="#ä½œç”¨åŸŸé“¾ã€AOã€GO" class="headerlink" title="ä½œç”¨åŸŸé“¾ã€AOã€GO"></a>ä½œç”¨åŸŸé“¾ã€AOã€GO</h4><p>ä½œç”¨åŸŸï¼š æŒ‡åœ¨ç¨‹åºä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸï¼ˆå…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸï¼‰</p><p>AOï¼šå‡½æ•°ä½œç”¨åŸŸ</p><p>GOï¼šå…¨å±€ä½œç”¨åŸŸ</p><p>å—çº§ä½œç”¨åŸŸï¼šES6-&gt;constã€let</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'echo'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>JSæ‰§è¡Œæµç¨‹ï¼š JITï¼ˆåŠæ—¶æ€§ç¼–è¯‘è¯­è¨€ï¼‰ï¼Œå…ˆç¼–è¯‘å†æ‰§è¡Œ -&gt; </code></p><ol><li>aè¢«å®šä¹‰æ—¶ï¼Œaçš„ä½œç”¨åŸŸé“¾æ˜¯GOï¼›aè¢«æ‰§è¡Œæ—¶ï¼Œaçš„ä½œç”¨åŸŸé“¾æ˜¯AO-&gt;GOã€‚</li><li>bè¢«å®šä¹‰æ—¶ï¼Œbçš„ä½œç”¨åŸŸé“¾æ˜¯açš„AO-&gt;GOï¼›bè¢«æ‰§è¡Œæ—¶ï¼Œbçš„ä½œç”¨åŸŸé“¾æ˜¯bçš„AO-&gt;açš„AO-&gt;GOã€‚</li><li>bè¢«é”€æ¯æ—¶ï¼Œé”€æ¯bçš„AOï¼›</li><li>aè¢«é”€æ¯æ—¶ï¼Œé”€æ¯açš„AOï¼›</li></ol><blockquote><p>è®²è®²é—­åŒ…</p></blockquote><p>é—­åŒ…æ˜¯æŒ‡å¼•ç”¨äº†å¦å¤–å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚é€šå¸¸æ˜¯æŒ‡åœ¨åµŒå¥—å‡½æ•°ä¸­å®ç°çš„ã€‚</p><blockquote><p>é—­åŒ…çš„ä¼˜ç¼ºç‚¹</p></blockquote><ul><li>é—­åŒ…å­˜åœ¨ï¼Œå°±ä¼šä¿å­˜ä¿ç•™å®ƒä»¬åŒ…å«çš„å‡½æ•°ä½œç”¨åŸŸï¼Œå¯¼è‡´å†…å­˜æ¶ˆè€—ï¼Œv8ç­‰ä¼˜åŒ–æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰ã€‚</li><li>é—­åŒ…çš„å¤„ç†é€Ÿåº¦å’Œå†…å­˜æ¶ˆè€—æ–¹é¢å¯¹è„šæœ¬æ€§èƒ½å…·æœ‰è´Ÿé¢å½±å“ã€‚</li></ul><blockquote><p>å¦‚ä½•è§£å†³é—­åŒ…</p></blockquote><ul><li>å¯¹äºå¼•ç”¨çš„æŸäº›åº“ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„å®ä¾‹é”€æ¯æ–¹æ³•ã€‚</li><li>å¯¹äºæŸäº›å¯¹è±¡å¯ä»¥ä½¿ç”¨ <code>global = nullï¼›</code> è§£é™¤å¯¹å‡½æ•°çš„å¼•ç”¨ï¼Œé‡Šæ”¾å†…å­˜ã€‚</li></ul><h3 id="åƒåœ¾å›æ”¶ï¼ˆGCæœºåˆ¶ï¼‰"><a href="#åƒåœ¾å›æ”¶ï¼ˆGCæœºåˆ¶ï¼‰" class="headerlink" title="åƒåœ¾å›æ”¶ï¼ˆGCæœºåˆ¶ï¼‰"></a>åƒåœ¾å›æ”¶ï¼ˆGCæœºåˆ¶ï¼‰</h3><h4 id="æ ˆå’Œå †çš„åƒåœ¾å›æ”¶"><a href="#æ ˆå’Œå †çš„åƒåœ¾å›æ”¶" class="headerlink" title="æ ˆå’Œå †çš„åƒåœ¾å›æ”¶"></a>æ ˆå’Œå †çš„åƒåœ¾å›æ”¶</h4><p>æ ˆçš„åƒåœ¾å›æ”¶</p><ul><li>ä¸€ä¸ªè®°å½•å½“å‰æ‰§è¡ŒçŠ¶æ€çš„æŒ‡é’ˆï¼ˆç§°ä¸ºESPï¼‰ï¼ŒæŒ‡å‘è°ƒç”¨æ ˆä¸­çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</li><li>å½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œç»“æŸåï¼ŒJavaScript å¼•æ“ä¼šé€šè¿‡å‘ä¸‹ç§»åŠ¨ <code>ESP</code> æ¥é”€æ¯è¯¥å‡½æ•°ä¿å­˜åœ¨æ ˆä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡</li></ul><p>å †çš„åƒåœ¾å›æ”¶</p><ul><li><p>å¼•ç”¨è®¡æ•°æ³• </p></li><li><p>æ ‡è®°æ¸…é™¤æ³• ï¼ˆä½¿ç”¨å¹¿æ³›ï¼‰</p><blockquote><p>æ ‡è®°æ¸…é™¤æ³•ï¼šæ ‡è®°é˜¶æ®µå³ä¸ºæ‰€æœ‰æ´»åŠ¨å¯¹è±¡åšä¸Šæ ‡è®°ï¼Œæ¸…é™¤é˜¶æ®µåˆ™æŠŠæ²¡æœ‰æ ‡è®°ï¼ˆä¹Ÿå°±æ˜¯éæ´»åŠ¨å¯¹è±¡ï¼‰é”€æ¯</p></blockquote></li><li><p>æ ‡è®°ï¼šæ¯”å¦‚å½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œåè½¬æŸä¸€ä½ï¼ˆé€šè¿‡ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦æ¥è¡¨ç¤ºæ ‡è®°ï¼‰ï¼Œåˆæˆ–è€…å¯ä»¥ç»´æŠ¤è¿›å…¥ç¯å¢ƒå˜é‡å’Œç¦»å¼€ç¯å¢ƒå˜é‡è¿™æ ·ä¸¤ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥è‡ªç”±çš„æŠŠå˜é‡ä»ä¸€ä¸ªåˆ—è¡¨è½¬ç§»åˆ°å¦ä¸€ä¸ªåˆ—è¡¨<br>éœ€è¦ä»å‡ºå‘ç‚¹å»éå†å†…å­˜ä¸­æ‰€æœ‰çš„å¯¹è±¡å»æ‰“æ ‡è®°ï¼Œè€Œè¿™ä¸ªå‡ºå‘ç‚¹æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ç»„ æ ¹ å¯¹è±¡ï¼Œè€Œæ‰€è°“çš„æ ¹å¯¹è±¡ï¼Œå…¶å®åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­åŒ…æ‹¬åˆä¸æ­¢äº å…¨å±€Windowå¯¹è±¡ã€æ–‡æ¡£DOMæ ‘ ç­‰</p></li><li><p>åƒåœ¾æ”¶é›†å™¨åœ¨è¿è¡Œæ—¶ä¼šç»™å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡éƒ½åŠ ä¸Šä¸€ä¸ªæ ‡è®°ï¼Œå‡è®¾å†…å­˜ä¸­æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åƒåœ¾ï¼Œå…¨æ ‡è®°ä¸º0</p></li><li><p>ç„¶åä»å„ä¸ªæ ¹å¯¹è±¡å¼€å§‹éå†ï¼ŒæŠŠä¸æ˜¯åƒåœ¾çš„èŠ‚ç‚¹ï¼ˆèƒ½è®¿é—®åˆ°çš„èŠ‚ç‚¹ï¼‰æ”¹æˆ1</p></li><li><p>æ¸…ç†æ‰€æœ‰æ ‡è®°ä¸º0çš„åƒåœ¾ï¼Œé”€æ¯å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´</p></li><li><p>æœ€åï¼ŒæŠŠæ‰€æœ‰å†…å­˜ä¸­å¯¹è±¡æ ‡è®°ä¿®æ”¹ä¸º0ï¼Œç­‰å¾…ä¸‹ä¸€è½®åƒåœ¾å›æ”¶</p></li></ul><p>æ ‡è®°æ•´ç†ï¼ˆMark-Compactï¼‰ç®—æ³•å¯¹æ ‡è®°æ¸…é™¤æ³•çš„ä¼˜åŒ–</p><h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p>è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒï¼Œthiså°±æ ¹æ®å‡½æ•°çš„æ‰§è¡Œç¯å¢ƒç»‘å®šã€‚</p><ol><li>æµè§ˆå™¨ä¸­é»˜è®¤thisæŒ‡å‘Window</li><li>æ™®é€šå‡½æ•°this -&gt; Windowå¯¹è±¡</li><li>æ„é€ å‡½æ•°this -&gt; æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡</li></ol><h3 id="åŸå‹ã€åŸå‹é“¾"><a href="#åŸå‹ã€åŸå‹é“¾" class="headerlink" title="åŸå‹ã€åŸå‹é“¾"></a>åŸå‹ã€åŸå‹é“¾</h3><ul><li>æ¯ä¸€ä¸ªå‡½æ•°éƒ½ä¼šåˆ›å»ºä¸€ä¸ª<code>prototype</code>å±æ€§ï¼Œè¯¥å±æ€§æ˜¯å‡½æ•°çš„åŸå‹å¯¹è±¡  <code>Person.prototype = Person.prototype</code></li><li>æ¯ä¸€ä¸ªå‡½æ•°çš„åŸå‹éƒ½å…·æœ‰ä¸€ä¸ª<code>constructor</code>å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘å‡½æ•°æœ¬èº« <code>Person.prototype.constructor = Person</code></li><li><code>constructor</code>å¯¹è±¡çš„åŸå‹è®¾ç½®ä¸ºæ–°åˆ›å»ºçš„å¯¹è±¡çš„åŸå‹</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d1b83be45d645d88514b89c3876b787~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>åŸå‹é“¾ç»§æ‰¿ã€å€Ÿç”¨æ„é€ å‡½æ•°ï¼ˆæ”¹å˜thisæŒ‡å‘ï¼‰ã€ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾+æ„é€ å‡½æ•°ï¼‰ã€å¯„ç”Ÿç»§æ‰¿ã€å¯„ç”Ÿç»„åˆã€ç±»<br><code>å€Ÿé‰´çº¢å®ä¹¦</code></p><p>Javaç±»çš„è®¿é—®æƒé™ä¿®é¥°ç¬¦<br><code>public</code>å’Œ<code>private</code>æ˜¯è®¿é—®æƒé™ä¿®é¥°ç¬¦ï¼Œç”¨äºæ§åˆ¶å¤–ç•Œå¯¹ç±»å†…éƒ¨æˆå‘˜çš„è®¿é—®ã€‚</p><h4 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h4><p>ç¼ºç‚¹ï¼šåŸå‹ä¸­åŒ…å«å¼•ç”¨å€¼ï¼Œå…¶å¼•ç”¨å€¼ä¼šåœ¨æ‰€æœ‰å®ä¾‹ä¸­å…±äº« å¯ä»¥ç±»æ¯” public</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Sixi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">Echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token class-name">Echo</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sixi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>instance<span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token operator">?.</span>arr<span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3]</span><span class="token keyword">let</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token operator">?.</span>arr<span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3]</span></code></pre><h4 id="å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿" class="headerlink" title="å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿"></a>å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿</h4><p>ç¼ºç‚¹ï¼š</p><ol><li>å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰æ–¹æ³•ï¼Œå¯¼è‡´å‡½æ•°ä¸èƒ½é‡ç”¨ã€‚ </li><li>å­ç±»ä¸èƒ½è®¿é—®çˆ¶ç±»åŸå‹ä¸Šå®šä¹‰çš„æ–¹æ³• å¯ä»¥ç±»æ¯” private<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Sixi</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">Echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Sixi</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'echo_sixi'</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token operator">?.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//18</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token operator">?.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//echo_sixi</span></code></pre></li></ol><h4 id="åœ£æ¯æ¨¡å¼"><a href="#åœ£æ¯æ¨¡å¼" class="headerlink" title="åœ£æ¯æ¨¡å¼"></a>åœ£æ¯æ¨¡å¼</h4><p>ä»£ç å®ç°</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Sixi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">inherit</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype  <span class="token operator">=</span> parent<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>    child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructior <span class="token operator">=</span> child<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">inherit</span><span class="token punctuation">(</span>Sixi<span class="token punctuation">,</span> Echo<span class="token punctuation">)</span><span class="token class-name">Echo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'456'</span><span class="token keyword">const</span> echo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> sixi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sixi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sixi<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 456</span></code></pre><h4 id="ç±»ï¼ˆclassï¼‰"><a href="#ç±»ï¼ˆclassï¼‰" class="headerlink" title="ç±»ï¼ˆclassï¼‰"></a>ç±»ï¼ˆclassï¼‰</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Echo</span><span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Sixi</span> <span class="token keyword">extends</span> <span class="token class-name">Echo</span> <span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'echo_sixi'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sixi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//18</span></code></pre><h3 id="äº‹ä»¶å¾ªç¯"><a href="#äº‹ä»¶å¾ªç¯" class="headerlink" title="äº‹ä»¶å¾ªç¯"></a>äº‹ä»¶å¾ªç¯</h3><ol><li>è®²è®²eventLoop</li><li>å®ä»»åŠ¡</li><li>å¾®ä»»åŠ¡</li></ol><blockquote><p>å…³äºeventLoop</p></blockquote><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd754eb33121459d9c5e3e43f430ee5c~tplv-k3u1fbpfcp-watermark.image" alt="eventLoop.png"></p><p><code>JSå•çº¿ç¨‹</code><br>JSä¸»çº¿ç¨‹ -&gt; æ‰§è¡Œæ ˆï¼ˆ<code>å…ˆè¿›åå‡º</code>ï¼‰<br>callback queue -&gt; ä»»åŠ¡é˜Ÿåˆ—ï¼ˆ<code>å…ˆè¿›å…ˆå‡º</code>ï¼‰</p><h4 id="event-loopæ‰§è¡Œæµç¨‹"><a href="#event-loopæ‰§è¡Œæµç¨‹" class="headerlink" title="event loopæ‰§è¡Œæµç¨‹"></a>event loopæ‰§è¡Œæµç¨‹</h4><p>QA:</p><ul><li><input checked="" disabled="" type="checkbox"> eventloopçš„å®šä¹‰å’Œä½œç”¨</li><li><input checked="" disabled="" type="checkbox"> eventloopçš„æ‰§è¡Œè¿‡ç¨‹</li><li><input disabled="" type="checkbox"> å¼‚æ­¥ä»»åŠ¡çš„å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡</li></ul><blockquote><p>eventloopæ˜¯ä¸€ç§å¼‚æ­¥çš„ç¼–ç¨‹æœºåˆ¶ï¼Œå®ƒå¯ä»¥åœ¨å•çº¿ç¨‹ä¸­å®ç°å¹¶å‘ï¼Œé€šè¿‡è½®è¯¢äº‹ä»¶é˜Ÿåˆ—ä¸­çš„äº‹ä»¶æ¥åˆ¤æ–­æ˜¯å¦æœ‰æ–°çš„ä»»åŠ¡æ‰§è¡Œï¼Œä»è€Œå®ç°å¼‚æ­¥æ“ä½œã€‚</p></blockquote><p>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶å¾ªç¯ä¼šå°†æ‰€æœ‰çš„å¼‚æ­¥ä»»åŠ¡ï¼ˆå›è°ƒå‡½æ•°ã€Promiseã€async&#x2F;awaitã€å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ â†’ å›è°ƒå‡½æ•°ï¼‰æ”¾å…¥ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç„¶ååœ¨ç¨‹åºçš„æ‰§è¡ŒæœŸé—´ä¸æ–­å»æ£€æŸ¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰å¾…å¤„ç†çš„äº‹ä»¶ã€‚å½“äº‹ä»¶é˜Ÿåˆ—ä¸­æœ‰äº‹ä»¶åˆ™å–å‡ºæ‰§è¡Œï¼Œå¦‚æœåˆåŒ…å«äº†å¼‚æ­¥å¤„ç†ï¼Œåˆ™äº¤ç»™å…¶å®ƒçº¿ç¨‹è¿›è¡Œå¤„ç†ç„¶åè¿”å›ï¼Œç»§ç»­æ£€æŸ¥é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªäº‹ä»¶ã€‚äº‹ä»¶å¾ªç¯é‡‡ç”¨è½®è¯¢æœºåˆ¶ï¼Œå¯ä»¥ä¿è¯ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼ŒåŒæ—¶é¿å…ç¨‹åºé˜»å¡æ‰§è¡Œã€‚</p><p>ä¸»çº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°JavaScriptç¨‹åºæ‰§è¡Œçš„åˆ°å¼‚æ­¥æ“ä½œï¼Œä¸»çº¿ç¨‹å°†è¯¥ä»»åŠ¡äº¤ç»™ç³»ç»Ÿæˆ–è€…å…¶å®ƒçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼ŒåŒæ—¶ç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç ã€‚å½“å¼‚æ­¥ä»»åŠ¡æ“ä½œå®Œæˆåï¼Œç³»ç»Ÿæˆ–è€…å…¶å®ƒçº¿ç¨‹ä¼šé€šçŸ¥ä¸»çº¿ç¨‹ï¼Œå°†ç»“æœæ”¾å…¥äº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚ä¸»çº¿ç¨‹ç©ºé—²æ—¶ï¼Œä¼šæ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰å¾…å¤„ç†çš„äº‹ä»¶ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ç«‹å³æ‰§è¡Œï¼Œæ²¡æœ‰åˆ™ç»§ç»­ç­‰å¾…ã€‚</p><p>JavaScriptçš„å¼‚æ­¥ä»»åŠ¡ä¸­ï¼Œå¯ä»¥å°†å¼‚æ­¥ä»»åŠ¡åˆ†ä¸ºï¼šå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</p><p><code>å®ä»»åŠ¡</code>ï¼šæŒ‡éœ€è¦åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­æ’é˜Ÿç­‰å¾…çš„æ‰§è¡Œçš„ä»»åŠ¡ â†’ å®šæ—¶å™¨ã€ajaxè¯·æ±‚ç­‰ã€‚</p><p><code>å¾®ä»»åŠ¡</code>ï¼šæŒ‡å½“å‰ä»»åŠ¡å®Œæ¯•åéœ€è¦ç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ â†’ Promiseçš„thenã€catchã€finallyï¼›async&#x2F;awaitç­‰</p><p>äº‹ä»¶å¾ªç¯å¯åŠ¨æ—¶ï¼Œä¼šæ‰§è¡Œå½“å‰ä»£ç æ‰€åœ¨çš„å®ä»»åŠ¡ä»£ç å—ï¼Œå½“å®ä»»åŠ¡ä»£ç å—è¢«æ‰§è¡Œå®Œäº†ï¼Œå°±ä¼šç«‹å³æ‰§è¡Œæ‰€æœ‰å¯ç”¨çš„å¾®ä»»åŠ¡ï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºã€‚ç„¶åäº‹ä»¶å¾ªç¯ä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚</p><blockquote><p>å®ä»»åŠ¡</p></blockquote><p>å¼‚æ­¥ Ajax è¯·æ±‚ã€<br>setTimeoutã€setIntervalã€<br>æ–‡ä»¶æ“ä½œ<br>MessageChannel<br>å…¶å®ƒå®ä»»åŠ¡</p><blockquote><p>å¾®ä»»åŠ¡</p></blockquote><p>Promise.thenã€.catch å’Œ .finally<br>process.nextTick<br>MutationObserver<br>å…¶å®ƒå¾®ä»»åŠ¡</p><h3 id="å…³äºå¼‚æ­¥"><a href="#å…³äºå¼‚æ­¥" class="headerlink" title="å…³äºå¼‚æ­¥"></a>å…³äºå¼‚æ­¥</h3><ol><li>ES6ä¹‹å‰ä¹‹åçš„å¼‚æ­¥ç¼–ç¨‹</li><li>è®²è®²Generatorå‡½æ•°</li><li>è®²è®²Promiseå¯¹è±¡</li><li>async&#x2F;awaitå‡½æ•°</li></ol><blockquote><p>ES6ä¹‹å‰çš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ³•</p></blockquote><p>ES6ä¹‹å‰å®ç°å¼‚æ­¥ç¼–ç¨‹çš„æ–¹æ³•å¤§æ¦‚æœ‰å››ç§ï¼š</p><ul><li>å›è°ƒå‡½æ•°</li><li>äº‹ä»¶ç›‘å¬</li><li>å‘å¸ƒè®¢é˜…</li><li>æ„é€ å‡½æ•°å®ç°Promise</li></ul><blockquote><p>ES6ä¹‹åçš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ³•</p></blockquote><ul><li>Generatorå‡½æ•°</li><li>Promiseå¯¹è±¡</li><li>async&#x2F;await</li></ul><h3 id="scriptæ ‡ç­¾ä¸­çš„å±æ€§"><a href="#scriptæ ‡ç­¾ä¸­çš„å±æ€§" class="headerlink" title="scriptæ ‡ç­¾ä¸­çš„å±æ€§"></a>scriptæ ‡ç­¾ä¸­çš„å±æ€§</h3><h4 id="scriptæ ‡ç­¾"><a href="#scriptæ ‡ç­¾" class="headerlink" title="scriptæ ‡ç­¾"></a>scriptæ ‡ç­¾</h4><p>é»˜è®¤çš„scriptæ ‡ç­¾æ‰§è¡Œè„šæœ¬ï¼Œä¼šæ ¹æ®é¡ºåºæ¥æ‰§è¡Œï¼Œå¦‚æœé‡åˆ°jsï¼Œå°±ä¼šé˜»å¡DOMæ¸²æŸ“</p><h4 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h4><p>è®¾ç½®äº†deferçš„å±æ€§ï¼Œæ”¯æŒå¼‚æ­¥ä¸‹è½½å¹¶ä¸”ä¸ä¼šå½±å“åˆ°DOMçš„æ¸²æŸ“ï¼Œscriptæ˜¯é¡ºåºæ‰§è¡Œ</p><h4 id="async"><a href="#async" class="headerlink" title="async"></a>async</h4><p>asyncå’Œdeferçš„åŒºåˆ«ï¼Œasyncä¸ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œæ˜¯è°å…ˆåŠ è½½å®Œè°æ‰§è¡Œ</p><h2 id="ç½‘ç»œç›¸å…³"><a href="#ç½‘ç»œç›¸å…³" class="headerlink" title="ç½‘ç»œç›¸å…³"></a>ç½‘ç»œç›¸å…³</h2><h3 id="æµè§ˆå™¨è¾“å…¥URLåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#æµè§ˆå™¨è¾“å…¥URLåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ" class="headerlink" title="æµè§ˆå™¨è¾“å…¥URLåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ"></a>æµè§ˆå™¨è¾“å…¥URLåˆ°é¡µé¢å±•ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e3b40358e9d4fdea8d2fd6a715cd488~tplv-k3u1fbpfcp-watermark.image" alt="show.webp"></p><ul><li>æµè§ˆå™¨è¿›ç¨‹ï¼šç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ã€æ–‡ä»¶å­˜å‚¨</li><li>ç½‘ç»œè¿›ç¨‹ï¼šä¸ºæ¸²æŸ“è¿›ç¨‹å’Œæµè§ˆå™¨è¿›ç¨‹æä¾›ç½‘ç»œä¸‹è½½</li><li>æ¸²æŸ“è¿›ç¨‹ï¼šç½‘ç»œä¸‹è½½çš„HTMLã€JavaScriptã€CSSã€å›¾ç‰‡ç­‰èµ„æºè§£æä¸ºå¯ä»¥æ˜¾ç¤ºå’Œäº¤äº’çš„é¡µé¢</li></ul><p>ç½‘ç»œè¿›ç¨‹ï¼š</p><ol><li>æŸ¥æ‰¾ç¼“å­˜</li><li>DNSè§£æ</li><li>å»ºç«‹TSLè¿æ¥ï¼ˆè¯·æ±‚åè®®HTTPSï¼‰</li><li>å»ºç«‹TCPè¿æ¥ï¼ˆå»ºç«‹æˆåŠŸåæµè§ˆå™¨ä¼šå°†æ„å»ºè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ç­‰ä¿¡æ¯ï¼Œå¹¶æŠŠè¯¥åŸŸåç›¸å…³çš„Cookieç­‰æ•°æ®é™„åŠ åˆ°è¯·æ±‚å¤´ä¸­ï¼Œç„¶åé¡¹æœåŠ¡å™¨å‘é€æ„å»ºè¯·æ±‚ä¿¡æ¯ï¼‰</li><li>é‡å®šå‘ï¼ˆæ£€æŸ¥çŠ¶æ€ç ï¼Œå¦‚æœæ˜¯301&#x2F;302ï¼Œåˆ™éœ€è¦é‡å®šå‘ï¼Œä»Locationè‡ªåŠ¨ä¸­è¯»å–åœ°å€ï¼‰</li><li>å“åº”æ•°æ®ç±»å‹å¤„ç†ï¼ˆContent-Typeï¼‰</li></ol><p>æµè§ˆå™¨è¿›ç¨‹ï¼š</p><ol><li>æ£€æŸ¥urlæ˜¯å¦ä¸€è‡´ï¼Œä¸ä¸€è‡´æ‰“å¼€æ–°çš„è¿›ç¨‹</li><li>è§£æhtmlæ„å»ºDOMæ ‘</li><li>è§£æCSSæ„å»ºCSSæ ‘</li><li>å°†DOMæ ‘å’ŒCSSæ ‘ç”Ÿæˆå¸ƒå±€æ ‘ï¼ˆDOMï¼‰</li></ol><h3 id="HTTPè¯·æ±‚ã€å¤„ç†æµç¨‹"><a href="#HTTPè¯·æ±‚ã€å¤„ç†æµç¨‹" class="headerlink" title="HTTPè¯·æ±‚ã€å¤„ç†æµç¨‹"></a>HTTPè¯·æ±‚ã€å¤„ç†æµç¨‹</h3><h4 id="æµè§ˆå™¨ç«¯å‘èµ·HTTPè¯·æ±‚æµç¨‹"><a href="#æµè§ˆå™¨ç«¯å‘èµ·HTTPè¯·æ±‚æµç¨‹" class="headerlink" title="æµè§ˆå™¨ç«¯å‘èµ·HTTPè¯·æ±‚æµç¨‹"></a>æµè§ˆå™¨ç«¯å‘èµ·HTTPè¯·æ±‚æµç¨‹</h4><ol><li><p>æ„å»ºè¯·æ±‚</p></li><li><p>æŸ¥æ‰¾ç¼“å­˜<br>   æµè§ˆå™¨ç¼“å­˜ï¼šä¿å­˜æœ¬åœ°èµ„æºå‰¯æœ¬ï¼Œä¾›ä¸‹æ¬¡è¯·æ±‚æ—¶ï¼ˆæ‹¦æˆªè¯·æ±‚ï¼‰ç›´æ¥ä½¿ç”¨çš„æŠ€æœ¯</p></li><li><p>å‡†å¤‡IPåœ°å€å’Œç«¯å£<br>    HTTP: åº”ç”¨å±‚åè®®ã€ TCP&#x2F;IPä¼ è¾“å±‚åè®®<br>    IPåœ°å€è·å–ï¼šè®¿é—®åŸŸå -&gt; åŸŸåå’ŒIPæ˜¯æ˜ å°„å…³ç³» é‡‡ç”¨DNS(åŸŸåç³»ç»Ÿ) å°†åŸŸååœ°å€è½¬æ¢ä¸ºIPåœ°å€<br>    ç«¯å£ï¼šURLä¸Šé¢æºå¸¦çš„ç«¯å£å·ã€HTTPé»˜è®¤ç«¯å£æ˜¯80</p></li><li><p>ç­‰å¾…TCPé˜Ÿåˆ—<br>    æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š<br>     http&#x2F;1.1å’Œhttp2åœ¨Chromeçš„è¿è¡Œæœºåˆ¶<br>     http&#x2F;1.1ï¼š1ä¸ªTCPåŒæ—¶åªèƒ½å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œæµè§ˆå™¨ä¸ºæ¯ä¸ªåŸŸåç»´æŠ¤6ä¸ªtcpè¿æ¥<br>     http2ï¼šå¯ä»¥å¹¶è¡Œè¯·æ±‚èµ„æºï¼Œæµè§ˆå™¨åªä¼šä¸ºæ¯ä¸ªåŸŸåç»´æŠ¤1ä¸ªtcpè¿æ¥</p></li><li><p>å»ºç«‹TCPè¿æ¥<br>     ä¸‰æ¬¡æ¡æ‰‹</p></li><li><p>å‘é€HTTPè¯·æ±‚<br>     è¯·æ±‚è¡Œï¼šè¯·æ±‚æ–¹æ³•ã€è¯·æ±‚URLã€HTTPç‰ˆæœ¬åè®®ï¼›è¯·æ±‚å¤´ï¼›è¯·æ±‚ä½“</p></li></ol><h4 id="æœåŠ¡å™¨å¤„ç†HTTPè¯·æ±‚æµç¨‹"><a href="#æœåŠ¡å™¨å¤„ç†HTTPè¯·æ±‚æµç¨‹" class="headerlink" title="æœåŠ¡å™¨å¤„ç†HTTPè¯·æ±‚æµç¨‹"></a>æœåŠ¡å™¨å¤„ç†HTTPè¯·æ±‚æµç¨‹</h4><ol><li>è¿”å›è¯·æ±‚<br> å“åº”è¡Œã€å“åº”å¤´ã€å“åº”ä½“</li><li>æ–­å¼€è¿æ¥<br>    Connection:Keep-Alive</li><li>é‡å®šå‘<br>    å“åº”å¤´ä¸­Locationå­—æ®µï¼šé‡å®šå‘åœ°å€</li></ol><p>è®¸å¤šç½‘ç«™ç¬¬äºŒæ¬¡æ‰“å¼€é€Ÿåº¦å¿«</p><blockquote><p>DNSç¼“å­˜ã€é¡µé¢èµ„æºç¼“å­˜<br>DNSç¼“å­˜ï¼šæµè§ˆå™¨æœ¬åœ°çš„IPå’ŒåŸŸåæ˜ å°„<br>é¡µé¢èµ„æºç¼“å­˜ï¼šå“åº”å¤´Cache-Control:Max-age&#x3D;2000</p></blockquote><h3 id="HTTPç‰ˆæœ¬åŒºåˆ«"><a href="#HTTPç‰ˆæœ¬åŒºåˆ«" class="headerlink" title="HTTPç‰ˆæœ¬åŒºåˆ«"></a>HTTPç‰ˆæœ¬åŒºåˆ«</h3><h4 id="http1-1"><a href="#http1-1" class="headerlink" title="http1.1"></a>http1.1</h4><p>http1.1æ˜¯ç›®å‰ä¸»æµçš„httpåè®®ç‰ˆæœ¬</p><ul><li>æŒä¹…åŒ–é“¾æ¥ é€šè¿‡keep-aliveæ¥è®¾ç½®</li><li>ç®¡é“æœºåˆ¶ï¼ŒåŒä¸€ä¸ªtpcè¿æ¥å®¢æˆ·ç«¯å¯ä»¥å‘å¤šä¸ªè¯·æ±‚</li><li>æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œé€šè¿‡è¯·æ±‚å¤´çš„Range</li><li>æ”¯æŒchunked æ•°æ®åˆ†å—ï¼Œbodyé‡Œé¢åˆ†å— åˆ©äºå¤§æ–‡ä»¶ä¼ è¾“ Transfer-Encoding: chunked</li></ul><h4 id="http2-0"><a href="#http2-0" class="headerlink" title="http2.0"></a>http2.0</h4><ul><li>äºŒè¿›åˆ¶åˆ†å¸§</li><li>å¤´éƒ¨å‹ç¼© HPACKç®—æ³• å“ˆå¤«æ›¼ç¼–ç </li><li>å¤šè·¯å¤ç”¨ è§£å†³é˜Ÿå¤´é˜»å¡</li><li>æœåŠ¡å™¨æ¨é€</li><li>è¯·æ±‚ä¼˜å…ˆçº§</li></ul><p>tipï¼š <code>é˜Ÿå¤´é˜»å¡</code>: HTTPå¼€å¯é•¿è¿æ¥ï¼Œå…¬ç”¨ä¸€ä¸ªTCPè¿æ¥ï¼Œå½“æŸä¸ªè¯·æ±‚æ—¶é—´è¿‡é•¿ï¼Œå…¶å®ƒè¯·æ±‚åªèƒ½å¤„äºé˜»å¡çŠ¶æ€<br>è§£å†³æ–¹æ¡ˆï¼š 1. å¹¶å‘è¿æ¥ 2.åŸŸååˆ†ç‰‡</p><h3 id="HTTPå’ŒHTTPSçš„åŒºåˆ«"><a href="#HTTPå’ŒHTTPSçš„åŒºåˆ«" class="headerlink" title="HTTPå’ŒHTTPSçš„åŒºåˆ«"></a>HTTPå’ŒHTTPSçš„åŒºåˆ«</h3><ol><li>ç«¯å£å·ä¸åŒï¼Œhttpæ˜¯80 httpsæ˜¯443</li><li>httpséœ€è¦CAè¯ä¹¦</li><li>httpä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œhttpsæ˜¯ç”±ssl+httpåè®®æ„å»ºå¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®</li></ol><h4 id="æ¸²æŸ“æµæ°´çº¿"><a href="#æ¸²æŸ“æµæ°´çº¿" class="headerlink" title="æ¸²æŸ“æµæ°´çº¿"></a>æ¸²æŸ“æµæ°´çº¿</h4><p>1.æ„å»ºDOMæ ‘ï¼šæµè§ˆå™¨æ— æ³•ç›´æ¥è¯†åˆ«HTMLè¯­è¨€ï¼Œè®²HTMLè½¬ä¸ºæµè§ˆå™¨å¯ä»¥è¯†åˆ«çš„DOMæ ‘ï¼Œdocument<br>2.æ ·å¼è®¡ç®—ï¼š åŒä¸Šã€‚document.styleSheets<br>    1.è§£æä¸º<code>styleSheets</code><br>    2.è½¬æ¢æ ·å¼è¡¨ä¸­çš„å±æ€§å€¼ -&gt; æ ‡å‡†åŒ– ï¼ˆcolor: #ffffff -&gt; color: rgb(255,255,255)ï¼‰<br>    3.è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹å…·ä½“æ ·å¼ï¼ˆCSSç»§æ‰¿ã€å±‚å ï¼‰<br>        ç»§æ‰¿ï¼šå­èŠ‚ç‚¹ç»§æ‰¿çˆ¶èŠ‚ç‚¹æ ·å¼<br>        å±‚å ï¼šæ ·å¼å åŠ ã€æ ·å¼å±æ€§ç›¸åŒæ ¹æ®ä¼˜å…ˆçº§<br>        ç›’å­çš„æœ€ç»ˆæ ·å¼ï¼šä¾‹å¦‚Chromeï¼šF12-&gt;Elements-&gt;Computed<br>3.å¸ƒå±€é˜¶æ®µï¼š<br>    1.åˆ›å»ºå¸ƒå±€æ ‘ï¼šéå†DOMæ ‘çš„å¯è§èŠ‚ç‚¹ï¼Œä¾‹å¦‚headæ ‡ç­¾ã€display:noneã€visibility: hiddenç­‰å°±ä¼šè¢«æ’é™¤<br>4.åˆ†å±‚ï¼š3Dã€æ»šåŠ¨ã€z-indexã€fixedç­‰ï¼šæ¸²æŸ“å¼•æ“ä¸ºç‰¹å®šçš„èŠ‚ç‚¹ç”Ÿæˆä¸“ç”¨å›¾å±‚ï¼Œç”Ÿæˆä¸€é¢—å¯¹åº”çš„å›¾å±‚æ ‘ï¼ˆLayerTreeï¼‰<br>    ä¾‹å¦‚Chrome: F12-&gt; â€¦ -&gt;More tools -&gt;Layers<br>    1.æ‹¥æœ‰å±‚å ä¸Šä¸‹æ–‡å±æ€§çš„å…ƒç´ ä¼šå•ç‹¬ä¸€å±‚<br>    2.éœ€è¦å‰ªè£çš„åœ°æ–¹ä¹Ÿä¼šè¢«åˆ›å»ºä¸ºå›¾å±‚<br>5.æ …æ ¼åŒ–<br>    åˆæˆçº¿ç¨‹ä¼šå°†å›¾å±‚åˆ’åˆ†ä¸ºå›¾å—ï¼ˆ256<em>256ã€512</em>512)<br>    åˆæˆçº¿ç¨‹ä¼šæŒ‰ç…§è§†å£é™„è¿‘çš„å›¾å—ä¼˜å…ˆç”Ÿæˆä½å›¾ï¼Œå®é™…ç”Ÿæˆçš„ä½å›¾æ“ä½œå®é™…æ˜¯ç”±æ …æ ¼åŒ–æ¥æ‰§è¡Œçš„<br>    æ …æ ¼åŒ–ï¼šå°†å›¾å—è½¬æ¢ä¸ºä½å›¾ï¼Œä½¿ç”¨GPUç”Ÿæˆçš„ä½å›¾çš„è¿‡ç¨‹ç§°ä¸ºå¿«é€Ÿæ …æ ¼åŒ–ã€æˆæˆçš„ä½å›¾ä¿å­˜åœ¨GPUå†…å­˜ä¸­ã€<br>6.åˆæˆå’Œæ˜¾ç¤º<br>    æ‰€æœ‰å›¾å—éƒ½è¢«å…‰æ …åŒ–ï¼Œåˆæˆçº¿ç¨‹-&gt;DrawQuadå‘½ä»¤-&gt;æµè§ˆå™¨è¿›ç¨‹ï¼ˆå°†é¡µé¢å†…å®¹ç»˜åˆ¶åˆ°å†…å­˜ä¸­ï¼Œå†æ˜¾ç¤ºåˆ°é¡µé¢ä¸Šï¼‰</p><h4 id="é‡ç»˜ã€é‡æ’ã€åˆæˆ"><a href="#é‡ç»˜ã€é‡æ’ã€åˆæˆ" class="headerlink" title="é‡ç»˜ã€é‡æ’ã€åˆæˆ"></a>é‡ç»˜ã€é‡æ’ã€åˆæˆ</h4><p>çŸ¥è¯†ç‚¹ï¼š <code>é‡ç»˜</code>ã€<code>é‡æ’</code>ã€<code>åˆæˆ</code><br>é‡ç»˜ï¼šæ¯”å¦‚æ ·å¼ä¿®æ”¹ï¼šèƒŒæ™¯è‰²ä¿®æ”¹ -&gt; ä¸ä¼šå½±å“å¸ƒå±€é˜¶æ®µå’Œåˆ†å±‚é˜¶æ®µ<br>é‡æ’ï¼šæ¯”å¦‚æ ·å¼ä¿®æ”¹ï¼šé«˜åº¦ -&gt; å½±å“å¸ƒå±€  æ–°å¢BFC -&gt; å½±å“å¸ƒå±€ã€åˆ†å±‚<br>å¯¹æ¯”ï¼šé‡ç»˜æ¯”é‡æ’å¿«-&gt;é‡ç»˜ç›¸æ¯”é‡æ’ æ²¡æœ‰layoutã€layeré˜¶æ®µ</p><p>åˆæˆï¼šæµè§ˆå™¨æ¸²æŸ“è·³è¿‡layoutã€layeré˜¶æ®µçš„æ“ä½œ<br>ä¸¾ä¾‹ï¼štransformå±æ€§ -&gt; æ‰€ä»¥transformæ¥å®ç°åŠ¨ç”»æ•ˆæœè¦å¥½ä¸€äº›</p><h3 id="æµè§ˆå™¨ç¼“å­˜"><a href="#æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜"></a>æµè§ˆå™¨ç¼“å­˜</h3><p>æµè§ˆå™¨ç¼“å­˜çš„æ–¹å¼å¯ä»¥å‡å°‘ç½‘ç»œå¸¦å®½ã€é™ä½æœåŠ¡å™¨çš„å‹åŠ›ã€å‡å°‘ç½‘ç»œå»¶è¿Ÿã€åŠ å¿«é¡µé¢æ‰“å¼€é€Ÿåº¦<br>å¸¸è§çš„ç¼“å­˜æœ‰<code>å¼ºç¼“å­˜</code>å’Œ<code>åå•†ç¼“å­˜</code></p><h4 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h4><p>å¼ºç¼“å­˜ï¼šç¬¬ä¸€æ¬¡è¯»å–åˆ°æœåŠ¡å™¨æ•°æ®åï¼Œåœ¨è®¾ç½®çš„è¿‡æœŸæ—¶é—´å†…éƒ½ä¸ä¼šå»é‡å¤è¯·æ±‚ï¼Œè€Œæ˜¯ä»æœ¬åœ°ç¼“å­˜å»è¯»å–ã€‚<br>æœ¬åœ°ç¼“å­˜æœ‰<code>memory cache</code>ã€<code>disk cache</code><br><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb1327b93985435484e1b3ca6da9f2ce~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p><ul><li>memory cacheä¸€èˆ¬ç¼“å­˜å›¾ç‰‡ã€æ ·å¼ã€å­—ä½“ï¼Œé€€å‡ºè¿›ç¨‹æ•°æ®å°±æ¸…é™¤äº†</li><li>disk cacheä¸€èˆ¬ç¼“å­˜è„šæœ¬ï¼Œå­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šï¼Œéœ€è¦æ‰‹åŠ¨æ¸…é™¤</li></ul><p>å¼ºç¼“å­˜ä¼˜å…ˆçº§é«˜äºåå•†ç¼“å­˜ï¼Œé€šè¿‡è®¾ç½®å“åº”å¤´æ§åˆ¶èµ„æºå¼ºç¼“å­˜ï¼Œä½¿ç”¨å¼ºç¼“å­˜ï¼Œä¸éœ€è¦è¯·æ±‚æœåŠ¡å™¨ã€‚</p><p>Cache-Control: max-age&#x3D;3600 ç›¸å¯¹æ—¶é—´ï¼Œå•ä½ç§’<br>Expires: Mon, 14 Mar 2023 08:00:00 GMT å…·ä½“çš„æ—¶é—´ï¼Œå•ä½ç§’</p><p>åŒæ—¶ä½¿ç”¨ï¼ŒCache-Controlçš„ä¼˜å…ˆçº§é«˜</p><h4 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h4><p>åå•†ç¼“å­˜å’Œå¼ºç¼“å­˜ä¸åŒå°±æ˜¯æ¯æ¬¡éƒ½ä¼šè·ŸæœåŠ¡å™¨é€šä¿¡ï¼Œå¹¶å¸¦ä¸Šç¼“å­˜æ ‡è¯†ï¼ˆ<code>if-Modified-Since</code> &#x2F; <code>if-None-Match</code>ï¼‰<br>æµç¨‹ï¼š</p><ol><li>æµè§ˆå™¨å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œè¯·æ±‚åŒ…å«ä¸€ä¸ªèµ„æºçš„URLå’Œä¸€äº›ç¼“å­˜ç›¸å…³çš„å¤´éƒ¨ä¿¡æ¯ï¼Œä¾‹å¦‚<code>if-None-Match</code> æˆ–è€…<code>if-Modified-Since</code></li><li>æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ£€æŸ¥å¤´éƒ¨ä¿¡æ¯ï¼Œç¡®å®šæµè§ˆå™¨æ˜¯å¦æœ‰èµ„æºçš„æœ€æ–°ç‰ˆæœ¬</li><li>å¦‚æœæ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œè¿”å›304çŠ¶æ€ç å’Œç©ºçš„å“åº”ä½“ï¼Œå‘Šè¯‰æµè§ˆå™¨ä½¿ç”¨ç¼“å­˜èµ„æº</li><li>ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œè¿”å›200çŠ¶æ€ç å’Œæ–°çš„å“åº”ä½“ï¼Œå‘Šè¯‰æµè§ˆå™¨æ›´æ–°ç¼“å­˜èµ„æº</li></ol><blockquote><p>æµè§ˆå™¨è¯·æ±‚åå•†ç¼“å­˜å‘½ä¸­ï¼Œåˆ™çŠ¶æ€ç ä¸º <code>304</code></p></blockquote><p>Last-Modifiedå’ŒEtagçš„åŒºåˆ«ï¼š</p><ol><li>Last-Modifiedä¸èƒ½å¯¹1sä¹‹å†…çš„èµ„æºå˜åŠ¨è¿›è¡Œåˆ¤æ–­</li><li>Etagæ¯ä¸€æ¬¡éƒ½æ˜¯ä¸€ä¸ªæ–°çš„Hashå€¼</li></ol><h4 id="å¯å‘å¼ç¼“å­˜"><a href="#å¯å‘å¼ç¼“å­˜" class="headerlink" title="å¯å‘å¼ç¼“å­˜"></a>å¯å‘å¼ç¼“å­˜</h4><p>å¯å‘å¼ç¼“å­˜ï¼šæµè§ˆå™¨è‡ªå¸¦çš„ç¼“å­˜ç­–ç•¥ï¼Œæ¯ä¸ªæµè§ˆå™¨å˜ç°å„ä¸ç›¸åŒã€‚</p><blockquote><p>å¦‚æœè¯·æ±‚å¤´æ²¡è®¾ç½®Expireså’ŒCache-controlä½†æ˜¯å“åº”å¤´è¿”å›äº†Last-Modifiedä¿¡æ¯ï¼Œè¿™ç§æµè§ˆå™¨ä¼šå¯ç”¨è‡ªå¸¦çš„ç¼“å­˜ç­–ç•¥ï¼š<code>(å½“å‰æ—¶é—´ - Last-Modified)*0.1</code>;</p></blockquote><h2 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h2><h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><p><a href="https://beta.reactjs.org/">Reactå®˜æ–¹æ–‡æ¡£</a></p><h4 id="Reactæ¶æ„"><a href="#Reactæ¶æ„" class="headerlink" title="Reactæ¶æ„"></a>Reactæ¶æ„</h4><h5 id="React-1"><a href="#React-1" class="headerlink" title="React"></a>React</h5><blockquote><p>çŸ¥è¯†ç‚¹<br>ä¸»æµæµè§ˆå™¨åˆ·æ–°é¢‘ç‡60Hzï¼Œæ¯ï¼ˆ1000ms&#x2F;60Hzï¼‰<code>16.6ms</code>æµè§ˆå™¨åˆ·æ–°ä¸€æ¬¡<br>æ¸²æŸ“çº¿ç¨‹å’ŒJSçº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼ŒJSæ‰§è¡Œä¼šä¸­æ–­æ¸²æŸ“è¿›ç¨‹<br>åœ¨æµè§ˆå™¨åˆ·æ–°ä¸€æ¬¡çš„16.6msæ—¶é—´ä¸­ï¼Œå®ƒéœ€è¦å®Œæˆï¼šJSè„šæœ¬æ‰§è¡Œ-&gt;æ ·å¼å¸ƒå±€-&gt;æ ·å¼ç»˜åˆ¶<br>å½“JSæ‰§è¡Œæ—¶é—´è¶…è¿‡16.6msé‚£ä¹ˆæ ·å¼å¸ƒå±€å’Œæ ·å¼ç»˜åˆ¶çš„å¤„ç†å°±æ²¡æœ‰åœ¨æ­¤æ¬¡åˆ·æ–°ä¸­æ‰§è¡Œ</p></blockquote><p>react15ï¼šæ ˆå®ç°ã€åŒæ­¥æ›´æ–°ã€åè°ƒå™¨åŒæ­¥ã€é€’å½’æ‰§è¡Œ<br>Stack reconcilerï¼ˆåè°ƒå™¨ï¼‰ï¼šæ‰§è¡Œå‡½æ•°ç»„ä»¶ã€classç»„ä»¶å°†JSXè½¬ä¸ºDOMæ ‘ï¼ˆdiffç®—æ³•ã€æŒ‚è½½ã€å¸è½½ã€æ›´æ–°ï¼‰<br>Rendererï¼ˆæ¸²æŸ“å™¨ï¼‰ï¼šè´Ÿè´£å°†å˜åŒ–ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š</p><p>react16: Fibeã€æ‰å¹³åŒ–çš„å•é“¾è¡¨çš„æ•°æ®ç»“æ„rã€å¯ä¸­æ–­çš„å¼‚æ­¥æ›´æ–°ã€å¾ªç¯è¿­ä»£<br>Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰ã€Reconcilerï¼ˆåè°ƒå™¨ï¼‰ã€Rendererï¼ˆæ¸²æŸ“å™¨ï¼‰</p><p>è°ƒåº¦å™¨ï¼šæµè§ˆå™¨æ˜¯å¦æœ‰å‰©ä½™æ—¶é—´ï¼Œæµè§ˆå™¨APIï¼ˆrequestIdleCallbackï¼‰<br>let yieldInterval &#x3D; 5; æºç ä¸º5æ¯«ç§’</p><p>åŒç¼“å†²æŠ€æœ¯ï¼šç±»ä¼¼è®¡ç®—æœºå›¾å½¢å­¦ ä¸­çš„ åŒç¼“å†²ç­–ç•¥<br>ç”»å›¾å‘ˆç°åˆ°å±å¹•çš„è¿‡ç¨‹ -&gt; åˆ›å»ºä½å›¾å¯¹è±¡ï¼Œæ“ä½œä½å›¾å¯¹è±¡ï¼Œæœ€åå†å‘ˆç°ä½å›¾å¯¹è±¡</p><ul><li>WIPæ ‘ï¼ˆworkInProgress treeï¼‰</li><li>WIPèŠ‚ç‚¹ä¸æ˜¯å…¨éƒ¨æ–°çš„ã€‚å¦‚æœæŸé¢—å­æ ‘ä¸éœ€è¦å˜åŠ¨ï¼Œç›´æ¥å¤ç”¨</li><li>å¼‚å¸¸å¤„ç†ï¼Œæœ‰å¼‚å¸¸ç»§ç»­ä½¿ç”¨æ—§æ ‘</li><li>WIPä»æ—§æ ‘forkå‡ºæ¥ï¼Œç¬¬äºŒé˜¶æ®µcommit</li></ul><h3 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h3><p><a href="https://cn.vuejs.org/">Vueå®˜æ–¹æ–‡æ¡£</a></p><h4 id="Vue2å’ŒVue3å®ç°åŒå‘ç»‘å®šçš„åŸç†"><a href="#Vue2å’ŒVue3å®ç°åŒå‘ç»‘å®šçš„åŸç†" class="headerlink" title="Vue2å’ŒVue3å®ç°åŒå‘ç»‘å®šçš„åŸç†"></a>Vue2å’ŒVue3å®ç°åŒå‘ç»‘å®šçš„åŸç†</h4><p>Vue2ä½¿ç”¨Object.defineProptyã€Vue3ä½¿ç”¨Proxy</p><h4 id="Vueçš„Apié£æ ¼"><a href="#Vueçš„Apié£æ ¼" class="headerlink" title="Vueçš„Apié£æ ¼"></a>Vueçš„Apié£æ ¼</h4><p>Options APIå’ŒComposition APIã€‚</p><ul><li>é€‰é¡¹å¼APIæ˜¯åœ¨ç»„åˆå¼APIåŸºç¡€ä¸Šå®ç°çš„ã€‚Options APIä»¥ç»„ä»¶å®ä¾‹çš„æ¦‚å¿µä¸ºä¸­å¿ƒã€‚</li><li>Composition API å¸¸é…åˆ <code>&lt;script setup&gt;</code>,ä½¿ç”¨ç»„åˆå‡½æ•°å¯ä»¥å¾ˆå¥½çš„ç»„ç»‡å’Œé‡ç”¨é€»è¾‘ã€‚</li></ul><p>Composition API å¯ä»¥é‡ç”¨é€»è¾‘ï¼ŒVue2å°±ä¸å¯ä»¥é‡ç”¨é€»è¾‘å—ï¼Ÿ</p><p>Vue2é€»è¾‘å¤ç”¨æœºåˆ¶æ˜¯mixinsï¼ˆæ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼‰ï¼Œç”¨äºæ‰©å……çˆ¶ç»„ä»¶çš„å¯¹è±¡å’Œæ–¹æ³•ã€‚</p><p>mixinsçš„ç¼ºç‚¹ï¼šè¦†ç›–æ€§ä¼šå¯¼è‡´ä¸ç¨³å®šæ€§ï¼Œæ“ä½œä¸å½“ä¼šé€ æˆå…¨å±€æ±¡æŸ“</p><h4 id="Vueçš„computedå’Œwatch"><a href="#Vueçš„computedå’Œwatch" class="headerlink" title="Vueçš„computedå’Œwatch"></a>Vueçš„computedå’Œwatch</h4><ul><li>computed åªæœ‰åœ¨ä¾èµ–çš„å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œè€Œ watch åˆ™æ˜¯åœ¨è¢«ç›‘å¬çš„å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</li><li>computed ä¸€èˆ¬ç”¨äºè®¡ç®—å’Œå¤„ç†æ•°æ®ï¼Œè€Œ watch ä¸€èˆ¬ç”¨äºç›‘å¬æ•°æ®çš„å˜åŒ–å¹¶æ‰§è¡Œä¸€äº›å‰¯ä½œç”¨ï¼Œå¦‚å¼‚æ­¥æ“ä½œã€ç•Œé¢æ›´æ–°ç­‰ã€‚</li></ul><h2 id="å·¥ç¨‹åŒ–"><a href="#å·¥ç¨‹åŒ–" class="headerlink" title="å·¥ç¨‹åŒ–"></a>å·¥ç¨‹åŒ–</h2><h3 id="babelç›¸å…³"><a href="#babelç›¸å…³" class="headerlink" title="babelç›¸å…³"></a>babelç›¸å…³</h3><h4 id="babelçš„ç¼–è¯‘æµç¨‹"><a href="#babelçš„ç¼–è¯‘æµç¨‹" class="headerlink" title="babelçš„ç¼–è¯‘æµç¨‹"></a>babelçš„ç¼–è¯‘æµç¨‹</h4><p>babelçš„ç¼–è¯‘æµç¨‹å¯ä»¥åˆ†åˆ«ï¼šè§£æã€è½¬æ¢ã€ç”Ÿæˆ</p><ul><li>è§£æï¼šä½¿ç”¨@babel&#x2F;parserï¼Œè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œè¯æ³•åˆ†æä¸ºæ ‡è®°åŒ–è½¬ä¸ºtokenizationï¼Œè¯­æ³•åˆ†æä¸ºè½¬æ¢ä¸ºASTæ ‘</li><li>è½¬æ¢ï¼šä½¿ç”¨@babel&#x2F;traverse, ASTè¿›è¡Œæ·±åº¦éå†å¹¶è¿›è¡Œå„ç§å¢åˆ æ”¹</li><li>ç”Ÿæˆï¼šä½¿ç”¨@babel&#x2F;generator, AST -&gt; code</li></ul><h4 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h4><p>Babelé»˜è®¤åªæ˜¯è½¬æ¢ç®­å¤´å‡½æ•°ï¼Œè€Œlet Promiseã€includesè¿™äº›æ²¡æœ‰è½¬æ¢</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//è½¬æ¢å‰ï¼š</span><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//è½¬è½¬æ¢åï¼š</span><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> item <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote><p>BabelæŠŠJavaScriptè¯­æ³•åˆ†ä¸º<code>è¯­æ³•</code>å’Œ<code>api</code>,è¯­æ³•åœ¨JavaScriptä¸­è¿è¡Œæ—¶æ˜¯æ— æ³•é‡å†™çš„ã€‚è€Œapiå°±å¯ä»¥æ”¯æŒæ–¹æ³•é‡å†™</p></blockquote><p>Babelåªå¯¹è¯­æ³•è¿›è¡Œå¤„ç†ï¼Œå¯¹äºapiå°±ä½¿ç”¨polyfillæ¨¡å—è¿›è¡Œå¤„ç†çš„ï¼Œç”±äºpolyfillä½“ç§¯å¤ªå¤§ï¼Œä½¿ç”¨babel7æä¾›çš„useBuiltIns:(false, entry, usage: æŒ‰éœ€æ·»åŠ )<br>@babel&#x2F;runtime, @babel&#x2F;plugin-transform-runtime æŠŠ helpers å’Œ polyfill åŠŸèƒ½æ‹†åˆ†äº†ã€‚é»˜è®¤åªæä¾› helpers</p><h3 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h3><h4 id="webpackè‡ªåŠ¨ç¼–è¯‘çš„ä¸‰ç§æ–¹å¼"><a href="#webpackè‡ªåŠ¨ç¼–è¯‘çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="webpackè‡ªåŠ¨ç¼–è¯‘çš„ä¸‰ç§æ–¹å¼"></a>webpackè‡ªåŠ¨ç¼–è¯‘çš„ä¸‰ç§æ–¹å¼</h4><ol><li>watch mode è§‚å¯Ÿæ¨¡å¼</li><li>webpack-dev-server webæœåŠ¡å™¨</li><li>webpack-dev-middleware webpackä¸­é—´ä»¶ + express</li></ol><h4 id="webpackçš„çƒ­æ›´æ–°"><a href="#webpackçš„çƒ­æ›´æ–°" class="headerlink" title="webpackçš„çƒ­æ›´æ–°"></a>webpackçš„çƒ­æ›´æ–°</h4><p><strong>ä»€ä¹ˆæ˜¯runtimeï¼Ÿ</strong><br>runtime åŒ…å«ï¼šåœ¨æ¨¡å—äº¤äº’æ—¶ï¼Œè¿æ¥æ¨¡å—æ‰€éœ€çš„åŠ è½½å’Œè§£æé€»è¾‘ã€‚åŒ…æ‹¬æµè§ˆå™¨ä¸­çš„å·²åŠ è½½æ¨¡å—çš„è¿æ¥ï¼Œä»¥åŠæ‡’åŠ è½½æ¨¡å—çš„æ‰§è¡Œé€»è¾‘</p><p><strong>ä»€ä¹ˆæ˜¯manifestï¼Ÿ</strong><br>å½“ <code>compiler</code> å¼€å§‹æ‰§è¡Œã€è§£æå’Œæ˜ å°„åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šä¿ç•™æ‰€æœ‰æ¨¡å—çš„è¯¦ç»†è¦ç‚¹ã€‚è¿™ä¸ªæ•°æ®é›†åˆç§°ä¸º â€œ<code>manifest</code>â€œ<br>å½“å®Œæˆæ‰“åŒ…å¹¶å‘é€åˆ°æµè§ˆå™¨æ—¶ï¼Œä¼šåœ¨è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰é€šè¿‡ Manifest æ¥è§£æå’ŒåŠ è½½æ¨¡å—ã€‚<br>æ— è®ºä½ é€‰æ‹©å“ªç§æ¨¡å—è¯­æ³•ï¼Œé‚£äº›importæˆ–requireè¯­å¥ç°åœ¨éƒ½å·²ç»è½¬æ¢ä¸º__webpack_require__æ–¹æ³•ï¼Œæ­¤æ–¹æ³•æŒ‡å‘æ¨¡å—æ ‡è¯†ç¬¦<br><strong>é€šè¿‡ä½¿ç”¨ <code>manifest</code> ä¸­çš„æ•°æ®ï¼Œ<code>runtime</code> å°†èƒ½å¤ŸæŸ¥è¯¢æ¨¡å—æ ‡è¯†ç¬¦ï¼Œæ£€ç´¢å‡ºèƒŒåå¯¹åº”çš„æ¨¡å—ã€‚</strong></p><p>æ€»ç»“ï¼š </p><ol><li>webpack-dev-serverä¼šåˆ›å»ºä¸¤ä¸ªæœåŠ¡-&gt;expressçš„httpæœåŠ¡å’Œweb socketæœåŠ¡ ï¼ˆsockjså»ºç«‹webSocketé•¿è¿æ¥ï¼‰</li><li>webpackç›‘å¬åˆ°æ–‡ä»¶æˆ–æ¨¡å—å˜åŒ–æ—¶ä¼šé‡æ–°ç¼–è¯‘æ‰“åŒ…ï¼Œç”Ÿæˆçš„hashå€¼</li><li>é€šè¿‡HMR runtimeä¸­çš„checkæ–¹æ³•æ‹¿åˆ°hashå€¼å‘serverç«¯å‘é€ajaxè¯·æ±‚å’Œjsonpè¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯ä¼šè¿”å›ä¸€ä¸ªjsonæ–‡ä»¶(manifest)å’Œjsæ–‡ä»¶(update chunk)<br> ajaxè¯·æ±‚jsonæ–‡ä»¶  jsonpè¯·æ±‚jsæ¨¡å—æ–‡ä»¶</li><li>é€šè¿‡è¿”å›çš„jsonæ–‡ä»¶åŒ…å«çš„hashå€¼æ¥è·å–æœ€æ–°æ¨¡å—ä»£ç ï¼Œå†åˆ©ç”¨runtimeæœºåˆ¶è¿›è¡Œçƒ­æ›´æ–°</li></ol><p>å¦‚æœæœªé…ç½®çƒ­æ›´æ–°ä¼šåœ¨ç¬¬äºŒæ­¥åèµ°ä»¥ä¸‹æ“ä½œ<br>é€šè¿‡webSocketå‘é€çš„typeä¸ºokæ—¶ï¼Œç›´æ¥æ‰§è¡Œreloadæ“ä½œï¼Œåˆ·æ–°æµè§ˆå™¨</p><p>webpackçš„çƒ­æ›´æ–°çš„åŸæ–‡é“¾æ¥ï¼š <a href="https://zhuanlan.zhihu.com/p/30669007">https://zhuanlan.zhihu.com/p/30669007</a></p><h3 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h3><p><a href="https://cn.vitejs.dev/">https://cn.vitejs.dev/</a><br>ä½¿ç”¨åŸç”ŸESMæ–‡ä»¶ï¼Œæ— éœ€æ‰“åŒ…<br>è¶…å¿«çš„çƒ­é‡è½½</p><p>å‚è€ƒï¼š<a href="https://zhuanlan.zhihu.com/p/424842555">https://zhuanlan.zhihu.com/p/424842555</a></p><h4 id="webpackä¼˜åŒ–æ–¹æ¡ˆ"><a href="#webpackä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="webpackä¼˜åŒ–æ–¹æ¡ˆ"></a>webpackä¼˜åŒ–æ–¹æ¡ˆ</h4><ol><li><code>SplitChunksPlugin</code>ä»£ç å—åˆ†å‰²</li><li>æ¨¡å—æ‡’åŠ è½½<code>import()</code> -&gt; æ¯”å¦‚routeræ–‡ä»¶<br> whyï¼šå¦‚æœæ¨¡å—ä¸æ‡’åŠ è½½ï¼Œæœ€ç»ˆä»£ç ä¼šè¢«æ‰“åŒ…åˆ°ä¸€ä¸ªjsæ–‡ä»¶ä¸­ã€‚</li><li>ä½¿ç”¨import() æ—¶ï¼Œä½¿ç”¨<code>/* webpackPrefetch: ture*/</code></li><li><code>css-minimizer-webpack-plugin</code> ï¼šä½¿ç”¨<a href="https://www.cssnano.cn/">cssnano</a> ä¼˜åŒ–å‹ç¼©CSS</li><li><code>terser-webpack-plugin</code>ï¼šå‹ç¼©JSï¼Œwebpack5é»˜è®¤è‡ªå¸¦ï¼Œè‡ªå®šä¹‰é…ç½®éœ€å®‰è£…</li><li><code>devServer.compress: true</code> <a href="https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/">gzip compression</a></li></ol><h3 id="CI-x2F-CD"><a href="#CI-x2F-CD" class="headerlink" title="CI&#x2F;CD"></a><strong>CI&#x2F;CD</strong></h3><p>æŒç»­é›†æˆï¼ˆContinuous Integrationï¼ŒCIï¼‰å’Œ æŒç»­äº¤ä»˜ï¼ˆContinuous Deliveryï¼ŒCDï¼‰ï¼Œæ˜¯è½¯ä»¶ç”Ÿäº§é¢†åŸŸæå‡è¿­ä»£æ•ˆç‡çš„ä¸€ç§å·¥ä½œæ–¹å¼ï¼šå¼€å‘äººå‘˜æäº¤ä»£ç åç”± CI&#x2F;CD ç³»ç»Ÿè‡ªåŠ¨åŒ–åœ°æ‰§è¡Œåˆå¹¶ã€æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²ç­‰ä¸€ç³»åˆ—ç®¡é“åŒ–ï¼ˆPipelineï¼‰çš„æµç¨‹ï¼Œä»è€Œå°½æ—©å‘ç°å’Œåé¦ˆä»£ç é—®é¢˜ï¼Œä»¥å°æ­¥å¿«è·‘çš„æ–¹å¼åŠ é€Ÿè½¯ä»¶çš„ç‰ˆæœ¬è¿­ä»£è¿‡ç¨‹ã€‚</p><h2 id="Hybrid-App"><a href="#Hybrid-App" class="headerlink" title="Hybrid App"></a>Hybrid App</h2><p>ç›®å‰é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯åŸºäº<a href="https://github.com/marcuswestin/WebViewJavascriptBridge">WebViewJavaScriptBridge</a></p><h3 id="Hybrid-Appçš„ä¼˜ç¼ºç‚¹"><a href="#Hybrid-Appçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="Hybrid Appçš„ä¼˜ç¼ºç‚¹"></a>Hybrid Appçš„ä¼˜ç¼ºç‚¹</h3><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ol><li>ä¸å—é™åº”ç”¨å•†åº—å®¡æ ¸ï¼Œç›´æ¥éƒ¨ç½²åˆ°çº¿ä¸Šç¯å¢ƒã€‚</li><li>é¡µé¢æœ‰å˜åŠ¨ï¼Œä¸éœ€è¦é‡æ–°ä¸‹è½½APP</li><li>éƒ¨åˆ†é¡µé¢ç”±H5åšï¼Œå‡å°‘APPæ‰“åŒ…ä½“ç§¯</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol><li>æ¯æ¬¡éœ€æ±‚éœ€èŠ±æ—¶é—´ç†æ¸…å“ªéƒ¨åˆ†ä¸ºAPPé¡µé¢ï¼Œå“ªéƒ¨åˆ†ä¸ºH5é¡µé¢</li><li>H5åœ¨ç§»åŠ¨ç«¯ä¸Šå¾ˆå¤šIOSå’ŒAndroidçš„UIå…¼å®¹æ€§é—®é¢˜</li></ol><h3 id="JSBrige"><a href="#JSBrige" class="headerlink" title="JSBrige"></a>JSBrige</h3><p>H5 -&gt; IOSï¼š è¯·æ±‚æ‹¦æˆª <strong>URL scheme</strong></p><p>åœ¨H5ä¸­å‘èµ·è¯·æ±‚æ–¹å¼ä¸€èˆ¬æœ‰location.hrefå’Œiframeï¼Œä½¿ç”¨iframeæ–¹å¼</p><blockquote><p>è¿ç»­å¤šæ¬¡ä¿®æ”¹window.location.hrefçš„å€¼ï¼ŒNativeå±‚åªèƒ½æ¥å—åˆ°æœ€åä¸€æ¬¡è¯·æ±‚ã€‚</p></blockquote><pre class="language-none"><code class="language-none">var WVJBIframe &#x3D; document.createElement(&#39;iframe&#39;);WVJBIframe.style.display &#x3D; &#39;none&#39;;WVJBIframe.src &#x3D; &#39;wvjbscheme:&#x2F;&#x2F;__BRIDGE_LOADED__&#39;;document.documentElement.appendChild(WVJBIframe);setTimeout(function () &#123;    document.documentElement.removeChild(WVJBIframe);&#125;, 0);</code></pre><p>IOSç«¯æ‹¦æˆªè¯·æ±‚ï¼Œè§£æã€æ‰§è¡ŒåŸç”Ÿæ–¹æ³•</p><p>å®¢æˆ·ç«¯å’ŒH5é€šä¿¡ï¼š <strong>windowæ³¨å…¥</strong></p><p>H5éœ€è¦å…ˆæ³¨å†Œç›‘å¬äº‹ä»¶ï¼ŒåŸç”Ÿåœ¨æŸä¸ªæ—¶åˆ»è°ƒç”¨jsçš„window.WebViewJavascriptBridgeå¯¹è±¡é‡Œæ–¹æ³•ã€‚</p><h3 id="å“åº”å¼è®¾è®¡"><a href="#å“åº”å¼è®¾è®¡" class="headerlink" title="å“åº”å¼è®¾è®¡"></a>å“åº”å¼è®¾è®¡</h3><p>å“åº”å¼ç½‘é¡µè®¾è®¡æ˜¯è®©WEBé¡µé¢é€‚åº”ä¸åŒå±å¹•çš„å®½åº¦ã€‚</p><p>åª’ä»‹æŸ¥è¯¢ â†’ <code>@media screen</code></p><p>çµæ´»ç½‘æ ¼ â†’ ç™¾åˆ†æ¯”(%)</p><p>ç°ä»£å¸ƒå±€æŠ€æœ¯ â†’ å¤šæ å¸ƒå±€ï¼ˆ<code>column-count</code>ï¼‰ã€<code>flex</code>ã€ <code>grid</code></p><p>å“åº”å¼æ’ç‰ˆ â†’ remã€vhã€vw</p><p>è§†å£å…ƒæ ‡ç­¾ â†’ <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;</code></p><p>remå®ç°</p><ul><li>æ’ä»¶ <strong>postcss-pxtorem</strong> + <strong><strong>amfe-flexible</strong></strong></li><li>æ‰‹åŠ¨ä¿®æ”¹</li></ul><pre class="language-jsx" data-language="jsx"><code class="language-jsx">function convert() &#123;  const documentElement &#x3D; document.documentElement;  &#x2F;&#x2F; è®¾è®¡å›¾é»˜è®¤å­—ä½“16, å±å®½375. å¼€å‘æ—¶æŒ‰è®¾è®¡å›¾å¤§å°ç¼–ç å³å¯.  documentElement.style.fontSize &#x3D;    (16 * documentElement.clientWidth) &#x2F; 375 + &#39;px&#39;;&#125;export function pxToRem(px: number) &#123;  return px &#x2F; 16 + &#39;rem&#39;;&#125;export default function() &#123;  window.addEventListener(&#39;resize&#39;, convert, false);  convert();&#125;</code></pre><h2 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h2><h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><p>JavaScriptä¸­çš„å•ä¾‹æ¨¡å¼ï¼šå•ä¾‹æ¨¡å¼æ ¸å¿ƒ -&gt; ç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæä¾›å…¨å±€è®¿é—®</p><h3 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h3><p>è§‚å¯Ÿè€…æ¨¡å¼ï¼šå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥ã€‚<br>åœ¨jså¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨<code>äº‹ä»¶æ¨¡å‹</code>æ¥ä»£æ›¿ä¼ ç»Ÿçš„å‘å¸ƒ-è®¢é˜…æ¨¡å¼</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> react </tag>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±æµ…æ‹·è´æ–¹æ³•æ€»ç»“</title>
      <link href="/2022/11/06/%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"/>
      <url>/2022/11/06/%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="æ·±æ‹·è´ä¸æµ…æ‹·è´ç®€ä»‹ï¼š"><a href="#æ·±æ‹·è´ä¸æµ…æ‹·è´ç®€ä»‹ï¼š" class="headerlink" title="æ·±æ‹·è´ä¸æµ…æ‹·è´ç®€ä»‹ï¼š"></a>æ·±æ‹·è´ä¸æµ…æ‹·è´ç®€ä»‹ï¼š</h2><blockquote><p>æ·±æ‹·è´: æ·±æ‹·è´æ˜¯å°†ä¸€ä¸ªå¯¹è±¡ä»å†…å­˜ä¸­å®Œæ•´çš„æ‹·è´ä¸€ä»½å‡ºæ¥,ä»å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªæ–°çš„åŒºåŸŸå­˜æ”¾æ–°å¯¹è±¡,ä¸”ä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šå½±å“åŸå¯¹è±¡ã€‚</p></blockquote><blockquote><p>æµ…æ‹·è´: æµ…æ‹·è´æ˜¯åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ç€åŸå§‹å¯¹è±¡å±æ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚å¦‚æœå±æ€§æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œå¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ ï¼Œæ‰€ä»¥å¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªåœ°å€ï¼Œå°±ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p></blockquote><h3 id="æµ…æ‹·è´å¸¸è§æ–¹æ³•"><a href="#æµ…æ‹·è´å¸¸è§æ–¹æ³•" class="headerlink" title="æµ…æ‹·è´å¸¸è§æ–¹æ³•"></a>æµ…æ‹·è´å¸¸è§æ–¹æ³•</h3><p>æµ…æ‹·è´å¸¸è§æ–¹æ³•ï¼š æ•°ç»„çš„slice()ã€concat()ã€Array.from()ã€Object.assign()ã€â€¦(æ‹“å±•è¿ç®—ç¬¦)ã€é€’å½’æ–¹å¼å®ç°</p><h4 id="æ–¹æ³•ä¸€ï¼šslice"><a href="#æ–¹æ³•ä¸€ï¼šslice" class="headerlink" title="æ–¹æ³•ä¸€ï¼šslice()"></a>æ–¹æ³•ä¸€ï¼šslice()</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript">   <span class="token keyword">let</span> testArr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> shallowClone1 <span class="token operator">=</span> testArr1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>shallowClone1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">666</span><span class="token punctuation">;</span>shallowClone1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'boy'</span><span class="token punctuation">;</span>shallowClone1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">111</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallowClone1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 666, 2, &#123; name: 'boy' &#125;, [111, 22] ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testArr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 1, 2, &#123; name: 'boy' &#125;, [111, 22] ]</span><span class="token comment">// é€šè¿‡ç»“æœçœ‹å‡ºè‹¥æ•°ç»„ä¸€å±‚çš„åŸºç¡€æ•°æ®ç±»å‹è¿›è¡Œæµ…æ‹·è´ï¼Œæ˜¯ç›´æ¥ç‹¬ç«‹å‡ºæ¥çš„ç©ºé—´ã€‚å¼•ç”¨æ•°æ®ç±»å‹åˆ™ä¸æ˜¯ã€‚</span></code></pre><h4 id="æ–¹æ³•äºŒï¼š-concat"><a href="#æ–¹æ³•äºŒï¼š-concat" class="headerlink" title="æ–¹æ³•äºŒï¼š concat()"></a>æ–¹æ³•äºŒï¼š concat()</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> testArr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> shallowClone2 <span class="token operator">=</span> testArr2<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>shallowClone2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testArr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallowClone2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [11, 2, 3]</span></code></pre><h4 id="æ–¹æ³•ä¸‰ï¼š-Array-from"><a href="#æ–¹æ³•ä¸‰ï¼š-Array-from" class="headerlink" title="æ–¹æ³•ä¸‰ï¼š Array.from()"></a>æ–¹æ³•ä¸‰ï¼š Array.from()</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> testArr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> shallowClone6 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>testArr3<span class="token punctuation">,</span> <span class="token parameter">item</span>  <span class="token operator">=></span> item<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™é‡Œæ˜¯array.fromçš„ç»“æœ'</span><span class="token punctuation">)</span> <span class="token comment">//Array.from() æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallowClone6<span class="token punctuation">)</span> <span class="token comment">//[2, 4, 6]</span></code></pre><h4 id="æ–¹å¼å››-Object-assign"><a href="#æ–¹å¼å››-Object-assign" class="headerlink" title="æ–¹å¼å›› Object.assign()"></a>æ–¹å¼å›› Object.assign()</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//é¡¹ç›®ä¸­å¸¸ç”¨</span><span class="token keyword">let</span> testObj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">let</span> shallowClone3 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> testObj1<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testObj1<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "echo", age: 6, c: &#123; sex: 1 &#125;&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallowClone3<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "echo", age: 9, c: &#123; sex: 1 &#125;&#125;</span><span class="token comment">//å¯¹å¯¹è±¡çš„å¼•ç”¨</span>shallowClone3<span class="token punctuation">.</span>c<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token number">0</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testObj1<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "echo", age: 6, c: &#123; sex: 0 &#125;&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallowClone3<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "echo", age: 6, c: &#123; sex: 0 &#125;&#125;</span><span class="token comment">//ä»ç»“æœä¸­å¯ä»¥çœ‹å‡º æµ…æ‹·è´çš„æ–¹å¼å¯¹å¼•ç”¨ç±»å‹è¿›è¡Œä¿®æ”¹ä¼šå½±å“æºæ•°æ®</span></code></pre><h4 id="æ–¹å¼äº”-â€¦-æ‹“å±•è¿ç®—ç¬¦"><a href="#æ–¹å¼äº”-â€¦-æ‹“å±•è¿ç®—ç¬¦" class="headerlink" title="æ–¹å¼äº” â€¦ (æ‹“å±•è¿ç®—ç¬¦)"></a>æ–¹å¼äº” â€¦ (æ‹“å±•è¿ç®—ç¬¦)</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> testObj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo2'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">like</span><span class="token operator">:</span> <span class="token string">'code'</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> shallowClone4 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span>testObj2<span class="token punctuation">&#125;</span>shallowClone4<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">9</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testObj2<span class="token punctuation">)</span> <span class="token comment">//&#123;name: "echo2", age: 6&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallowClone4<span class="token punctuation">)</span> <span class="token comment">//&#123;name: "echo2", age: 9&#125;</span><span class="token comment">//å¯¹è±¡çš„å¼•ç”¨</span>shallowClone4<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>like <span class="token operator">=</span> <span class="token string">'JavaScript'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testObj2<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "echo2", age: 6, obj: &#123; like: 'JavaScript'&#125;&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shallowClone4<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "echo2", age: 6, obj: &#123; like: 'JavaScript'&#125;&#125;</span></code></pre><h4 id="æ–¹å¼å…­ï¼šé€’å½’å®ç°"><a href="#æ–¹å¼å…­ï¼šé€’å½’å®ç°" class="headerlink" title="æ–¹å¼å…­ï¼šé€’å½’å®ç°"></a>æ–¹å¼å…­ï¼šé€’å½’å®ç°</h4> <pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">shallowClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> cloneTarget <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            cloneTarget<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> cloneTarget<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h3 id="æ·±æ‹·è´å¸¸è§å®ç°æ–¹å¼"><a href="#æ·±æ‹·è´å¸¸è§å®ç°æ–¹å¼" class="headerlink" title="æ·±æ‹·è´å¸¸è§å®ç°æ–¹å¼"></a>æ·±æ‹·è´å¸¸è§å®ç°æ–¹å¼</h3><blockquote><p>ä¸ºè§£å†³ æµ…æ‹·è´å¯¹å¼•ç”¨æ•°æ®ç±»å‹æ“ä½œæ”¹å˜äº†æºæ•°æ®ï¼Œé‡‡ç”¨æ·±æ‹·è´æ¥è§£å†³é—®é¢˜</p></blockquote><h4 id="æ–¹å¼ä¸€ï¼š-JSON-parse-JSON-srtingfy"><a href="#æ–¹å¼ä¸€ï¼š-JSON-parse-JSON-srtingfy" class="headerlink" title="æ–¹å¼ä¸€ï¼š JSON.parse(JSON.srtingfy())"></a>æ–¹å¼ä¸€ï¼š JSON.parse(JSON.srtingfy())</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// é€šè¿‡JSON.srtingfy()å°†æ•°æ®è½¬ä¸ºjsonæ ¼å¼ï¼Œé€šè¿‡JSON.parse()è§£æjosnæ•°æ®</span><span class="token comment">// å¼Šç«¯ï¼š </span>    <span class="token comment">// 1. æ— æ³•å¯¹Dateã€RegExpã€Errorå¯¹è±¡è¿›è¡Œæ·±æ‹·è´</span>    <span class="token comment">// 2. æ— æ³•å¯¹å‡½æ•°</span>    <span class="token comment">// 3. æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨</span>    <span class="token comment">// 4. å¦‚æœobjé‡Œæœ‰NaNã€Infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜æˆnull</span><span class="token keyword">let</span> testObj3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lufei'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">like</span><span class="token operator">:</span> <span class="token string">'code'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">let</span> deepClone1 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>testObj3<span class="token punctuation">)</span><span class="token punctuation">)</span>deepClone1<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>like <span class="token operator">=</span> <span class="token string">'girl'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testObj3<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "lufei", age: 6, obj: &#123; like: 'code'&#125;&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>deepClone1<span class="token punctuation">)</span> <span class="token comment">// &#123;name: "lufei", age: 6, obj: &#123; like: 'girl'&#125;&#125;</span></code></pre><h4 id="æ–¹å¼äºŒï¼š-é€’å½’å®ç°"><a href="#æ–¹å¼äºŒï¼š-é€’å½’å®ç°" class="headerlink" title="æ–¹å¼äºŒï¼š é€’å½’å®ç°"></a>æ–¹å¼äºŒï¼š é€’å½’å®ç°</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">let</span> objTwo <span class="token operator">=</span>  Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span>  <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            objTwo<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> objTwo<span class="token punctuation">&#125;</span><span class="token keyword">let</span> ooo <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">222</span><span class="token punctuation">,</span> <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">haha</span><span class="token operator">:</span> <span class="token string">'å“ˆå“ˆ'</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">deepClone</span><span class="token punctuation">(</span>ooo<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'åŸå§‹å€¼å’Œå¼•ç”¨å€¼ Array.from'</span><span class="token punctuation">)</span><span class="token comment">//ç±»æ•°ç»„</span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token number">0</span><span class="token operator">:</span><span class="token string">'1'</span><span class="token punctuation">,</span>    <span class="token number">1</span><span class="token operator">:</span><span class="token string">'2'</span><span class="token punctuation">,</span>    <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> objArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">'No.'</span> <span class="token operator">+</span> item<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objArr<span class="token punctuation">)</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token operator">===</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">function</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'echo'</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> oi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>oi<span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæŠ€å·§ï¼šå¾ªç¯ã€éå†ã€è¿­ä»£</title>
      <link href="/2021/07/27/JS%E6%8A%80%E5%B7%A7%EF%BC%9A%E5%BE%AA%E7%8E%AF%E3%80%81%E9%81%8D%E5%8E%86%E3%80%81%E8%BF%AD%E4%BB%A3/"/>
      <url>/2021/07/27/JS%E6%8A%80%E5%B7%A7%EF%BC%9A%E5%BE%AA%E7%8E%AF%E3%80%81%E9%81%8D%E5%8E%86%E3%80%81%E8%BF%AD%E4%BB%A3/</url>
      
        <content type="html"><![CDATA[<p>å¤§å®¶å¥½, æˆ‘æ˜¯echo. ä¸€ååˆšæ¯•ä¸šçš„åº”å±Šç”Ÿ.æœ€è¿‘å†å­¦ä¹ Vueæºç å’Œçœ‹å°é»„ä¹¦ä¸Šå·.ä»å¹³æ—¶æ‘¸é±¼ä¸­å­¦ä¹ ä¸€äº›jsæŠ€å·§å’Œä¸€äº›é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ.<br>åœ¨è¿™é‡Œ,åˆ†äº«è‡ªå·±çš„ä¸€äº›çš„è§£å†³æ–¹æ¡ˆå’Œä¸€äº›æ•°ç»„å¾ªç¯ã€éå†å’Œè¿­ä»£çš„çŸ¥è¯†åˆ†äº«.æœ‰ä¸å¯¹çš„åœ°æ–¹å’Œæœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ,è¯·å¤§ä½¬ç§¯ææŒ‡å‡º.</p><p>æœ¬æ–‡ä¸»è¦ä»¥å®ä¾‹å¼•å…¥, â€œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œâ€ã€‚æ›´å¥½çš„è®°å¿†è«è¿‡äºcoding.</p><h4 id="1-è¾“å…¥ä»»æ„ä¸¤ä¸ªæ•°å€¼æ•°ç»„æ±‚äº¤é›†"><a href="#1-è¾“å…¥ä»»æ„ä¸¤ä¸ªæ•°å€¼æ•°ç»„æ±‚äº¤é›†" class="headerlink" title="1. è¾“å…¥ä»»æ„ä¸¤ä¸ªæ•°å€¼æ•°ç»„æ±‚äº¤é›†"></a>1. è¾“å…¥ä»»æ„ä¸¤ä¸ªæ•°å€¼æ•°ç»„æ±‚äº¤é›†</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token keyword">const</span> brr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span></code></pre><h5 id="1-1-æ–¹æ³•ä¸€-æ ¸å¿ƒfilteræ–¹æ³•"><a href="#1-1-æ–¹æ³•ä¸€-æ ¸å¿ƒfilteræ–¹æ³•" class="headerlink" title="1.1 æ–¹æ³•ä¸€ æ ¸å¿ƒfilteræ–¹æ³•"></a>1.1 æ–¹æ³•ä¸€ æ ¸å¿ƒfilteræ–¹æ³•</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">?.</span>length <span class="token operator">></span> b<span class="token operator">?.</span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">changeArr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">changeArr</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">changeArr</span><span class="token punctuation">(</span><span class="token parameter">arrMax<span class="token punctuation">,</span> arrMin</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> arrMin<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>arrMax<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> value<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><h5 id="1-2-æ–¹æ³•äºŒ-æ ¸å¿ƒfindæ–¹æ³•"><a href="#1-2-æ–¹æ³•äºŒ-æ ¸å¿ƒfindæ–¹æ³•" class="headerlink" title="1.2 æ–¹æ³•äºŒ æ ¸å¿ƒfindæ–¹æ³•"></a>1.2 æ–¹æ³•äºŒ æ ¸å¿ƒfindæ–¹æ³•</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> brr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">let</span> midArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>brr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=></span> val <span class="token operator">===</span> value <span class="token operator">&amp;&amp;</span> midArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>midArr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> brr<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="2-æ±‚æ•°å€¼æ•°ç»„çš„æœ€å¤§æ•°å€¼"><a href="#2-æ±‚æ•°å€¼æ•°ç»„çš„æœ€å¤§æ•°å€¼" class="headerlink" title="2.æ±‚æ•°å€¼æ•°ç»„çš„æœ€å¤§æ•°å€¼"></a>2.æ±‚æ•°å€¼æ•°ç»„çš„æœ€å¤§æ•°å€¼</h4><h5 id="2-1-æ–¹å¼ä¸€-æ ¸å¿ƒsortæ–¹æ³•"><a href="#2-1-æ–¹å¼ä¸€-æ ¸å¿ƒsortæ–¹æ³•" class="headerlink" title="2.1 æ–¹å¼ä¸€ æ ¸å¿ƒsortæ–¹æ³•"></a>2.1 æ–¹å¼ä¸€ æ ¸å¿ƒsortæ–¹æ³•</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo0'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo1'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo2'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">findMaxArrNum</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> b<span class="token punctuation">.</span>age<span class="token operator">-</span>a<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ±‚æœ€å°å€¼b-a æ”¹ä¸ºa-b</span><span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">findMaxArrNum</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="2-2-æ–¹å¼äºŒ-æ ¸å¿ƒMathå†…ç½®å¯¹è±¡æ–¹æ³•"><a href="#2-2-æ–¹å¼äºŒ-æ ¸å¿ƒMathå†…ç½®å¯¹è±¡æ–¹æ³•" class="headerlink" title="2.2 æ–¹å¼äºŒ æ ¸å¿ƒMathå†…ç½®å¯¹è±¡æ–¹æ³•"></a>2.2 æ–¹å¼äºŒ æ ¸å¿ƒMathå†…ç½®å¯¹è±¡æ–¹æ³•</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> maxNum <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> minNum <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>maxNum<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>minNum<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="2-3-æ–¹å¼ä¸‰"><a href="#2-3-æ–¹å¼ä¸‰" class="headerlink" title="2.3 æ–¹å¼ä¸‰"></a>2.3 æ–¹å¼ä¸‰</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">é’ˆå¯¹ç®€å•æ•°å€¼çš„æ•°ç»„ä½¿ç”¨sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">ã€reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">ã€slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>è¿›è¡Œç»„åˆè·å–<span class="token punctuation">;</span></code></pre><h4 id="3-åˆ¤æ–­æ˜¯å¦æ˜¯åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹"><a href="#3-åˆ¤æ–­æ˜¯å¦æ˜¯åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹" class="headerlink" title="3.åˆ¤æ–­æ˜¯å¦æ˜¯åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹"></a>3.åˆ¤æ–­æ˜¯å¦æ˜¯åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="4-åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€èˆ¬çš„objectå¯¹è±¡"><a href="#4-åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€èˆ¬çš„objectå¯¹è±¡" class="headerlink" title="4.åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€èˆ¬çš„objectå¯¹è±¡"></a>4.åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€èˆ¬çš„objectå¯¹è±¡</h4><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"[object Object]"</span><span class="token punctuation">;</span></code></pre><h4 id="5-æ•°ç»„å‰”é™¤ç©ºå…ƒç´ "><a href="#5-æ•°ç»„å‰”é™¤ç©ºå…ƒç´ " class="headerlink" title="5.æ•°ç»„å‰”é™¤ç©ºå…ƒç´ "></a>5.æ•°ç»„å‰”é™¤ç©ºå…ƒç´ </h4><p>éœ€æ±‚: é’ˆå¯¹æ•°ç»„ä¸­è·å–åˆ°çš„æ•°æ®ï¼Œå‰”é™¤æ‰nullã€undefinedã€â€œâ€</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> uuArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>uuArr<span class="token punctuation">,</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> item<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[undefined, undefined, undefined, undefined, undefined, 8]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uuArr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, null, 2, undefined, "", 8]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uuArr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 8]</span></code></pre><h4 id="6-æ•°ç»„éå†"><a href="#6-æ•°ç»„éå†" class="headerlink" title="6. æ•°ç»„éå†"></a>6. æ•°ç»„éå†</h4><h5 id="6-1-filter-ã€find"><a href="#6-1-filter-ã€find" class="headerlink" title="6.1 filter()ã€find()"></a>6.1 filter()ã€find()</h5><p>å¯¹äºæˆ‘ä»¬æƒ³å¯¹æ•°ç»„å†…çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œåˆ¤æ–­åˆ™å¯ä»¥ä½¿ç”¨forEach()<br>å¸¸è§å¤„ç†æ•°ç»„éƒ½ç±»ä¼¼å¦‚ä¸‹æ•°ç»„</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> uArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo0'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo1'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">66</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'echo2'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">666</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span>uArr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>age <span class="token operator">></span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰å…ƒç´ </span>uArr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>age <span class="token operator">></span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´  æ‰¾åˆ°ç„¶åå°±return item</span></code></pre><h5 id="6-2-some-ã€every"><a href="#6-2-some-ã€every" class="headerlink" title="6.2 some()ã€every()"></a>6.2 some()ã€every()</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript">uArr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>age <span class="token operator">></span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŸ¥æ‰¾åˆ°ä»»ä¸€å…ƒç´ æ»¡è¶³å³return item ps: è¿”å›çš„æ˜¯å¸ƒå°”å€¼</span>uArr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>age <span class="token operator">></span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ•°ç»„ä¸­ä»»æ„å…ƒç´ ä¸æ»¡è¶³æ¡ä»¶åˆ™è¿”å›false éƒ½æ»¡è¶³è¿”å›true psï¼šè¿”å›çš„æ˜¯å¸ƒå°”å€¼</span></code></pre><h5 id="6-3-for-inã€-for-of"><a href="#6-3-for-inã€-for-of" class="headerlink" title="6.3 for inã€ for of"></a>6.3 for inã€ for of</h5><h5 id="6-3-1-forâ€¦in"><a href="#6-3-1-forâ€¦in" class="headerlink" title="6.3.1 forâ€¦in"></a>6.3.1 forâ€¦in</h5><blockquote><p>forâ€¦inè¯­å¥ä»¥ä»»æ„é¡ºåºéå†ä¸€ä¸ªå¯¹è±¡çš„é™¤Symbolä»¥å¤–çš„å¯æšä¸¾å±æ€§ã€‚</p></blockquote><p>ä¾‹å¦‚:</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> myObject <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>myObject<span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>myObject<span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObject<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b'</span> <span class="token keyword">in</span> myObject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObject<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> myObject<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> myObject<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// a 2 (for in éå†å¾—æ˜¯å¯æšä¸¾çš„)</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> firstMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'echo'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">let</span> firstSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> firstSet<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//key in firstMap</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstSet<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¯¹äºMapå’ŒSet for inæ˜¯ä¸è¡Œçš„ MDNæ–‡æ¡£ä»‹ç» å¯ä»¥ä½¿ç”¨for of è¿›è¡Œè¿­ä»£</span></code></pre><h5 id="6-3-2-forâ€¦of"><a href="#6-3-2-forâ€¦of" class="headerlink" title="6.3.2 forâ€¦of"></a>6.3.2 forâ€¦of</h5><blockquote><p>forâ€¦ofè¯­å¥åœ¨å¯è¿­ä»£å¯¹è±¡ï¼ˆåŒ…æ‹¬ Arrayï¼ŒMapï¼ŒSetï¼ŒStringï¼ŒTypedArrayï¼Œarguments å¯¹è±¡ç­‰ç­‰ï¼‰ä¸Šåˆ›å»ºä¸€ä¸ªè¿­ä»£å¾ªç¯ï¼Œè°ƒç”¨è‡ªå®šä¹‰è¿­ä»£é’©å­ï¼Œå¹¶ä¸ºæ¯ä¸ªä¸åŒå±æ€§çš„å€¼æ‰§è¡Œè¯­å¥</p></blockquote><p>å¯è¿­ä»£å¯¹è±¡çš„åŸå‹å¯¹è±¡ä¸Šéƒ½æœ‰ä¸€ä¸ªSymbol.iterator æ–¹æ³•</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> myObject<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//TypeError: myObject is not iterable</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="6-3-3-å°ç»“"><a href="#6-3-3-å°ç»“" class="headerlink" title="6.3.3 å°ç»“"></a>6.3.3 å°ç»“</h5><ol><li>forâ€¦inéå†å¯¹è±¡â€¦(<code>å¯æšä¸¾</code>)å±æ€§ (obj éå†çš„æ˜¯ key, array éå†çš„æ˜¯ ä¸‹æ ‡)</li><li>forâ€¦inéå†é¡ºåºæ˜¯<code>æ— åº</code>çš„å°½é‡ä½¿ç”¨äºå¯¹è±¡(ç±»æ•°ç»„å°†æ— åºè½¬ä¸ºæœ‰åº)</li><li>forâ€¦oféå†çš„<code>å¯è¿­ä»£</code>å¯¹è±¡ (Objectç±»å‹ä¸è¡Œ éå†çš„æ˜¯value)</li></ol><h4 id="7-ç”Ÿæˆå™¨"><a href="#7-ç”Ÿæˆå™¨" class="headerlink" title="7 ç”Ÿæˆå™¨"></a>7 ç”Ÿæˆå™¨</h4><h5 id="7-1-ç”Ÿæˆå™¨å‡½æ•°"><a href="#7-1-ç”Ÿæˆå™¨å‡½æ•°" class="headerlink" title="7.1 ç”Ÿæˆå™¨å‡½æ•°"></a>7.1 ç”Ÿæˆå™¨å‡½æ•°</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> iteratorObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">makeRangeIterator</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">yield</span> value<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">makeRangeIterator</span><span class="token punctuation">(</span>iteratorObj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//makeRangeIterator &#123;&lt;suspended>&#125; è¿”å›çš„æ˜¯ä¸€ä¸ªGeneratorè¿­ä»£å™¨</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//console.log(a.next())</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: 2, done: false&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: undefined, done: true&#125;</span></code></pre><h5 id="7-2-å®ç°iterator"><a href="#7-2-å®ç°iterator" class="headerlink" title="7.2 å®ç°iterator"></a>7.2 å®ç°iterator</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> index <span class="token operator">>=</span> arr<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">value</span><span class="token operator">:</span> arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">let</span> ioio <span class="token operator">=</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ioio<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: 1, done: false&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ioio<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: 2, done: false&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ioio<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: 3, done: false&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ioio<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: undefined, done: true&#125;</span></code></pre><h4 id="8-æ•°ç»„æ±‚å’Œ"><a href="#8-æ•°ç»„æ±‚å’Œ" class="headerlink" title="8. æ•°ç»„æ±‚å’Œ"></a>8. æ•°ç»„æ±‚å’Œ</h4><p>const prr &#x3D; [1, 2, 3, 4, 5, 6];</p><h5 id="8-1-reduce"><a href="#8-1-reduce" class="headerlink" title="8.1 reduce()"></a>8.1 reduce()</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript">prr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=></span>  accumulator <span class="token operator">+</span> currentValue<span class="token punctuation">)</span> <span class="token comment">// 21</span></code></pre><h5 id="8-2-forEach"><a href="#8-2-forEach" class="headerlink" title="8.2 forEach()"></a>8.2 forEach()</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token number">0</span>prr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>total <span class="token operator">+=</span> value<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre><h4 id="9-æ‰å¹³åŒ–æ•°ç»„"><a href="#9-æ‰å¹³åŒ–æ•°ç»„" class="headerlink" title="9.æ‰å¹³åŒ–æ•°ç»„"></a>9.æ‰å¹³åŒ–æ•°ç»„</h4><p>let flattened &#x3D; [[0, 1], [2, 3], [5, 6]];</p><h5 id="9-1-flat"><a href="#9-1-flat" class="headerlink" title="9.1 flat()"></a>9.1 flat()</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript">flattened<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[0, 1, 2, 3, 5, 6]</span></code></pre><h6 id="9-1-1-flat-å®ç°-å•å±‚"><a href="#9-1-1-flat-å®ç°-å•å±‚" class="headerlink" title="9.1.1 flat()å®ç° å•å±‚"></a>9.1.1 flat()å®ç° å•å±‚</h6><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">myFlat</span><span class="token punctuation">(</span><span class="token parameter">brr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">let</span> unfoldArr <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> item <span class="token keyword">of</span> brr <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">?</span>  unfoldArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> unfoldArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> unfoldArr<span class="token punctuation">&#125;</span></code></pre><h6 id="9-1-2-flat-å®ç°-é€’å½’å®ç°å¤šå±‚"><a href="#9-1-2-flat-å®ç°-é€’å½’å®ç°å¤šå±‚" class="headerlink" title="9.1.2 flat()å®ç° é€’å½’å®ç°å¤šå±‚"></a>9.1.2 flat()å®ç° é€’å½’å®ç°å¤šå±‚</h6><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">myFlatMore</span><span class="token punctuation">(</span><span class="token parameter">brr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">let</span> unfoldArr <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> item <span class="token keyword">of</span> brr <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> unfoldArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token function">myFlatMore</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> unfoldArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> unfoldArr<span class="token punctuation">&#125;</span></code></pre><h5 id="9-2-reduce"><a href="#9-2-reduce" class="headerlink" title="9.2 reduce()"></a>9.2 reduce()</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript">flattened<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=></span> accumulator<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="10-â€¦ä»£æ›¿æ–‡å­—"><a href="#10-â€¦ä»£æ›¿æ–‡å­—" class="headerlink" title="10 â€¦ä»£æ›¿æ–‡å­—"></a>10 â€¦ä»£æ›¿æ–‡å­—</h4><h5 id="10-1-cssæ ·å¼"><a href="#10-1-cssæ ·å¼" class="headerlink" title="10.1 cssæ ·å¼"></a>10.1 cssæ ·å¼</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">width</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span><span class="token literal-property property">overflow</span><span class="token operator">:</span> hidden<span class="token punctuation">;</span>text<span class="token operator">-</span>overflow<span class="token operator">:</span> ellipsis<span class="token punctuation">;</span>white<span class="token operator">-</span>space<span class="token operator">:</span> nowrap<span class="token punctuation">;</span></code></pre><h5 id="10-2-æ–‡å­—åˆ‡å‰²åŠ æ‹¼æ¥"><a href="#10-2-æ–‡å­—åˆ‡å‰²åŠ æ‹¼æ¥" class="headerlink" title="10.2 æ–‡å­—åˆ‡å‰²åŠ æ‹¼æ¥"></a>10.2 æ–‡å­—åˆ‡å‰²åŠ æ‹¼æ¥</h5><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">textFormat</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> text<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'...'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">textFormat</span><span class="token punctuation">(</span><span class="token string">'JavaScript'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å†™åœ¨æœ€å:</p><p>å¹³å¹³å‡‘å‡‘å‡‘å¤Ÿ10æ¡,å¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©,å·©å›ºjsåŸºç¡€.å¦‚æœæ›´å¥½çš„æ–¹æ³•,å»ºè®®è¯„è®ºåˆ†äº«.ä¸€èµ·è¿›æ­¥,æˆä¸ºä¸€åä¼˜ç§€çš„å‰ç«¯å·¥ç¨‹å¸ˆã€‚</p><p>å¾€æœŸjsæ–‡ç« </p><p><a href="https://juejin.cn/post/6968686272877428744">æ·±æµ…æ‹·è´æ–¹æ³•æ€»ç»“ã€ç»ƒä¹ </a> </p><p><a href="https://juejin.cn/post/6969800612519084063">å‡ åˆ†é’Ÿäº†è§£jsçš„æ¨¡å—åŒ–ã€IFEE</a></p><p><a href="https://juejin.cn/post/6979812535557963784">JavaScriptå®ç°å°è£…ã€ç»§æ‰¿ã€å¤šæ€</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
